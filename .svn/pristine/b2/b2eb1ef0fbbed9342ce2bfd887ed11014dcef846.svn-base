"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[3322],{3322:(t,e,n)=>{n.r(e),n.d(e,{default:()=>I});var l=n(66252);function a(t,e,n,a,o,i){const r=(0,l.up)("BackButton"),u=(0,l.up)("ion-buttons"),s=(0,l.up)("ion-title"),m=(0,l.up)("ion-toolbar"),p=(0,l.up)("ion-header"),h=(0,l.up)("AlarmListItem"),c=(0,l.up)("ion-item-group"),d=(0,l.up)("ion-list"),g=(0,l.up)("ion-infinite-scroll-content"),y=(0,l.up)("ion-infinite-scroll"),w=(0,l.up)("ion-content"),f=(0,l.up)("ion-page");return(0,l.wg)(),(0,l.j4)(f,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"join-toolbar"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{slot:"start"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{onEvent:i.alarmPrevPage,custom:!0},null,8,["onEvent"])])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Uk)("알림")])),_:1})])),_:1})])),_:1}),(0,l.Wm)(w,{class:"ion-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{lines:"none"},{default:(0,l.w5)((()=>[(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.alarmList,(t=>((0,l.wg)(),(0,l.j4)(h,{key:t,item:t,onHandleRouterAlarm:e=>i.handleRouterAlarm(t)},null,8,["item","onHandleRouterAlarm"])))),128))])),_:1})])),_:1}),(0,l.Wm)(y,{threshold:"100px",onIonInfinite:i.ionInfinite},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{loadingText:"Please wait...",loadingSpinner:"bubbles"})])),_:1},8,["onIonInfinite"])])),_:1})])),_:1})}n(57658);var o=n(28151),i=n(3577);const r=t=>((0,l.dD)("data-v-caa393c8"),t=t(),(0,l.Cn)(),t),u=r((()=>(0,l._)("br",null,null,-1))),s={slot:"end"};function m(t,e,n,a,o,r){const m=(0,l.up)("ion-icon"),p=(0,l.up)("ion-text"),h=(0,l.up)("ion-label"),c=(0,l.up)("ion-item");return(0,l.wg)(),(0,l.j4)(c,{onClick:r.handleRouterAlarm},{default:(0,l.w5)((()=>["community"===n.item.pushType?((0,l.wg)(),(0,l.j4)(m,{key:0,slot:"start",icon:o.communityOutline,color:"light"},null,8,["icon"])):"communityChat"===n.item.pushType?((0,l.wg)(),(0,l.j4)(m,{key:1,slot:"start",icon:o.messageOutline,color:"light"},null,8,["icon"])):"openChat"===n.item.pushType?((0,l.wg)(),(0,l.j4)(m,{key:2,slot:"start",icon:o.opentChatOutline,color:"light"},null,8,["icon"])):"myLikeMatching"===n.item.pushType?((0,l.wg)(),(0,l.j4)(m,{key:3,slot:"start",icon:o.choiceOutline,color:"light"},null,8,["icon"])):(0,l.kq)("",!0),(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"sub-text01 text-bold text-sm"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(n.item.alarmNm),1)])),_:1}),u,(0,l.Wm)(p,{color:"light",class:"text-bold text-md"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(n.item.contents),1)])),_:1})])),_:1}),(0,l._)("div",s,[(0,l.Wm)(p,{color:"light",class:"text-xs"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(n.item.sendTimeMm),1)])),_:1})])])),_:1},8,["onClick"])}var p=n(24370),h=n(97226),c=n(57228),d=n(58982);const g={name:"AlarmListItem",props:{item:{type:Object}},data(){return{choiceOutline:p,opentChatOutline:h,communityOutline:c,messageOutline:d}},methods:{handleRouterAlarm(t){this.$emit("handleRouterAlarm",t.target.value)}}};var y=n(83744);const w=(0,y.Z)(g,[["render",m],["__scopeId","data-v-caa393c8"]]),f=w;function A(t,e,n,a,o,i){const r=(0,l.up)("ion-icon"),u=(0,l.up)("ion-text"),s=(0,l.up)("ion-label"),m=(0,l.up)("ion-item");return(0,l.wg)(),(0,l.j4)(m,{lines:"none"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{slot:"start",icon:o.alertIcon,color:"light"},null,8,["icon"]),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l._)("p",null,[(0,l.Wm)(u,{color:"danger"},{default:(0,l.w5)((()=>[(0,l.Uk)("“수위 높은 발언” 경고")])),_:1})]),(0,l._)("p",null,[(0,l.Wm)(u,{color:"light"},{default:(0,l.w5)((()=>[(0,l.Uk)(" 수위 높은 발언으로 인해 경고 1점이 누적되었습니다 ")])),_:1})])])),_:1})])),_:1})}var k=n(72926);const _={name:"AlarmAlertNotice",data(){return{alertIcon:k}}},T=(0,y.Z)(_,[["render",A],["__scopeId","data-v-8775a534"]]),x=T;var C=n(27783);const b={name:"Alarm",inject:["alertController","loadingController"],components:{IonInfiniteScroll:C.ju,IonInfiniteScrollContent:C.MB,AlarmListItem:f,AlarmAlertNotice:x},computed:{alarmList(){return this.$store.state.alarmList}},data(){return{nextNo:null}},mounted(){this.nextNo=null,this.getAlarmList(),this.setAlarmConfirm()},beforeUnmount(){},methods:{getAlarmList(){(0,o.Yu)({url:"/getAlarmList",param:{nextNo:this.nextNo},then:t=>{this.$store.state.alarmList=t,t.length>0&&(this.nextNo=t[t.length-1].alarmSeq)}})},setAlarmConfirm(){(0,o.Yu)({url:"/setAlarmConfirm",param:{},then:()=>{}})},ionInfinite(t){let e=this;setTimeout((function(){(0,o.Yu)({url:"/getAlarmList",param:{nextNo:e.nextNo},then:t=>{e.$nextTick((()=>{for(let n in t)e.$store.state.alarmList.push(t[n]);t.length>0&&(e.nextNo=t[t.length-1].alarmSeq)}))}}),t.target.complete()}),1e3)},handleRouterAlarm(t){"message"==t.pushType||"myLikeMatching"==t.pushType||"communityChat"==t.pushType?((0,o.UV)({chatroomId:t.pushKey,type:t.pushType,chatroomType:"first"}),this.$router.push("/messageTalk")):"openChat"==t.pushType?(0,o.Yu)({url:"/getAlarmOpenChatDel",param:{openChatKey:t.pushKey},then:e=>{this.$nextTick((()=>{"Y"!=e.delYn?((0,o.pR)({openChatKey:t.pushKey,type:t.pushType}),this.$router.push("/openChatView")):this.warningAlert(e.message)}))}}):"community"==t.pushType?(0,o.Yu)({url:"/getAlarmCommunityDel",param:{articleKey:t.pushKey},then:e=>{this.$nextTick((()=>{"Y"!=e.delYn?((0,o.y5)({article:t.pushKey,type:t.pushType}),this.$router.push("/communityView")):this.warningAlert(e.message)}))}}):"contestDetail"==t.pushType?(0,o.Yu)({url:"/getAlarmCommunityDel",param:{articleKey:t.pushKey},then:e=>{this.$nextTick((()=>{"Y"!=e.delYn?((0,o.y5)({article:t.pushKey,type:t.pushType}),this.$router.push("/contestDetail")):this.warningAlert(e.message)}))}}):"myLike"==t.pushType?this.$router.push("/myLike"):"else"==t.pushType&&this.$router.push("/alarm")},alarmPrevPage(){(0,o._S)({checkedAlarm:!0}),this.$router.go(-1)},async warningAlert(t){const e=await this.alertController.create({header:"",subHeader:"",message:t,buttons:["OK"]});return e.present()}}},v=(0,y.Z)(b,[["render",a]]),I=v},72926:(t,e,n)=>{t.exports=n.p+"img/icon_alert.dc827bb0.svg"}}]);
//# sourceMappingURL=3322-legacy.71ed1ac9.js.map