"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[1028],{2982:(e,t,n)=>{n.d(t,{Z:()=>s});var i=n(66252);function o(e,t,n,o,l,m){const a=(0,i.up)("ion-spinner");return(0,i.wg)(),(0,i.j4)(a,{name:"lines"})}const l={name:"PageLoadingCheck"};var m=n(83744);const a=(0,m.Z)(l,[["render",o]]),s=a},61028:(e,t,n)=>{n.r(t),n.d(t,{default:()=>Le});n(33948);var i=n(66252),o=n(3577);const l={class:"row-box"},m={class:"row-box"},a={key:0},s={class:"row-box"},d={class:"row-box"},r={key:0,class:"row-box"},u={key:0,class:"row-box"},c={key:0,class:"row-box"},h=(0,i._)("div",{style:{height:"100px","z-index":"-1"}},null,-1);function p(e,t,p,g,w,C){const y=(0,i.up)("BackButton"),b=(0,i.up)("ion-buttons"),k=(0,i.up)("ion-title"),I=(0,i.up)("ion-icon"),f=(0,i.up)("custom-button"),_=(0,i.up)("ion-item"),D=(0,i.up)("ion-list"),v=(0,i.up)("ion-content"),W=(0,i.up)("ion-popover"),F=(0,i.up)("ion-toolbar"),U=(0,i.up)("ion-header"),x=(0,i.up)("CommunityViewUserInfo"),B=(0,i.up)("ion-img"),T=(0,i.up)("ion-text"),$=(0,i.up)("CummunityViewThumbsUpDown"),Y=(0,i.up)("ion-item-group"),S=(0,i.up)("CommentAvatar"),A=(0,i.up)("CommentContent"),j=(0,i.up)("CommentReplyForm"),L=(0,i.up)("CommentItem"),N=(0,i.up)("CommentList"),V=(0,i.up)("EmptyBox"),P=(0,i.up)("PageLoadingCheck"),M=(0,i.up)("MessageModal"),E=(0,i.up)("CommunityViewSendComment"),K=(0,i.up)("ion-footer"),R=(0,i.up)("ion-page");return(0,i.wg)(),(0,i.j4)(R,null,{default:(0,i.w5)((()=>[(0,i.Wm)(U,null,{default:(0,i.w5)((()=>[(0,i.Wm)(F,null,{default:(0,i.w5)((()=>[(0,i.Wm)(b,{slot:"start"},{default:(0,i.w5)((()=>[(0,i.Wm)(y,{onEvent:C.goRouter,custom:!0},null,8,["onEvent"])])),_:1}),(0,i.Wm)(k,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(w.BoardDetail.boardNm),1)])),_:1}),(0,i.Wm)(b,{slot:"end"},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{id:"community-popover-button"},{default:(0,i.w5)((()=>[(0,i.Wm)(I,{slot:"icon-only",icon:w.menuIcon,color:"light"},null,8,["icon"])])),_:1}),(0,i.Wm)(W,{trigger:"community-popover-button","dismiss-on-select":!0,mode:"ios"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,null,{default:(0,i.w5)((()=>[(0,i.Wm)(D,{lines:"full"},{default:(0,i.w5)((()=>["Y"===w.BoardDetail.isRegYn?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Wm)(_,{button:!0,detail:!1,onClick:t[0]||(t[0]=e=>C.editCommunity(w.BoardDetail))},{default:(0,i.w5)((()=>[(0,i.Uk)("수정 ")])),_:1}),(0,i.Wm)(_,{button:!0,detail:!1,onClick:t[1]||(t[1]=e=>C.presentAlertConfirm("main"))},{default:(0,i.w5)((()=>[(0,i.Uk)("삭제 ")])),_:1})],64)):((0,i.wg)(),(0,i.j4)(_,{key:1,button:!0,detail:!1,onClick:t[2]||(t[2]=e=>C.policeBtn("main",w.BoardDetail))},{default:(0,i.w5)((()=>[(0,i.Uk)("신고 ")])),_:1}))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),!1!==w.lodingCheck?((0,i.wg)(),(0,i.j4)(v,{key:0,ref:"myContent"},{default:(0,i.w5)((()=>[(0,i.Wm)(Y,{class:"ion-padding"},{default:(0,i.w5)((()=>[w.BoardDetail?((0,i.wg)(),(0,i.j4)(x,{key:0,thumbnail:w.userPhotoId,detail:w.BoardDetail,bookmarkYn:w.bookmarkYn,disabled:!w.bookmarkCheckDisabled,onBookmark:C.bookmarkEvent,onHandleLetterBtn:C.letterBtn},null,8,["thumbnail","detail","bookmarkYn","disabled","onBookmark","onHandleLetterBtn"])):(0,i.kq)("",!0),(0,i._)("div",null,[(0,i._)("div",l,[null!==this.attr1?((0,i.wg)(),(0,i.j4)(B,{key:0,src:"https://"+w.attr1,onIonError:t[3]||(t[3]=e=>e.srcElement.src=n(7189))},null,8,["src"])):(0,i.kq)("",!0),null!==this.attr2?((0,i.wg)(),(0,i.j4)(B,{key:1,src:"https://"+w.attr2,onIonError:t[4]||(t[4]=e=>e.srcElement.src=n(7189))},null,8,["src"])):(0,i.kq)("",!0),null!==this.attr3?((0,i.wg)(),(0,i.j4)(B,{key:2,src:"https://"+w.attr3,onIonError:t[5]||(t[5]=e=>e.srcElement.src=n(7189))},null,8,["src"])):(0,i.kq)("",!0)]),(0,i._)("div",m,[(0,i._)("h3",null,[(0,i.Wm)(T,{color:"light",class:"text-xl text-bold"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(w.BoardDetail.title),1)])),_:1})]),w.BoardDetail.fileNm?((0,i.wg)(),(0,i.iD)("p",a,[(0,i.Wm)(T,{color:"light",class:"text-md text-bold"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(w.BoardDetail.fileNm),1)])),_:1})])):(0,i.kq)("",!0)]),(0,i._)("div",s,[(0,i._)("p",null,[(0,i.Wm)(T,{color:"light",class:"text-md"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(w.BoardDetail.content),1)])),_:1})])]),(0,i._)("div",d,[(0,i.Wm)($,{likeCnt:w.likeCnt,badCnt:w.badCnt,onUp:t[6]||(t[6]=e=>C.thumbsUpDown("up","main")),onDown:t[7]||(t[7]=e=>C.thumbsUpDown("down","main")),disabled:!w.mainUpDownCheckDisabled},null,8,["likeCnt","badCnt","disabled"])])])])),_:1}),(0,i.Wm)(N,{"item-list":w.commentList},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(w.commentList,((e,n)=>((0,i.wg)(),(0,i.j4)(L,{key:n},{avatar:(0,i.w5)((()=>[(0,i.Wm)(S,{thumbnail:e.cdnThumbNmIcon},null,8,["thumbnail"])])),content:(0,i.w5)((()=>[(0,i.Wm)(A,{isReply:!0,data:e,onUpdateComment:t=>C.commentReBtn("update",e),onDeleteComment:t=>C.presentAlertConfirm("comment",e),onPoliceComment:t=>C.policeBtn("comment",e),onReplyComment:t=>C.commentReBtn("re",e),onThumbsUp:t=>C.thumbsUpDown("up","comment",e.commentKey),onThumbsDown:t=>C.thumbsUpDown("down","comment",e.commentKey),onZoomImg:t=>C.openZoomedImage(e.cdnNm),disabled:!w.commentUpDownCheckDisabled},null,8,["data","onUpdateComment","onDeleteComment","onPoliceComment","onReplyComment","onThumbsUp","onThumbsDown","onZoomImg","disabled"]),w.updateComment===e&&"update"===w.reType?((0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(j,{value:e.contents,"onUpdate:value":t=>e.contents=t,reimgFileId:w.reimgFileId,reimgViewFileId:w.reimgViewFileId,onDeleteImg:t[8]||(t[8]=e=>C.imgDelete("reComment")),onAddPhoto:t[9]||(t[9]=e=>C.addPhoto("reComment")),onInput:t[10]||(t[10]=e=>C.limitComment(e)),onSendComment:t[11]||(t[11]=e=>C.commentBtn("update")),onHandelFocus:t[12]||(t[12]=e=>w.emptyBox=!0),onHandelBlur:t[13]||(t[13]=e=>w.emptyBox=!1)},null,8,["value","onUpdate:value","reimgFileId","reimgViewFileId"])])):(0,i.kq)("",!0)])),default:(0,i.w5)((()=>[w.reComment===e&&"re"===w.reType?((0,i.wg)(),(0,i.iD)("div",u,[(0,i.Wm)(j,{value:w.childComment,"onUpdate:value":t[14]||(t[14]=e=>w.childComment=e),reimgFileId:w.reimgFileId,reimgViewFileId:w.reimgViewFileId,onAddPhoto:t[15]||(t[15]=e=>C.addPhoto("reComment")),onInput:t[16]||(t[16]=e=>C.limitComment(e)),onSendComment:t[17]||(t[17]=e=>C.commentBtn("child")),onHandelFocus:t[18]||(t[18]=e=>C.handeEmptyBox("f")),onHandelBlur:t[19]||(t[19]=e=>C.handeEmptyBox("b"))},null,8,["value","reimgFileId","reimgViewFileId"])])):(0,i.kq)("",!0),(0,i.Wm)(Y,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.childCommentList,(e=>((0,i.wg)(),(0,i.j4)(L,{key:e.commentKey},{avatar:(0,i.w5)((()=>[(0,i.Wm)(S,{thumbnail:e.cdnThumbNmIcon},null,8,["thumbnail"])])),content:(0,i.w5)((()=>[(0,i.Wm)(A,{data:e,onUpdateComment:t=>C.commentReBtn("reUpdate",e),onDeleteComment:t=>C.presentAlertConfirm("comment",e),onPoliceComment:t=>C.policeBtn("comment",e),onThumbsUp:t=>C.thumbsUpDown("up","comment",e.commentKey),onThumbsDown:t=>C.thumbsUpDown("down","comment",e.commentKey),onZoomImg:t=>C.openZoomedImage(e.cdnNm)},null,8,["data","onUpdateComment","onDeleteComment","onPoliceComment","onThumbsUp","onThumbsDown","onZoomImg"]),w.reUpdateComment===e&&"reUpdate"===w.reType?((0,i.wg)(),(0,i.iD)("div",c,[(0,i.Wm)(j,{value:e.contents,"onUpdate:value":t=>e.contents=t,reimgFileId:w.reimgFileId,reimgViewFileId:w.reimgViewFileId,onDeleteImg:t[20]||(t[20]=e=>C.imgDelete("reComment")),onAddPhoto:t[21]||(t[21]=e=>C.addPhoto("reComment")),onInput:t[22]||(t[22]=e=>C.limitComment(e)),onSendComment:t[23]||(t[23]=e=>C.commentBtn("reUpdate")),onHandelFocus:t[24]||(t[24]=e=>C.handeEmptyBox("f")),onHandelBlur:t[25]||(t[25]=e=>C.handeEmptyBox("b"))},null,8,["value","onUpdate:value","reimgFileId","reimgViewFileId"])])):(0,i.kq)("",!0)])),_:2},1024)))),128))])),_:2},1024)])),_:2},1024)))),128))])),_:1},8,["item-list"]),h,(0,i.Wm)(V,{"is-open":w.emptyBox},null,8,["is-open"])])),_:1},512)):(0,i.kq)("",!0),!1===w.lodingCheck?((0,i.wg)(),(0,i.j4)(v,{key:1},{default:(0,i.w5)((()=>[(0,i.Wm)(P,{style:{display:"flex","align-items":"center","justify-content":"center",margin:"0 auto",height:"100%"}})])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(M,{"is-open":w.messageOpen,title:w.BoardDetail.communityNick+"님에게 메시지 보내기",onIonModalDidDismiss:t[26]||(t[26]=e=>w.messageOpen=!1),onInput:t[27]||(t[27]=e=>C.limitMessage(e)),onHandleSendMessage:C.handleSendMessage},null,8,["is-open","title","onHandleSendMessage"]),(0,i.Wm)(K,{class:"no-padding"},{default:(0,i.w5)((()=>[(0,i.Wm)(E,{value:w.commentText,"onUpdate:value":t[29]||(t[29]=e=>w.commentText=e),newimgFileId:w.newimgFileId,newimgViewFileId:w.newimgViewFileId,onDeleteImg:t[30]||(t[30]=e=>C.imgDelete("newComment")),onAddPhoto:t[31]||(t[31]=e=>C.addPhoto("newComment")),onInput:t[32]||(t[32]=e=>C.limitComment(e)),onSendComment:t[33]||(t[33]=e=>C.commentBtn("new"))},{default:(0,i.w5)((()=>[(0,i._)("input",{type:"file",onChange:t[28]||(t[28]=(...e)=>C.onFileChange&&C.onFileChange(...e)),ref:"photo",class:"is-blind"},null,544)])),_:1},8,["value","newimgFileId","newimgViewFileId"])])),_:1})])),_:1})}n(57658),n(74916),n(38862),n(26699);var g=n(18903),w=n(28151),C=n(50840),y=n.n(C);const b=["src"];function k(e,t,l,m,a,s){var d;const r=(0,i.up)("ion-avatar"),u=(0,i.up)("ion-text"),c=(0,i.up)("ion-chip"),h=(0,i.up)("ion-label"),p=(0,i.up)("ion-icon"),g=(0,i.up)("ion-button"),w=(0,i.up)("ion-item"),C=(0,i.up)("ion-list"),y=(0,i.up)("ion-content"),k=(0,i.up)("ion-popover");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(w,{lines:"none",class:"community-ion-item",onClick:s.handleClick},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{slot:"start"},{default:(0,i.w5)((()=>[(0,i._)("img",{src:"https://"+l.thumbnail,"on:ionError":t[0]||(t[0]=e=>e.srcElement.src=n(7189))},null,40,b)])),_:1}),(0,i.Wm)(h,null,{default:(0,i.w5)((()=>{var e;return[(0,i.Wm)(u,{color:"light",class:"text-sm",id:"community-profile-popover-button"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(l.detail.communityNick),1)])),_:1}),"Y"===(null===(e=l.detail)||void 0===e?void 0:e.isRegYn)?((0,i.wg)(),(0,i.j4)(c,{key:0,class:"chip-xs chip-secondary"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 내가작성 ")])),_:1})):(0,i.kq)("",!0)]})),_:1}),(0,i.Wm)(u,{color:"light",class:"text-xs"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(l.detail.createdDtMm)+" · 읽음 "+(0,o.zw)(l.detail.viewCnt),1)])),_:1}),(0,i.Wm)(g,{fill:"clear",onClick:s.handleBookmark},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{color:"light",slot:"icon-only",icon:"Y"===l.bookmarkYn?a.bookmark:a.bookmarkOutline},null,8,["icon"])])),_:1},8,["onClick"])])),_:1},8,["onClick"]),"N"===(null===(d=l.detail)||void 0===d?void 0:d.isRegYn)?((0,i.wg)(),(0,i.j4)(k,{key:0,trigger:"community-profile-popover-button","dismiss-on-select":!0,mode:"ios"},{default:(0,i.w5)((()=>[(0,i.Wm)(y,null,{default:(0,i.w5)((()=>[(0,i.Wm)(C,{lines:"full"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{button:!0,detail:!1,onClick:s.handleLetterBtn,class:"appfontB"},{default:(0,i.w5)((()=>[(0,i.Uk)("익명 메세지 ")])),_:1},8,["onClick"])])),_:1})])),_:1})])),_:1})):(0,i.kq)("",!0)],64)}const I={name:"CommunityViewUserInfo",props:{thumbnail:{type:String},detail:{type:Object},bookmarkYn:{type:String},dropYn:{type:String}},data(){return{bookmark:g.vjt,bookmarkOutline:g.eZy}},methods:{handleClick(){this.$emit("event")},handleBookmark(){this.$emit("bookmark")},handleLetterBtn(){this.$emit("handleLetterBtn")}}};var f=n(83744);const _=(0,f.Z)(I,[["render",k],["__scopeId","data-v-182e63da"]]),D=_;function v(e,t,n,l,m,a){const s=(0,i.up)("ion-text"),d=(0,i.up)("ion-icon"),r=(0,i.up)("ion-fab-button"),u=(0,i.up)("ion-row");return(0,i.wg)(),(0,i.j4)(u,{class:"ion-align-items-center ion-justify-content-center gap-lg"},{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i.Wm)(u,{class:"ion-align-items-center ion-justify-content-center gap-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{color:"light",class:"ttext-sm text-bold"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(n.likeCnt||0),1)])),_:1}),(0,i.Wm)(r,{onClick:a.handleThumbsUp,class:"btn-thumbs-up"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{size:"large",icon:m.thumbsUpOutline},null,8,["icon"])])),_:1},8,["onClick"])])),_:1})]),(0,i._)("div",null,[(0,i.Wm)(u,{class:"ion-align-items-center ion-justify-content-center gap-md"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{onClick:a.handleThumbsDown,class:"btn-thumbs-down"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{size:"large",icon:m.thumbsDownOutline},null,8,["icon"])])),_:1},8,["onClick"]),(0,i.Wm)(s,{color:"light",class:"ttext-sm text-bold"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(n.badCnt||0),1)])),_:1})])),_:1})])])),_:1})}const W={name:"CummunityViewThumbsUpDown",props:{likeCnt:{type:Number},badCnt:{type:Number}},data(){return{thumbsUpOutline:g.IfW,thumbsDownOutline:g.usJ}},methods:{handleThumbsUp(){this.$emit("up")},handleThumbsDown(){this.$emit("down")}}},F=(0,f.Z)(W,[["render",v],["__scopeId","data-v-52bc2c39"]]),U=F,x={key:0,class:"img-area"},B={class:"img-item"},T={class:"input-area"},$={class:"btn-area"};function Y(e,t,o,l,m,a){const s=(0,i.up)("ion-img"),d=(0,i.up)("ion-icon"),r=(0,i.up)("ion-fab-button"),u=(0,i.up)("ion-row"),c=(0,i.up)("ion-textarea"),h=(0,i.up)("ion-item");return(0,i.wg)(),(0,i.iD)("div",null,[null!==o.newimgViewFileId||null!==o.newimgFileId?((0,i.wg)(),(0,i.iD)("div",x,[(0,i.Wm)(u,{class:"gap-lg"},{default:(0,i.w5)((()=>[(0,i._)("div",B,[(0,i.Wm)(s,{src:null!=o.newimgFileId?"https://"+o.newimgViewFileId:n(7189),onIonError:t[0]||(t[0]=e=>e.srcElement.src=n(7189))},null,8,["src"]),(0,i.Wm)(r,{color:"secondary",size:"small",class:"btn-close",onClick:a.handleDeleteImg},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{icon:m.closeIcon},null,8,["icon"])])),_:1},8,["onClick"])])])),_:1})])):(0,i.kq)("",!0),(0,i.Wm)(h,{lines:"none",color:"secondary",class:"comment-area"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{color:"secondary",onClick:a.handleAddPhoto},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{icon:m.addPhotoIcon,size:"small",color:"light"},null,8,["icon"])])),_:1},8,["onClick"]),(0,i._)("div",T,[(0,i.Wm)(c,{placeholder:"댓글을 입력해주세요.",maxlength:"100",rows:1,"clear-on-edit":!1,value:o.value,onInput:a.handleLimitComment},null,8,["value","onInput"]),(0,i._)("div",$,[(0,i.Wm)(r,{color:"secondary",onClick:a.handleSendComment},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{icon:m.sendIcon,size:"small"},null,8,["icon"])])),_:1},8,["onClick"])])]),(0,i.WI)(e.$slots,"default",{},void 0,!0)])),_:3})])}var S=n(92826),A=n(13432),j=n(80857),L=n(66762);const N={name:"CommunityViewSendComment",props:{value:{type:String},newimgFileId:{type:String},newimgViewFileId:{type:String}},data(){return{closeIcon:j,addPhotoIcon:S,sendIcon:A,emojiIcon:L}},methods:{handleAddPhoto(){this.$emit("addPhoto")},handleLimitComment(e){this.$emit("update:value",e.target.value)},handleSendComment(){this.$emit("sendComment")},handleDeleteImg(){this.$emit("deleteImg")}}},V=(0,f.Z)(N,[["render",Y],["__scopeId","data-v-6daa4905"]]),P=V,M=e=>((0,i.dD)("data-v-2904c5b7"),e=e(),(0,i.Cn)(),e),E=M((()=>(0,i._)("br",null,null,-1)));function K(e,t,n,o,l,m){const a=(0,i.up)("ion-label"),s=(0,i.up)("ion-list-header"),d=(0,i.up)("ion-icon"),r=(0,i.up)("ion-text"),u=(0,i.up)("ion-item"),c=(0,i.up)("ion-list");return(0,i.wg)(),(0,i.j4)(c,{lines:"full"},{default:(0,i.w5)((()=>[(0,i.Wm)(s,null,{default:(0,i.w5)((()=>[(0,i.Wm)(a,null,{default:(0,i.w5)((()=>[(0,i.Uk)("댓글")])),_:1})])),_:1}),n.itemList.length>0?(0,i.WI)(e.$slots,"default",{key:0},void 0,!0):((0,i.wg)(),(0,i.j4)(u,{key:1,class:"no-comment"},{default:(0,i.w5)((()=>[(0,i.Wm)(a,null,{default:(0,i.w5)((()=>[(0,i._)("p",null,[(0,i.Wm)(d,{size:"large",color:"light",icon:l.chatboxOutline},null,8,["icon"])]),(0,i._)("p",null,[(0,i.Wm)(r,{color:"light"},{default:(0,i.w5)((()=>[(0,i.Uk)("댓글이 없어요 "),E,(0,i.Uk)(" 가장 먼저 댓글을 달아보세요!!")])),_:1})])])),_:1})])),_:1}))])),_:3})}const R={name:"CommentList",props:{itemList:{type:Array}},data(){return{chatboxOutline:g.DMF}}},O=(0,f.Z)(R,[["render",K],["__scopeId","data-v-2904c5b7"]]),Z=O,z={slot:"start",class:"avatar-area"};function q(e,t,n,o,l,m){const a=(0,i.up)("ion-label"),s=(0,i.up)("ion-item");return(0,i.wg)(),(0,i.j4)(s,null,{default:(0,i.w5)((()=>[(0,i._)("div",z,[(0,i.WI)(e.$slots,"avatar",{},void 0,!0)]),(0,i.Wm)(a,{class:"content-area"},{default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"content",{},void 0,!0),(0,i.WI)(e.$slots,"default",{},void 0,!0)])),_:3})])),_:3})}const H={name:"CommentItem"},J=(0,f.Z)(H,[["render",q],["__scopeId","data-v-1e787417"]]),X=J,G={class:"row-box"},Q={class:"btn-area"},ee={key:0,class:"row-box img-area"},te={class:"img-item"};function ne(e,t,o,l,m,a){const s=(0,i.up)("ion-textarea"),d=(0,i.up)("ion-icon"),r=(0,i.up)("ion-fab-button"),u=(0,i.up)("ion-item"),c=(0,i.up)("ion-img"),h=(0,i.up)("ion-row");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",G,[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(s,{placeholder:"내용을 입력해주세요.",maxlength:"100",rows:2,"clear-on-edit":!1,class:"custom-textarea",value:o.value,onInput:a.handleLimitComment,onIonFocus:a.handelFocus,onIonBlur:a.handelBlur},null,8,["value","onInput","onIonFocus","onIonBlur"]),(0,i._)("div",Q,[(0,i.Wm)(r,{size:"small",onClick:a.handleAddPhoto,class:"btn-add-photo"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{icon:m.addPhotoIcon,color:"light",size:"small"},null,8,["icon"])])),_:1},8,["onClick"]),(0,i.Wm)(r,{size:"small",color:"secondary",onClick:a.handleSendComment},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{icon:m.sendIcon,color:"light",size:"small"},null,8,["icon"])])),_:1},8,["onClick"])])])),_:1})]),null!==o.reimgViewFileId||null!==o.reimgFileId?((0,i.wg)(),(0,i.iD)("div",ee,[(0,i.Wm)(h,{class:"gap-lg"},{default:(0,i.w5)((()=>[(0,i._)("div",te,[null!=o.reimgFileId?((0,i.wg)(),(0,i.j4)(c,{key:0,src:"https://"+o.reimgViewFileId,onIonError:t[0]||(t[0]=e=>e.srcElement.src=n(7189))},null,8,["src"])):(0,i.kq)("",!0),(0,i.Wm)(r,{color:"secondary",size:"small",class:"btn-close",onClick:a.handleDeleteImg},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{icon:m.closeIcon},null,8,["icon"])])),_:1},8,["onClick"])])])),_:1})])):(0,i.kq)("",!0)],64)}const ie={name:"CommentReplyForm",props:{value:{type:String},reimgFileId:{type:String},reimgViewFileId:{type:String}},data(){return{sendIcon:A,addPhotoIcon:S,closeIcon:j}},methods:{handleAddPhoto(){this.$emit("addPhoto")},handleLimitComment(e){this.$emit("update:value",e.target.value)},handleSendComment(){this.$emit("sendComment")},handleDeleteImg(){this.$emit("deleteImg")},handelFocus(){this.$emit("handelFocus")},handelBlur(){this.$emit("handelBlur")}}},oe=(0,f.Z)(ie,[["render",ne],["__scopeId","data-v-3f993c40"]]),le=oe,me=["src"];function ae(e,t,o,l,m,a){const s=(0,i.up)("ion-avatar");return(0,i.wg)(),(0,i.j4)(s,null,{default:(0,i.w5)((()=>[(0,i._)("img",{src:"https://"+o.thumbnail,"on:ionError":t[0]||(t[0]=e=>e.srcElement.src=n(7189))},null,40,me)])),_:1})}const se={name:"CommentAvatar",props:{thumbnail:{type:String}}},de=(0,f.Z)(se,[["render",ae],["__scopeId","data-v-647fd3b6"]]),re=de,ue={class:"row-box"},ce={class:"row-box"},he={key:0,class:"row-box"},pe={class:"row-box"};function ge(e,t,n,l,m,a){const s=(0,i.up)("ion-text"),d=(0,i.up)("ion-badge"),r=(0,i.up)("ion-row"),u=(0,i.up)("ion-icon"),c=(0,i.up)("ion-button"),h=(0,i.up)("ion-item"),p=(0,i.up)("ion-list"),g=(0,i.up)("ion-content"),w=(0,i.up)("ion-popover"),C=(0,i.up)("ion-buttons"),y=(0,i.up)("CommentAttachImg"),b=(0,i.up)("custom-button");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",ue,[(0,i.Wm)(r,{class:"ion-align-items-center ion-justify-content-between gap-lg flex-nowrap"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{class:"ion-align-items-center ion-justify-content-center gap-md flex-nowrap"},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{color:"light",class:"text-sm"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(n.data.commentNick),1)])),_:1}),"Y"===n.data.isRegYn?((0,i.wg)(),(0,i.j4)(d,{key:0,color:"warning"},{default:(0,i.w5)((()=>[(0,i.Uk)("본인")])),_:1})):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(r,{class:"ion-align-items-center ion-justify-content-center gap-md mt-0"},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{color:"light",class:"text-sm"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(n.data.regTimeMm),1)])),_:1}),"N"==n.data.delYn?((0,i.wg)(),(0,i.j4)(C,{key:0},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{color:"medium",id:"popover-button-"+n.data.commentKey},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{icon:m.menuIcon},null,8,["icon"])])),_:1},8,["id"]),(0,i.Wm)(w,{trigger:"popover-button-"+n.data.commentKey,"dismiss-on-select":!0,mode:"ios"},{default:(0,i.w5)((()=>[(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,{lines:"full"},{default:(0,i.w5)((()=>["Y"===n.data.isRegYn?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Wm)(h,{button:!0,detail:!1,onClick:t[0]||(t[0]=e=>a.handleUpdateComment())},{default:(0,i.w5)((()=>[(0,i.Uk)("수정 ")])),_:1}),(0,i.Wm)(h,{button:!0,detail:!1,onClick:t[1]||(t[1]=e=>a.handleDeleteComment())},{default:(0,i.w5)((()=>[(0,i.Uk)("삭제 ")])),_:1})],64)):((0,i.wg)(),(0,i.j4)(h,{key:1,button:!0,detail:!1,onClick:t[2]||(t[2]=e=>a.handlePoliceComment())},{default:(0,i.w5)((()=>[(0,i.Uk)("신고 ")])),_:1}))])),_:1})])),_:1})])),_:1},8,["trigger"])])),_:1})):(0,i.kq)("",!0)])),_:1})])),_:1})]),(0,i._)("div",ce,[(0,i._)("p",null,[(0,i.Wm)(s,{color:"light",class:"text-md"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(n.data.contents),1)])),_:1})])]),null!==n.data.attachFileId&&"N"===n.data.delYn?((0,i.wg)(),(0,i.iD)("div",he,[(0,i.Wm)(y,{data:n.data,onZoomImg:a.handleZoomImg},null,8,["data","onZoomImg"])])):(0,i.kq)("",!0),(0,i._)("div",pe,[(0,i.Wm)(r,{class:"ion-align-items-center ion-justify-content-between gap-lg"},{default:(0,i.w5)((()=>[(0,i._)("div",null,[n.isReply?((0,i.wg)(),(0,i.j4)(b,{key:0,fill:"outline",color:"secondary",onClick:t[3]||(t[3]=e=>a.handleReplyComment())},{default:(0,i.w5)((()=>[(0,i.Wm)(s,{color:"light"},{default:(0,i.w5)((()=>[(0,i.Uk)("댓글")])),_:1})])),_:1})):(0,i.kq)("",!0)]),(0,i._)("div",null,[(0,i.Wm)(b,{fill:"outline",color:"secondary",onClick:t[4]||(t[4]=e=>a.handleThumbsUp()),class:"btn-thumbs-up"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{slot:"start",icon:m.thumbsUpIcon,color:"danger"},null,8,["icon"]),(0,i.Wm)(s,{color:"light",class:"text-bold"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(n.data.likeCnt),1)])),_:1})])),_:1}),(0,i.Wm)(b,{fill:"outline",color:"secondary",onClick:t[5]||(t[5]=e=>a.handleThumbsDown()),class:"btn-thumbs-down"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{slot:"start",icon:m.thumbsDownIcon,color:"success"},null,8,["icon"]),(0,i.Wm)(s,{color:"light",class:"text-bold"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(n.data.badCnt),1)])),_:1})])),_:1})])])),_:1})])])}function we(e,t,n,o,l,m){const a=(0,i.up)("ion-img");return(0,i.wg)(),(0,i.j4)(a,{onClick:m.handleZoomImg,ref:"image",src:"https://"+n.data.cdnNm},null,8,["onClick","src"])}const Ce={name:"CommentAttachImg",props:{data:{type:Object}},methods:{handleZoomImg(){this.$emit("zoomImg")}}},ye=(0,f.Z)(Ce,[["render",we],["__scopeId","data-v-df4f6f20"]]),be=ye;var ke=n(23265),Ie=n(34467),fe=n(51713);const _e={name:"CommentContent",components:{CommentAttachImg:be},props:{data:{type:Object},isReply:{type:Boolean}},data(){return{menuIcon:ke,thumbsUpIcon:Ie,thumbsDownIcon:fe}},methods:{handleUpdateComment(){this.$emit("updateComment")},handleDeleteComment(){this.$emit("deleteComment")},handlePoliceComment(){this.$emit("policeComment")},handleReplyComment(){this.$emit("replyComment")},handleZoomImg(){this.$emit("zoomImg")},handleThumbsUp(){this.$emit("thumbsUp")},handleThumbsDown(){this.$emit("thumbsDown")}}},De=(0,f.Z)(_e,[["render",ge],["__scopeId","data-v-38da4e61"]]),ve=De;var We=n(2982),Fe=n(76916);const Ue={class:"message"},xe={class:"modal-footer"};function Be(e,t,n,l,m,a){const s=(0,i.up)("ion-toolbar"),d=(0,i.up)("ion-textarea"),r=(0,i.up)("ion-item"),u=(0,i.up)("custom-button"),c=(0,i.up)("ion-col"),h=(0,i.up)("ion-row"),p=(0,i.up)("ion-content"),g=(0,i.up)("ion-modal");return(0,i.wg)(),(0,i.j4)(g,{"is-open":n.isOpen,onIonModalDidDismiss:a.ionModalDidDismiss},{default:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(s,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,o.zw)(n.title),1)])),_:1}),(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i._)("div",Ue,[(0,i.Wm)(r,{ref:"content",lines:"none",counter:"true",class:"input-field"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{rows:1,onInput:a.handleLimitMessage,maxlength:"50",placeholder:"내용을 입력해주세요"},null,8,["onInput"])])),_:1},512)]),(0,i._)("div",xe,[(0,i.Wm)(h,null,{default:(0,i.w5)((()=>[(0,i.Wm)(c,{style:{margin:"0 auto","align-items":"center"}},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{shape:"round",fill:"outline",color:"light",onClick:a.ionModalDidDismiss},{default:(0,i.w5)((()=>[(0,i.Uk)("취소 ")])),_:1},8,["onClick"]),(0,i.Wm)(u,{shape:"round",onClick:a.handleSendMessage},{default:(0,i.w5)((()=>[(0,i.Uk)(" 보내기 ")])),_:1},8,["onClick"])])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1},8,["is-open","onIonModalDidDismiss"])}const Te={name:"MessageModal",props:{isOpen:{type:Boolean},title:{type:String},message:{type:String}},methods:{ionModalDidDismiss(){this.$emit("ionModalDidDismiss")},handleSendMessage(){this.$emit("handleSendMessage")},handleLimitMessage(e){this.$emit("update:value",e.target.value)}}},$e=(0,f.Z)(Te,[["render",Be],["__scopeId","data-v-12271a28"]]),Ye=$e;var Se=n(96826);const Ae={name:"CommunityView",inject:["alertController","loadingController"],components:{CommunityViewUserInfo:D,CummunityViewThumbsUpDown:U,CommunityViewSendComment:P,CommentList:Z,CommentItem:X,CommentReplyForm:le,CommentAvatar:re,CommentContent:ve,PageLoadingCheck:We.Z,EmptyBox:Fe.Z,MessageModal:Ye},data(){return{menuIcon:ke,chatboxEllipsesOutline:g._Pt,bookmark:g.vjt,bookmarkOutline:g.eZy,imageOutline:g.Eu9,chatboxOutline:g.DMF,SS_USER_KEY:w.UD,noData:!0,BoardDetail:{},commentList:[],titleType:"",editType:"edit",bookmarkYn:"N",commentText:"",commentSelectItem:null,reComment:null,updateComment:null,reUpdateComment:null,upComment:"",reUpComment:"",childComment:"",mainFileId:null,Attachfiles:[],imgFileId:"",newimgFileId:null,reimgFileId:null,newimgViewFileId:null,reimgViewFileId:null,addPhotoType:"",articleId:"",visible:!1,reType:"",showReplyForm:!1,dynamicRow:0,likeCnt:0,badCnt:0,prevText:"",attr1:null,attr2:null,attr3:null,loading:null,userPhotoId:"",lodingCheck:!1,bookmarkCheckDisabled:!0,mainUpDownCheckDisabled:!0,commentUpDownCheckDisabled:!0,loadingTime:500,emptyBox:!1,messageOpen:!1,messageTextSend:"",dropYn:""}},ionViewWillEnter(){this.getBoardDetail()},ionViewDidLeave(){this.beforeReset()},mounted(){},methods:{handleSendMessage(){this.messageOpen=!1,(0,w.Yu)({url:"/setCommunityChatRoom",param:{message:this.messageTextSend,messageType:"chat",targetUserId:this.BoardDetail.userId,targetUserNick:this.BoardDetail.communityNick,targetUserIconCd:this.BoardDetail.communityIcon,userNick:localStorage.getItem("SS_USER_COMMUNITY_NICK"),userIconCd:localStorage.getItem("SS_USER_COMMUNITY_ICON")},then:e=>{"Y"===e.successYn&&(this.messageOpen=!1,(0,w.UV)({chatroomId:e.chatroomId,type:"Community",chatroomType:"anonymous"}),this.$router.push("/messageTalk"))}})},limitMessage(e){const t=e.target.value;this.messageTextSend=t},handeEmptyBox(e){this.emptyBox="f"===e},imgDelete(e){"reComment"===e?(this.reimgViewFileId=null,this.reimgFileId=null,this.imgFileId=""):"newComment"===e&&(this.newimgViewFileId=null,this.newimgFileId=null,this.imgFileId="")},beforeReset(){this.BoardDetail={},this.mainFileId=null,this.attr1=null,this.attr2=null,this.attr3=null,this.commentList=[],this.commentText="",this.dynamicRow=0,this.likeCnt=0,this.badCnt=0,this.reType="",this.userPhotoId="",this.childComment="",this.reComment=null,this.reimgFileId=null,this.imgFileId=""},thumbsUpDown(e,t,n){this.showLoading(),"main"===t?(this.mainUpDownCheckDisabled=!1,(0,w.Yu)({url:"/setThumbsUpDown",param:{articleKey:w.bc.article,type:e,pageType:w.bc.type},then:e=>{this.likeCnt=e.likeCnt,this.badCnt=e.badCnt,setTimeout((()=>{this.loading.dismiss(),this.mainUpDownCheckDisabled=!0}),this.loadingTime)}})):"comment"===t&&(this.commentUpDownCheckDisabled=!1,(0,w.Yu)({url:"/setThumbsUpDown2",param:{articleKey:w.bc.article,commentKey:n,type:e,pageType:w.bc.type},then:()=>{setTimeout((()=>{this.loading.dismiss(),this.commentUpDownCheckDisabled=!0}),this.loadingTime),this.$nextTick((()=>{this.getBoardDetail()}))}}))},limitComment(e){const t=e.target.value,n=(t.match(/\n/g)||[]).length+1;if(n>5&&"deleteContentBackward"!==e.inputType)return e.preventDefault(),void this.warningAlert("줄바꿈은 5줄까지만 가능합니다");t!==this.prevText&&(this.dynamicRow=n),this.prevText=t},getResult(){let e={};return e},bookmarkEvent(){this.showLoading(),this.bookmarkCheckDisabled=!1,(0,w.Yu)({url:"/setCommunityBookmark",param:{articleKey:w.bc.article},then:e=>{this.bookmarkYn=e.bookmarkYn,setTimeout((()=>{this.loading.dismiss(),this.bookmarkCheckDisabled=!0}),this.loadingTime)}})},getBoardDetail(e=!1){let t=!1,n=sessionStorage.getItem("articleViewList"),i=new Date,o=new Date;n=n?JSON.parse(n):[];for(let l in n){n[l]["articleId"]===w.bc.article&&(t=!0);let e=(o.getTime()-new Date(n[l]["time"]).getTime())/6e4;e>1440&&n.splice(l,1)}t||(n.push({articleId:w.bc.article,time:i}),sessionStorage.setItem("articleViewList",JSON.stringify(n))),(0,w.Yu)({url:"/getCommunityDetail",param:{articleKey:w.bc.article,type:w.bc.type,viewAddYn:t?"Y":"N"},then:t=>{this.BoardDetail=t.articleMap,this.likeCnt=t.articleMap.likeCnt,this.badCnt=t.articleMap.badCnt,this.commentList=t.commentList,this.upComment=this.BoardDetail.contents,this.mainFileId=this.BoardDetail.attachFileId,this.attr1=this.BoardDetail.attr1CdnNm,this.attr2=this.BoardDetail.attr2CdnNm,this.attr3=this.BoardDetail.attr3CdnNm,this.bookmarkYn=this.BoardDetail.bookmarkYn,this.dropYn=this.BoardDetail.dropYn,this.userPhotoId=t.articleMap.cdnThumbNmIcon,e&&this.$nextTick((()=>{this.scrollToBottom()})),this.lodingCheck=!0}})},scrollToBottom(){setTimeout((()=>{this.$refs.myContent.$el.scrollToBottom(100)}),100)},commentReBtn(e,t){switch(this.$refs.myContent.$el.scrollByPoint(0,200),e){case"re":this.reComment=this.reComment===t?null:t,this.reType="re",null===this.reComment&&this.getBoardDetail(!1,!0);break;case"update":this.$refs.myContent.$el.scrollByPoint(0,100),this.updateComment=this.updateComment===t?null:t,this.reType="update",this.reimgFileId=this.updateComment.attachFileId,this.reimgViewFileId=this.updateComment.cdnNm,null===this.updateComment&&(this.reimgFileId=null,this.showLoading(),this.getBoardDetail(!1,!0));break;case"reUpdate":this.$refs.myContent.$el.scrollByPoint(0,200),this.reUpdateComment=this.reUpdateComment===t?null:t,this.reType="reUpdate",this.reimgFileId=this.reUpdateComment.attachFileId,this.reimgViewFileId=this.reUpdateComment.cdnNm,null===this.reUpdateComment&&(this.reimgFileId=null,this.showLoading(),this.getBoardDetail(!1,!0));break}this.commentSelectItem=t},commentBtn(e){if("new"===e){if(!this.commentText&&!this.imgFileId)return void this.warningAlert("내용을 입력하거나 이미지를 선택해주세요.");if(this.dynamicRow>5)return void this.warningAlert("줄바꿈은 5줄까지만 가능합니다");this.showLoading(),(0,w.Yu)({url:"/setCommunityComment",param:{articleKey:w.bc.article,contents:this.commentText,mainFileId:this.imgFileId,commentType:"comment1",type:w.bc.type},then:e=>{"N"===e.successYn?this.warningAlert(e.message):(this.getBoardDetail(!0,!0),this.commentText="",this.newimgFileId=null,this.imgFileId="",this.dynamicRow=0),this.loading.dismiss()}}),this.newimgViewFileId=null}else if("child"===e){if(!this.childComment&&!this.imgFileId)return void this.warningAlert("내용을 입력하거나 이미지를 선택해주세요.");this.showLoading(),(0,w.Yu)({url:"/setCommunityComment",param:{articleKey:w.bc.article,contents:this.childComment,connectCommentKey:this.reComment.commentKey,mainFileId:this.reimgFileId,commentType:"comment2",type:w.bc.type},then:e=>{"N"===e.successYn?this.warningAlert(e.message):(this.getBoardDetail(!1,!0),this.childComment="",this.reComment=null,this.reimgFileId=null,this.imgFileId=""),this.loading.dismiss()}})}else if("update"===e){if(!this.updateComment.contents)return void this.warningAlert("내용을 입력해주세요.");this.showLoading(),(0,w.Yu)({url:"/setCommunityCommentUpdate",param:{articleKey:w.bc.article,contents:this.updateComment.contents,commentKey:this.updateComment.commentKey,mainFileId:this.reimgFileId,type:w.bc.type},then:e=>{"N"===e.successYn?this.warningAlert(e.message):(this.getBoardDetail(),this.warningAlert(e.message),this.reimgFileId=null,this.loading.dismiss(),this.updateComment=null,this.newimgFileId=null,this.imgFileId=""),this.loading.dismiss()}})}else if("reUpdate"===e){if(!this.reUpdateComment)return void this.warningAlert("내용을 입력해주세요.");this.showLoading(),(0,w.Yu)({url:"/setCommunityCommentUpdate",param:{articleKey:w.bc.article,contents:this.reUpdateComment.contents,commentKey:this.reUpdateComment.commentKey,mainFileId:this.reimgFileId,type:w.bc.type},then:e=>{"N"===e.successYn?this.warningAlert(e.message):(this.getBoardDetail(),this.warningAlert(e.message),this.reUpdateComment=null,this.reimgFileId=null,this.imgFileId=""),this.loading.dismiss()}})}},letterBtn(){"N"===this.dropYn?this.messageOpen=!0:this.warningAlert("탈퇴한 유저입니다.")},editCommunity(e){(0,w.Dh)({article:w.bc.article,type:"edit",item:e}),this.$router.push("/communityWrite")},cancel(){this.$refs.modal.$el.dismiss(null,"cancel")},confirm(){const e=this.$refs.input.$el.value;this.$refs.modal.$el.dismiss(e,"confirm")},async presentAlertConfirm(e,t){if(""!==this.reType)return void this.warningAlert("댓글 수정 중에는 삭제할수 없습니다.");const n=await this.alertController.create({header:"",message:"삭제하시겠습니까?",buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"삭제",handler:()=>{"comment"===e?(0,w.Yu)({url:"/setCommunityCommentDel",param:{articleKey:w.bc.article,commentKey:t},then:e=>{"N"===e.successYn?this.presentAlert(e.message):(this.presentAlert(e.message),this.getBoardDetail())}}):"main"===e&&(0,w.Yu)({url:"/setCommunityDel",param:{articleKey:w.bc.article},then:e=>{"N"===e.successYn||this.$router.push("/community"),this.presentAlert(e.message)}})}}]});return n.present()},addPhoto(e){this.addPhotoType=e,Se.V1.getPhoto({allowEditing:!1,source:Se.oK.Photos,resultType:Se.dk.Uri}).then((async e=>{let t=await fetch(e.webPath).then((e=>e.blob()));const n=new File([t],"fileName."+e.format,{lastModified:new Date,type:t.type});this.Attachfiles.push(n),this.$nextTick((()=>{this.insertFile()}))}))},onFileChange:function(e){const t=e.target.files||e.dataTransfer.files;if(!t.length)return;const n=["image/jpg","image/jpeg","image/png","image/gif"],i=t[0];n.includes(i.type)?(this.Attachfiles.push(t[0]),this.$nextTick((()=>{this.insertFile(e)}))):this.warningAlert("이미지 파일만 업로드 가능해요")},insertFile(){this.showLoading(),(0,w.oA)({url:"/setImage",param:{},file:this.Attachfiles,then:e=>{switch(this.Attachfiles=[],this.imgFileId=e.fileId,this.addPhotoType){case"newComment":this.newimgFileId=e.fileId,this.newimgViewFileId=e.cdnNm;break;case"reComment":this.reimgFileId=e.fileId,this.reimgViewFileId=e.cdnNm;break}this.loading.dismiss()}})},async presentAlert(e){const t=await this.alertController.create({header:"",message:e,buttons:[{text:"OK",role:"Okay",handler:()=>{}}]});return t.present()},async warningAlert(e){const t=await this.alertController.create({header:"",subHeader:"",message:e,buttons:["OK"]});return t.present()},async showLoading(){this.loading=await this.loadingController.create({message:"Loading...",duration:0}),await this.loading.present()},goRouter(){switch(w.bc.type){case"communityWrite":this.$router.push("/community");break;case"myCommunity":this.$router.push("/myCommunity");break;case"Home":this.$router.push("/home");break;default:this.$router.go(-1)}},policeBtn(e,t){let n=w.bc.article;"main"===e?((0,w.IB)({targetKey:n,type:"community",targetId:w.bc.article}),this.$router.push("/police")):"comment"===e?((0,w.IB)({targetKey:n,type:"comment",targetId:t.commentKey}),this.$router.push("/police")):"commentRe"===e&&((0,w.IB)({targetKey:n,type:"commentRe",targetId:t.commentKey}),this.$router.push("/police"))},openZoomedImage(e){if(this.isZoomed)this.isZoomed=!1;else{const t="https://"+e,n=document.createElement("div"),i=document.createElement("img");n.style.width="100%",n.style.height="100%",n.style.position="fixed",n.style.top="0",n.style.left="0",n.style.zIndex="1000",n.style.backgroundColor="rgba(0, 0, 0, 0.7)",n.style.display="flex",n.style.alignItems="center",n.style.justifyContent="center",i.src=t,i.style.width="90%",i.style.height="auto",i.style.objectFit="contain",i.style.transformOrigin="center",i.style.pointerEvents="auto",n.appendChild(i),document.body.appendChild(n);const o=new(y())(i);let l=1,m=0,a=0,s=0,d=0;o.get("pinch").set({enable:!0}),o.get("pan").set({direction:y().DIRECTION_ALL}),o.on("pinchin pinchout",(e=>{"pinchin"===e.type?l-=.02:"pinchout"===e.type&&(l+=.02),l=Math.min(Math.max(l,.5),3),i.style.transform=`translate(${m}px, ${a}px) scale(${l})`})),o.on("panmove",(e=>{m=s+e.deltaX,a=d+e.deltaY,i.style.transform=`translate(${m}px, ${a}px) scale(${l})`})),o.on("panend",(()=>{s=m,d=a})),n.addEventListener("click",(()=>{document.body.removeChild(n)})),this.isZoomed=!0}}}},je=(0,f.Z)(Ae,[["render",p]]),Le=je},51713:(e,t,n)=>{e.exports=n.p+"img/icon_thumbs_down.bd2b356e.svg"},34467:(e,t,n)=>{e.exports=n.p+"img/icon_thumbs_up.0f62b1de.svg"},7189:(e,t,n)=>{e.exports=n.p+"img/Loading_icon.f0448993.gif"}}]);
//# sourceMappingURL=1028-legacy.8749c315.js.map