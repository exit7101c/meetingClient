"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[9671],{60663:(t,e,i)=>{i.d(e,{Z:()=>h});var n=i(66252);function a(t,e,a,s,o,l){const r=(0,n.up)("ion-img"),u=(0,n.up)("swiper-slide"),p=(0,n.up)("swiper");return(0,n.wg)(),(0,n.j4)(p,{onSwiper:l.setSwiperRef,modules:o.modules,pagination:{clickable:!0},"slides-per-view":1,autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0,observer:!0},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(a.bannerList,((t,a)=>((0,n.wg)(),(0,n.j4)(u,{key:a},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{src:""!==t.cdnNm&&null!==t.cdnNm?"https://"+t.cdnNm:i(7189),onIonError:e[0]||(e[0]=t=>t.srcElement.src=i(7189)),onClick:e=>l.routerPush(t.path)},null,8,["src","onClick"])])),_:2},1024)))),128))])),_:1},8,["onSwiper","modules"])}i(57658);var s=i(99304),o=i(57552),l=i(28151);const r={name:"MainBanner",props:{bannerList:{type:Array}},components:{Swiper:o.tq,SwiperSlide:o.o5},data(){return{modules:[s.pt,s.tl,s.W_],swiperRef:null}},mounted(){},beforeMount(){},beforeUpdate(){},updated(){console.log(this.swiperRef),null!=this.swiperRef&&this.swiperRef.slideNext(2e3)},beforeUnmount(){},methods:{routerPush(t){""!=t&&null!=t&&("/subscription"==t?((0,l.EY)({subscribeYn:"Y"}),this.$router.push("/store")):this.$router.push(t))},setSwiperRef(t){this.swiperRef=t}}};var u=i(83744);const p=(0,u.Z)(r,[["render",a],["__scopeId","data-v-ada4e3f6"]]),h=p},59671:(t,e,i)=>{i.r(e),i.d(e,{default:()=>N});var n=i(66252),a=i(3577);const s=t=>((0,n.dD)("data-v-34115e9f"),t=t(),(0,n.Cn)(),t),o={class:"sticky-top"},l={class:"sub-category"},r={class:"row-box"},u=s((()=>(0,n._)("p",null,"인기순",-1))),p={class:"row-box"},h=s((()=>(0,n._)("p",null,"최신순",-1))),d={class:"row-box"},c=s((()=>(0,n._)("p",null,"거리순",-1)));function m(t,e,i,s,m,g){const C=(0,n.up)("custom-header"),w=(0,n.up)("MainBanner"),f=(0,n.up)("ion-header"),b=(0,n.up)("ion-segment-button"),k=(0,n.up)("ion-segment"),_=(0,n.up)("ion-icon"),L=(0,n.up)("ion-row"),W=(0,n.up)("ion-refresher-content"),y=(0,n.up)("ion-refresher"),v=(0,n.up)("OpenChatCardItem"),O=(0,n.up)("ion-col"),S=(0,n.up)("ion-list"),N=(0,n.up)("ion-infinite-scroll-content"),P=(0,n.up)("ion-infinite-scroll"),x=(0,n.up)("ion-content"),I=(0,n.up)("ion-title"),Y=(0,n.up)("ion-toolbar"),z=(0,n.up)("ion-radio"),E=(0,n.up)("ion-label"),F=(0,n.up)("ion-item"),R=(0,n.up)("ion-radio-group"),U=(0,n.up)("ion-modal"),$=(0,n.up)("ion-ripple-effect"),B=(0,n.up)("ion-fab-button"),D=(0,n.up)("ion-fab"),V=(0,n.up)("ion-page");return(0,n.wg)(),(0,n.j4)(V,null,{default:(0,n.w5)((()=>[(0,n.Wm)(C,{"page-name":"OpenChat"}),(0,n.Wm)(x,null,{default:(0,n.w5)((()=>[(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[m.bannerList.length>0?((0,n.wg)(),(0,n.j4)(w,{key:0,bannerList:m.bannerList},null,8,["bannerList"])):(0,n.kq)("",!0)])),_:1}),(0,n._)("div",o,[(0,n.Wm)(k,{modelValue:m.partitionCd,"onUpdate:modelValue":e[0]||(e[0]=t=>m.partitionCd=t),mode:"ios",scrollable:!0,class:"segment-chip"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(m.partitionList,(t=>((0,n.wg)(),(0,n.j4)(b,{disabled:!1,key:t.id,value:t.partitionCd,onClick:e=>g.partitionBtn(t),class:"shape-round"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(t.partitionNm),1)])),_:2},1032,["value","onClick"])))),128))])),_:1},8,["modelValue"]),(0,n._)("div",l,[(0,n.Wm)(k,{mode:"ios",value:"",class:"segment-chip category-filter",style:{padding:"0 0 14px 18px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{value:"",onClick:e[1]||(e[1]=t=>this.subCategoryModalOpen=!0),class:"shape-round"},{default:(0,n.w5)((()=>[(0,n.Wm)(L,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(m.searchFilterName)+" ",1),(0,n.Wm)(_,{icon:m.swapVerticalOutline},null,8,["icon"])])),_:1})])),_:1}),(0,n.Wm)(b,{value:"map",onClick:e[2]||(e[2]=t=>g.goRouter("map")),class:"shape-round segment-map"},{default:(0,n.w5)((()=>[(0,n.Wm)(L,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" 지도 "),(0,n.Wm)(_,{icon:m.locationOutline},null,8,["icon"])])),_:1})])),_:1})])),_:1}),(0,n.Wm)(k,{modelValue:m.subPartitionCd,"onUpdate:modelValue":e[3]||(e[3]=t=>m.subPartitionCd=t),mode:"ios",scrollable:!0,value:"",class:"segment-chip category-list"},{default:(0,n.w5)((()=>[(0,n.Wm)(b,{value:"",onClick:g.partitionSubBtn,class:"border-secondary"},{default:(0,n.w5)((()=>[(0,n.Uk)("전체 ")])),_:1},8,["onClick"]),""!==m.partitionCd?((0,n.wg)(!0),(0,n.iD)(n.HY,{key:0},(0,n.Ko)(m.partitionSubList,(t=>((0,n.wg)(),(0,n.j4)(b,{disabled:!1,key:t.id,value:t.subPartitionCd,class:"border-secondary",onClick:e=>g.partitionSubBtn(t)},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(t.subPartitionNm),1)])),_:2},1032,["value","onClick"])))),128)):(0,n.kq)("",!0),m.partitionSubList.length&&""!==m.partitionCd?(0,n.kq)("",!0):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},(0,n.Ko)(10,((t,e)=>(0,n.Wm)(b,{key:e,class:"is-blind"}))),64))])),_:1},8,["modelValue"])])]),(0,n.Wm)(y,{slot:"fixed",onIonRefresh:e[4]||(e[4]=t=>g.doRefresh(t))},{default:(0,n.w5)((()=>[(0,n.Wm)(W,{"refreshing-spinner":"circles","pulling-icon":m.chevronDownCircleOutline},null,8,["pulling-icon"])])),_:1}),(0,n.Wm)(S,{class:"ion-padding openchat-card-list"},{default:(0,n.w5)((()=>[(0,n.Wm)(L,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(m.openChatList,((t,e)=>((0,n.wg)(),(0,n.j4)(O,{size:"6",key:e},{default:(0,n.w5)((()=>[(0,n.Wm)(v,{item:t,onEvent:e=>g.goOpenChatView(t),class:"openchat-card"},null,8,["item","onEvent"])])),_:2},1024)))),128))])),_:1})])),_:1}),(0,n.Wm)(P,{threshold:"100px",onIonInfinite:g.ionInfinite},{default:(0,n.w5)((()=>[(0,n.Wm)(N,{loadingText:"Please wait...",loadingSpinner:"bubbles"})])),_:1},8,["onIonInfinite"])])),_:1}),(0,n.Wm)(U,{ref:"modal","is-open":m.subCategoryModalOpen,onIonModalDidDismiss:e[6]||(e[6]=t=>m.subCategoryModalOpen=!1),"initial-breakpoint":.95,breakpoints:[0,.95],style:{"--width":"95%","--height":"350px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(x,{class:"ion-padding"},{default:(0,n.w5)((()=>[(0,n.Wm)(Y,null,{default:(0,n.w5)((()=>[(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Uk)("조회기준 설정")])),_:1})])),_:1}),(0,n.Wm)(S,{class:"schedule-info"},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{value:"popular",modelValue:m.searchFilter,"onUpdate:modelValue":e[5]||(e[5]=t=>m.searchFilter=t),class:"item-board",onIonChange:g.confirmFilter},{default:(0,n.w5)((()=>[(0,n._)("div",r,[(0,n.Wm)(F,{lines:"none",color:"tertiary"},{default:(0,n.w5)((()=>[(0,n.Wm)(z,{slot:"start",style:{"margin-left":"10px"},value:"popular"}),(0,n.Wm)(E,{class:"text-left"},{default:(0,n.w5)((()=>[(0,n.Wm)(L,{class:"gap-md ion-align-items-center"},{default:(0,n.w5)((()=>[u])),_:1})])),_:1})])),_:1})]),(0,n._)("div",p,[(0,n.Wm)(F,{lines:"none",color:"tertiary"},{default:(0,n.w5)((()=>[(0,n.Wm)(z,{slot:"start",style:{"margin-left":"10px"},value:"time"}),(0,n.Wm)(E,{class:"text-left"},{default:(0,n.w5)((()=>[(0,n.Wm)(L,{class:"gap-md ion-align-items-center"},{default:(0,n.w5)((()=>[h])),_:1})])),_:1})])),_:1})]),(0,n._)("div",d,[(0,n.Wm)(F,{lines:"none",color:"tertiary"},{default:(0,n.w5)((()=>[(0,n.Wm)(z,{slot:"start",style:{"margin-left":"10px"},value:"latlon"}),(0,n.Wm)(E,{class:"text-left"},{default:(0,n.w5)((()=>[(0,n.Wm)(L,{class:"gap-md ion-align-items-center"},{default:(0,n.w5)((()=>[c])),_:1})])),_:1})])),_:1})])])),_:1},8,["modelValue","onIonChange"])])),_:1})])),_:1})])),_:1},8,["is-open"]),(0,n.Wm)(D,{slot:"fixed",vertical:"bottom",horizontal:"end"},{default:(0,n.w5)((()=>[(0,n.Wm)(B,{fill:"clear",onClick:g.goOpenChatWrite,style:{padding:"5px"}},{default:(0,n.w5)((()=>[(0,n.Wm)($),(0,n.Wm)(_,{icon:m.pencilOutline},null,8,["icon"])])),_:1},8,["onClick"])])),_:1})])),_:1})}i(57658);var g=i(27783),C=i(18903),w=i(60663);const f={class:"card-item-img"};function b(t,e,s,o,l,r){const u=(0,n.up)("ion-img"),p=(0,n.up)("ion-text"),h=(0,n.up)("ion-card"),d=(0,n.up)("ion-card-title"),c=(0,n.up)("ion-icon"),m=(0,n.up)("ion-card-subtitle"),g=(0,n.up)("ion-card-header");return(0,n.wg)(),(0,n.j4)(h,{onClick:r.handleClick},{default:(0,n.w5)((()=>[(0,n.Wm)(h,null,{default:(0,n.w5)((()=>[(0,n._)("div",f,[(0,n.Wm)(u,{src:"https://"+s.item.cdnThumbNm,onIonError:e[0]||(e[0]=t=>t.srcElement.src=i(7189))},null,8,["src"]),(0,n.Wm)(p,{color:"light"},{default:(0,n.w5)((()=>[null!==s.item.latlonDistance?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)("약 "+(0,a.zw)(s.item.latlonDistance)+"km ",1)],64)):((0,n.wg)(),(0,n.iD)(n.HY,{key:1},[(0,n.Uk)("상관없음")],64))])),_:1})])])),_:1}),(0,n.Wm)(g,null,{default:(0,n.w5)((()=>[(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(s.item.title),1)])),_:1}),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{icon:l.calendarCheck},null,8,["icon"]),(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(s.item.dueDate),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["onClick"])}var k=i(69391);const _={name:"OpenChatCardItem",props:{item:{type:Object}},data(){return{calendarCheck:k}},methods:{handleClick(){this.$emit("event")}}};var L=i(83744);const W=(0,L.Z)(_,[["render",b],["__scopeId","data-v-119af6b4"]]),y=W;var v=i(28151);const O={name:"OpenChat",inject:["alertController","loadingController"],components:{IonInfiniteScroll:g.ju,IonInfiniteScrollContent:g.MB,IonRippleEffect:g.H$,IonRefresher:g.nJ,IonRefresherContent:g.Wo,MainBanner:w.Z,OpenChatCardItem:y},data(){return{locationOutline:C.Iv7,swapVerticalOutline:C.CLz,chevronBack:C.Mny,calendarClearOutline:C.l3U,pencilOutline:C.Tvs,chevronDownCircleOutline:C.Au3,storefrontOutline:C.qRG,volumeMediumOutline:C.Bud,personOutline:C.QJ7,notificationsOutline:C.iZ5,optionsOutline:C.ykQ,mapOutline:C.oYE,searchFilter:"popular",searchFilterName:"인기순",partitionList:[],openChatList:[],alwaysYn:!1,partitionCd:"",searchStr:"",pageNo:1,pageSize:15,currentPageNo:1,totalCount:0,isEndScroll:!1,imgsLength:0,loadedImgsLength:0,bookmarkYn:"",partitionSubList:[],subPartitionCd:"",subCategoryModalOpen:!1,bannerList:[]}},computed:{ready(){return!0}},ionViewWillEnter(){this.getBannerList(),this.searchStr.length<2&&(this.searchStr=""),this.partitionCheck()},ionViewDidLeave(){},mounted(){this.getPartitionList()},methods:{getPartitionList(){(0,v.Yu)({url:"/getPartitionList",param:{},then:t=>{this.partitionList=t,""===this.partitionCd&&(this.partitionCd=t[0]["partitionCd"]),this.$nextTick((()=>{this.partitionCheck(),this.getPartitionSubList()}))}})},partitionCheck(){"test3"===this.partitionCd?(this.searchFilter="latlon",this.searchFilterName="거리순"):"test5"===this.partitionCd?(this.searchFilter="time",this.searchFilterName="최신순"):(this.searchFilter="popular",this.searchFilterName="인기순")},getPartitionSubList(){(0,v.Yu)({url:"/getPartitionSubList",param:{partitionCd:this.partitionCd},then:t=>{this.partitionSubList=t,this.$nextTick((()=>{this.getOpenChatList()}))}})},getOpenChatList(){this.pageNo=1,this.imgsLength=0,this.loadedImgsLength=0,this.pageSize=15,this.currentPageNo=1,this.openChatList=[],this.totalCount=0,this.isEndScroll=!1,(0,v.Yu)({url:"/getOpenChatList",param:{partitionCd:this.partitionCd,subPartitionCd:this.subPartitionCd,sortCd:this.searchFilter,alwaysYn:!0===this.alwaysYn?"Y":"N",str:this.searchStr,pageNo:this.pageNo,pageSize:this.pageSize},then:t=>{for(let e in t.result)t.result[e]["pageNo"]=t.pageNo;this.openChatList=t.result,this.totalCount=t.totalCount,""===this.partitionCd&&(this.partitionCd=""),this.$nextTick((()=>{this.imgsLength=this.imgsLength+t.result.length}))}})},ionInfinite(t){let e=this;setTimeout((function(){e.pageNo=e.currentPageNo+1,(0,v.Yu)({url:"/getOpenChatList",param:{partitionCd:""!==e.partitionCd?e.partitionCd:"",sortCd:e.searchFilter,alwaysYn:!0===e.alwaysYn?"Y":"N",str:e.searchStr,pageNo:e.pageNo,pageSize:e.pageSize},then:t=>{if(t.isExist){for(let i in t.result)t.result[i]["pageNo"]=t.pageNo,e.openChatList.push(t.result[i]),e.imgsLength++;e.currentPageNo+=1,e.$nextTick((()=>{e.openChatList.length===e.totalCount&&(e.isEndScroll=!0)}))}}}),t.target.complete()}),1e3)},goOpenChatView(t){"N"===t.delYn?((0,v.pR)({openChatKey:t.openChatKey,type:"openChat"}),this.$router.push("/openChatView")):this.warningAlert("❌","삭제된 게시글입니다.")},goOpenChatWrite(){(0,v.JU)({openChatKey:"",type:"new"}),this.$router.push("/openChatWrite")},partitionBtn(t){this.subPartitionCd="",this.partitionCd=t?t["partitionCd"]:"",this.pageNo=1,this.pageSize=15,this.currentPageNo=1,this.openChatList=[],this.totalCount=0,this.isEndScroll=!1,this.$nextTick((()=>{this.getPartitionList(),this.getOpenChatList(),this.getPartitionSubList()}))},partitionSubBtn(t){this.subPartitionCd=t?t["subPartitionCd"]:"",this.pageNo=1,this.pageSize=15,this.currentPageNo=1,this.openChatList=[],this.totalCount=0,this.isEndScroll=!1,this.$nextTick((()=>{this.getOpenChatList()}))},eyeOn(t){""===this.partitionCd&&(this.partitionCd=""),this.showLoading(),(0,v.Yu)({url:"/setOpenChatBookmark",param:{openChatKey:t.openChatKey},then:()=>{this.$nextTick((()=>{this.getOpenChatList()})),this.loading.dismiss()}})},doRefresh(t){this.ready?(""!==this.partitionCd&&"map"!==this.subPartitionCd||(this.partitionCd="",this.subPartitionCd=""),this.pageNo=1,this.pageSize=15,this.currentPageNo=1,this.openChatList=[],this.totalCount=0,this.isEndScroll=!1,this.getOpenChatList(this.partitionCd),setTimeout((()=>{t.target.complete()}),500)):t.target.complete()},dismiss(){this.$refs.modal.$el.dismiss()},confirmFilter(){this.searchFilterName="time"===this.searchFilter?"최신순":"popular"===this.searchFilter?"인기순":"거리순",this.getOpenChatList(this.partitionCd),this.dismiss()},inputStr(t){this.searchStr=t.target.value.toLowerCase()},searchChat(t){13===t.keyCode&&(0===this.searchStr.length||this.searchStr.length>=2?this.getOpenChatList(this.partitionCd):this.warningAlert("","2글자 이상 입력해야 합니다."))},searchBtn(){this.getOpenChatList(this.partitionCd)},async showLoading(){this.loading=await this.loadingController.create({message:"Loading...",duration:0}),await this.loading.present()},goRouter(t){"map"===t&&(this.subPartitionCd="",(0,v.pR)({modal:"close"}),this.$router.push("/openChatMap"))},async warningAlert(t,e){const i=await this.alertController.create({header:t,subHeader:"",message:e,buttons:["OK"]});return i.present()},getBannerList(){(0,v.Yu)({url:"/getBannerList",param:{bannerType:"OPENCHAT"},then:t=>{this.$nextTick((()=>{this.bannerList=t}))}})}}},S=(0,L.Z)(O,[["render",m],["__scopeId","data-v-34115e9f"]]),N=S},69391:(t,e,i)=>{t.exports=i.p+"img/icon_cal_check.cc3a33f3.svg"},7189:(t,e,i)=>{t.exports=i.p+"img/Loading_icon.f0448993.gif"}}]);
//# sourceMappingURL=9671-legacy.9a52b3e9.js.map