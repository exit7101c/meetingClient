"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[7870],{40411:(n,t,e)=>{e.d(t,{b:()=>a});var o=e(29895);const a=(0,o.fo)("Geolocation",{web:()=>e.e(6642).then(e.bind(e,56642)).then((n=>new n.GeolocationWeb))})},16881:(n,t,e)=>{e.r(t),e.d(t,{default:()=>y});var o=e(66252),a=e(3577);const i=n=>((0,o.dD)("data-v-62a98def"),n=n(),(0,o.Cn)(),n),s=i((()=>(0,o._)("div",{id:"map",style:{width:"100%",height:"100%"}},null,-1))),l={class:"row-box"},r=["src"],p=i((()=>(0,o._)("br",null,null,-1)));function d(n,t,e,i,d,c){const m=(0,o.up)("BackButton"),h=(0,o.up)("ion-buttons"),u=(0,o.up)("ion-title"),w=(0,o.up)("ion-toolbar"),g=(0,o.up)("ion-header"),f=(0,o.up)("ion-text"),x=(0,o.up)("ion-row"),k=(0,o.up)("CustomModalLayout"),b=(0,o.up)("ion-content"),v=(0,o.up)("ion-modal"),y=(0,o.up)("ion-page");return(0,o.wg)(),(0,o.j4)(y,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,{style:{"--background":"#1c1d48"}},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{slot:"start"},{default:(0,o.w5)((()=>[(0,o.Wm)(m)])),_:1}),(0,o.Wm)(u,null,{default:(0,o.w5)((()=>[(0,o.Uk)(" 제휴업소")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(b,null,{default:(0,o.w5)((()=>[s,(0,o.Wm)(v,{"is-open":d.mapInfoModal,"handle-behavior":"cycle",onIonModalDidDismiss:t[0]||(t[0]=n=>d.mapInfoModal=!1),"initial-breakpoint":.95,breakpoints:[0,.95],class:"custom-modal bottom-modal"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,null,{default:(0,o.w5)((()=>[(0,o.Wm)(k,null,{header:(0,o.w5)((()=>[(0,o._)("div",l,[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o._)("img",{src:"https://"+d.modalItem.cdnNm,style:{width:"100%",height:"150px","text-align":"center"}},null,8,r),(0,o.Wm)(f,{color:"light"},{default:(0,o.w5)((()=>[(0,o._)("h3",null,(0,a.zw)(d.modalItem.partnersName),1)])),_:1})])),_:1})])])),content:(0,o.w5)((()=>[(0,o.Wm)(f,{color:"light",class:"text-xl",style:{"font-size":"20px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(d.modalItem.partnersAddress),1)])),_:1}),(0,o.Wm)(f,{color:"light",class:"text-xl",style:{"font-size":"20px"}},{default:(0,o.w5)((()=>[p,(0,o.Uk)("영업시간 : "+(0,a.zw)(d.modalItem.openTime)+" ~ "+(0,a.zw)(d.modalItem.closeTime),1)])),_:1})])),footer:(0,o.w5)((()=>[(0,o.Wm)(f,{color:"light",class:"text-xl",style:{"font-size":"20px"}},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(d.modalItem.partnersNumber),1)])),_:1})])),_:1})])),_:1})])),_:1},8,["is-open"])])),_:1})])),_:1})}e(57658);var c=e(27783),m=e(18903),h=e(28151),u=e(92662),w=e(37835),g=e(54652),f=e(29895),x=e(40411);const k={name:"PartnersMap",components:{BackButton:w.Z,IonPage:c._i,IonHeader:c.Gu,IonToolbar:c.sr,IonIcon:c.gu,IonButtons:c.Sm,IonButton:c.YG,IonContent:c.W2},data(){return{MessageTalkMapUserInfo:u.Z,locationOutline:m.Iv7,search:m.yC4,closeOutline:m.fID,chevronBack:m.Mny,mapInfoModal:!1,map:null,itemList:[],modalItem:{},lat:"",lng:"",gpsLat:"",gpsLon:"",markers:[],htmlMarker1:{content:"<div class='marker' style='display: flex; align-items: center; justify-content: center; background-color: #191A37; color: #fff; font-size: 20px; font-weight: 700; box-shadow: 6px 6px 10px rgba(color: #000000, alpha: 0.16);'></div>",size:window.naver.maps.Size(40,40),anchor:window.naver.maps.Point(20,20)},htmlMarker2:{content:"<div class='marker' style='display: flex; align-items: center; justify-content: center; background-color: #191A37; color: #fff; font-size: 20px; font-weight: 700; box-shadow: 6px 6px 10px rgba(color: #000000, alpha: 0.16);'></div>",size:window.naver.maps.Size(40,40),anchor:window.naver.maps.Point(20,20)},htmlMarker3:{content:"<div class='marker' style='display: flex; align-items: center; justify-content: center; background-color: #191A37; color: #fff; font-size: 20px; font-weight: 700; box-shadow: 6px 6px 10px rgba(color: #000000, alpha: 0.16);'></div>",size:window.naver.maps.Size(40,40),anchor:window.naver.maps.Point(20,20)},htmlMarker4:{content:"<div class='marker' style='display: flex; align-items: center; justify-content: center; background-color: #191A37; color: #fff; font-size: 20px; font-weight: 700; box-shadow: 6px 6px 10px rgba(color: #000000, alpha: 0.16);'></div>",size:window.naver.maps.Size(40,40),anchor:window.naver.maps.Point(20,20)},htmlMarker5:{content:"<div class='marker' style='display: flex; align-items: center; justify-content: center; background-color: #191A37; color: #fff; font-size: 20px; font-weight: 700; box-shadow: 6px 6px 10px rgba(color: #000000, alpha: 0.16);'></div>",size:window.naver.maps.Size(40,40),anchor:window.naver.maps.Point(20,20)}}},ionViewWillEnter(){this.getGps(),this.partnersMap()},ionViewDidLeave(){},mounted(){},methods:{async getGps(){"web"!==f.dV.getPlatform()?await x.b.getCurrentPosition().then((n=>{this.gpsLat=n.coords.latitude,this.gpsLon=n.coords.longitude})):(console.log("[개발환경] web 에서 GPS는 활성화 되지 않습니다."),clearInterval(this.intervalLatLon))},partnersMap(){(0,h.Yu)({url:"/messageMain/getPartnersMap",param:{},then:n=>{this.itemList=n,console.log("this.gpsLat : : : ",this.gpsLat),console.log("this.gpsLon : : : ",this.gpsLon),this.$nextTick((()=>{""==this.gpsLat||""==this.gpsLon?(this.lat=37.5751959,this.lon=126.9764627):(this.lat=this.gpsLat,this.lon=this.gpsLon),this.naverMap(this.lat,this.lon)}))}})},naverMap(n,t){let e=this;const o=window.naver.maps,a=document.getElementById("map");if(null==a)return;let i={center:new o.LatLng(n,t),zoom:15,zoomControl:!0,zoomControlOptions:{style:o.ZoomControlStyle.LARGE,position:o.Position.TOP_RIGHT}};this.map=new o.Map(a,i),o.Event.once(this.map,"init",(()=>{let n='<a style="\n                z-index: 100;\n                overflow: hidden;\n                display: inline-block;\n                position: absolute;\n                top: 7px;\n                left: 5px;\n                width: 34px;\n                height: 34px;\n                border: 1px solid rgba(58,70,88,.45);\n                border-radius: 2px;\n                background: #fcfcfd;\n                  background-clip: border-box;\n                text-align: center;\n                -webkit-background-clip: padding;\n                background-clip: padding-box;\n              "\n            >\n            <span style="\n                overflow: hidden;\n                display: inline-block;\n                color: transparent !important;\n                vertical-align: top;\n                background: url(https://ssl.pstatic.net/static/maps/m/spr_trff_v6.png) 0 0;\n                background-position-x: 0px;\n                background-position-y: 0px;\n                background-size: auto;\n                background-size: 200px 200px;\n                -webkit-background-size: 200px 200px;\n                width: 20px;\n                height: 20px;\n                margin: 7px 0 0 0;\n                background-position: -153px -31px;\n              ">중심위치</span>\n           </a>',t=new o.CustomControl(n,{position:window.naver.maps.Position.TOP_LEFT});t.setMap(this.map),window.naver.maps.Event.addDOMListener(t.getElement(),"click",(()=>{this.map.setCenter(new o.LatLng(this.lat,this.lng))}))})),this.markers=[],this.itemList.forEach((n=>{const t=new o.LatLng(n.lat,n.lon),e=new o.Marker({position:t,map:this.map,icon:{content:`<div class="marker"><img src="https://${n.cdnThumbNm}" /></div>`,size:new o.Size(60,60),scaledSize:new o.Size(60,60),origin:new o.Point(0,0),anchor:new o.Point(12,37)},title:n.title});window.naver.maps.Event.addListener(e,"click",(()=>{this.modalItem=n,this.mapInfoModal=!0})),this.markers.push(e)}));new g.P({minClusterSize:2,maxZoom:16,map:e.map,markers:e.markers,disableClickZoom:!1,gridSize:50,icons:[e.htmlMarker1,e.htmlMarker2,e.htmlMarker3,e.htmlMarker4,e.htmlMarker5],stylingFunction:function(n,t){const e=n.getElement().children[0];e.innerHTML=t}})}}};var b=e(83744);const v=(0,b.Z)(k,[["render",d],["__scopeId","data-v-62a98def"]]),y=v}}]);
//# sourceMappingURL=7870.777a4544.js.map