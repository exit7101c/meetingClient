"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[9984],{59984:(t,e,n)=>{n.r(e),n.d(e,{default:()=>W});var l=n(66252);function o(t,e,n,o,a,i){const u=(0,l.up)("BackButton"),r=(0,l.up)("ion-buttons"),s=(0,l.up)("ion-title"),m=(0,l.up)("ion-toolbar"),p=(0,l.up)("ion-header"),c=(0,l.up)("AlarmListItem"),h=(0,l.up)("ion-item-group"),d=(0,l.up)("ion-list"),g=(0,l.up)("ion-infinite-scroll-content"),y=(0,l.up)("ion-infinite-scroll"),f=(0,l.up)("ion-content"),w=(0,l.up)("ion-page");return(0,l.wg)(),(0,l.j4)(w,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,null,{default:(0,l.w5)((()=>[(0,l.Wm)(m,{class:"join-toolbar"},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{slot:"start"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{onEvent:i.alarmPrevPage,custom:!0},null,8,["onEvent"])])),_:1}),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l.Uk)("알림")])),_:1})])),_:1})])),_:1}),(0,l.Wm)(f,{class:"ion-padding"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{lines:"none"},{default:(0,l.w5)((()=>[(0,l.Wm)(h,null,{default:(0,l.w5)((()=>[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(i.alarmList,(t=>((0,l.wg)(),(0,l.j4)(c,{key:t,item:t,onHandleRouterAlarm:e=>i.handleRouterAlarm(t)},null,8,["item","onHandleRouterAlarm"])))),128))])),_:1})])),_:1}),(0,l.Wm)(y,{threshold:"100px",onIonInfinite:i.ionInfinite},{default:(0,l.w5)((()=>[(0,l.Wm)(g,{loadingText:"Please wait...",loadingSpinner:"bubbles"})])),_:1},8,["onIonInfinite"])])),_:1})])),_:1})}n(57658);var a=n(28151),i=n(3577);const u=t=>((0,l.dD)("data-v-caa393c8"),t=t(),(0,l.Cn)(),t),r=u((()=>(0,l._)("br",null,null,-1))),s={slot:"end"};function m(t,e,n,o,a,u){const m=(0,l.up)("ion-icon"),p=(0,l.up)("ion-text"),c=(0,l.up)("ion-label"),h=(0,l.up)("ion-item");return(0,l.wg)(),(0,l.j4)(h,{onClick:u.handleRouterAlarm},{default:(0,l.w5)((()=>["community"===n.item.pushType?((0,l.wg)(),(0,l.j4)(m,{key:0,slot:"start",icon:a.communityOutline,color:"light"},null,8,["icon"])):"communityChat"===n.item.pushType?((0,l.wg)(),(0,l.j4)(m,{key:1,slot:"start",icon:a.messageOutline,color:"light"},null,8,["icon"])):"openChat"===n.item.pushType?((0,l.wg)(),(0,l.j4)(m,{key:2,slot:"start",icon:a.opentChatOutline,color:"light"},null,8,["icon"])):"myLikeMatching"===n.item.pushType?((0,l.wg)(),(0,l.j4)(m,{key:3,slot:"start",icon:a.choiceOutline,color:"light"},null,8,["icon"])):(0,l.kq)("",!0),(0,l.Wm)(c,null,{default:(0,l.w5)((()=>[(0,l.Wm)(p,{class:"sub-text01 text-bold text-sm"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(n.item.alarmNm),1)])),_:1}),r,(0,l.Wm)(p,{color:"light",class:"text-bold text-md"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(n.item.contents),1)])),_:1})])),_:1}),(0,l._)("div",s,[(0,l.Wm)(p,{color:"light",class:"text-xs"},{default:(0,l.w5)((()=>[(0,l.Uk)((0,i.zw)(n.item.sendTimeMm),1)])),_:1})])])),_:1},8,["onClick"])}var p=n(24370),c=n(97226),h=n(57228),d=n(58982);const g={name:"AlarmListItem",props:{item:{type:Object}},data(){return{choiceOutline:p,opentChatOutline:c,communityOutline:h,messageOutline:d}},methods:{handleRouterAlarm(t){this.$emit("handleRouterAlarm",t.target.value)}}};var y=n(83744);const f=(0,y.Z)(g,[["render",m],["__scopeId","data-v-caa393c8"]]),w=f;function _(t,e,n,o,a,i){const u=(0,l.up)("ion-icon"),r=(0,l.up)("ion-text"),s=(0,l.up)("ion-label"),m=(0,l.up)("ion-item");return(0,l.wg)(),(0,l.j4)(m,{lines:"none"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{slot:"start",icon:a.alertIcon,color:"light"},null,8,["icon"]),(0,l.Wm)(s,null,{default:(0,l.w5)((()=>[(0,l._)("p",null,[(0,l.Wm)(r,{color:"danger"},{default:(0,l.w5)((()=>[(0,l.Uk)("“수위 높은 발언” 경고")])),_:1})]),(0,l._)("p",null,[(0,l.Wm)(r,{color:"light"},{default:(0,l.w5)((()=>[(0,l.Uk)(" 수위 높은 발언으로 인해 경고 1점이 누적되었습니다 ")])),_:1})])])),_:1})])),_:1})}var k=n(72926);const A={name:"AlarmAlertNotice",data(){return{alertIcon:k}}},x=(0,y.Z)(A,[["render",_],["__scopeId","data-v-8775a534"]]),T=x;var b=n(27783);const v={name:"Alarm",components:{IonInfiniteScroll:b.ju,IonInfiniteScrollContent:b.MB,AlarmListItem:w,AlarmAlertNotice:T},computed:{alarmList(){return this.$store.state.alarmList}},data(){return{nextNo:null}},mounted(){this.nextNo=null,this.getAlarmList(),this.setAlarmConfirm()},beforeUnmount(){},methods:{getAlarmList(){(0,a.Yu)({url:"/getAlarmList",param:{nextNo:this.nextNo},then:t=>{this.$store.state.alarmList=t,t.length>0&&(this.nextNo=t[t.length-1].alarmSeq)}})},setAlarmConfirm(){(0,a.Yu)({url:"/setAlarmConfirm",param:{},then:()=>{}})},ionInfinite(t){let e=this;setTimeout((function(){(0,a.Yu)({url:"/getAlarmList",param:{nextNo:e.nextNo},then:t=>{e.$nextTick((()=>{for(let n in t)e.$store.state.alarmList.push(t[n]);t.length>0&&(e.nextNo=t[t.length-1].alarmSeq)}))}}),t.target.complete()}),1e3)},handleRouterAlarm(t){"message"==t.pushType||"myLikeMatching"==t.pushType||"communityChat"==t.pushType?((0,a.UV)({chatroomId:t.pushKey,type:t.pushType,chatroomType:"first"}),this.$router.push("/messageTalk")):"openChat"==t.pushType?((0,a.pR)({openChatKey:t.pushKey,type:t.pushType}),this.$router.push("/openChatView")):"community"==t.pushType?((0,a.y5)({article:t.pushKey,type:t.pushType}),this.$router.push("/communityView")):"myLike"==t.pushType?this.$router.push("/myLike"):"else"==t.pushType&&this.$router.push("/alarm")},alarmPrevPage(){(0,a._S)({checkedAlarm:!0}),this.$router.go(-1)}}},I=(0,y.Z)(v,[["render",o]]),W=I},72926:(t,e,n)=>{t.exports=n.p+"img/icon_alert.dc827bb0.svg"}}]);
//# sourceMappingURL=9984-legacy.41b1ef62.js.map