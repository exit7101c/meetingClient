(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[2340],{47850:(e,t,n)=>{var i=n(70111),a=n(84326),o=n(5112),s=o("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[s])?!!t:"RegExp"==a(e))}},34706:(e,t,n)=>{var i=n(46916),a=n(92597),o=n(47976),s=n(67066),l=RegExp.prototype;e.exports=function(e){var t=e.flags;return void 0!==t||"flags"in l||a(e,"flags")||!o(l,e)?t:i(s,e)}},26699:(e,t,n)=>{"use strict";var i=n(82109),a=n(41318).includes,o=n(47293),s=n(51223),l=o((function(){return!Array(1).includes()}));i({target:"Array",proto:!0,forced:l},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")},68757:(e,t,n)=>{"use strict";var i=n(82109),a=n(46916),o=n(1702),s=n(84488),l=n(60614),r=n(68554),c=n(47850),h=n(41340),u=n(58173),d=n(34706),p=n(10647),m=n(5112),g=n(31913),f=m("replace"),C=TypeError,k=o("".indexOf),w=o("".replace),y=o("".slice),b=Math.max,v=function(e,t,n){return n>e.length?-1:""===t?n:k(e,t,n)};i({target:"String",proto:!0},{replaceAll:function(e,t){var n,i,o,m,_,I,Y,D,W,T=s(this),x=0,U=0,O="";if(!r(e)){if(n=c(e),n&&(i=h(s(d(e))),!~k(i,"g")))throw C("`.replaceAll` does not allow non-global regexes");if(o=u(e,f),o)return a(o,e,T,t);if(g&&n)return w(h(T),e,t)}m=h(T),_=h(e),I=l(t),I||(t=h(t)),Y=_.length,D=b(1,Y),x=v(m,_,0);while(-1!==x)W=I?h(t(_,x,m)):p(_,m,x,[],void 0,t),O+=y(m,U,x)+W,U=x+Y,x=v(m,_,x+D);return U<m.length&&(O+=y(m,U)),O}})},67e3:(e,t,n)=>{"use strict";n.d(t,{Z:()=>Y});var i=n(66252),a=n(3577);const o=e=>((0,i.dD)("data-v-53c63027"),e=e(),(0,i.Cn)(),e),s={class:"content ion-padding"},l={class:"row-box"},r={class:"text-rank"},c={class:"text-xl"},h={class:"row-box"},u={class:"text-xs"},d=o((()=>(0,i._)("br",null,null,-1))),p={class:"text-sm"},m={class:"row-box"},g=o((()=>(0,i._)("br",null,null,-1))),f=o((()=>(0,i._)("br",null,null,-1))),C={class:"row-box"},k={class:"text-bold"};function w(e,t,n,o,w,y){const b=(0,i.up)("ion-title"),v=(0,i.up)("ion-icon"),_=(0,i.up)("custom-button"),I=(0,i.up)("ion-buttons"),Y=(0,i.up)("ion-toolbar"),D=(0,i.up)("ion-text"),W=(0,i.up)("ion-label"),T=(0,i.up)("ion-row"),x=(0,i.up)("ion-content"),U=(0,i.up)("ion-modal");return(0,i.wg)(),(0,i.j4)(U,{class:"custom-modal"},{default:(0,i.w5)((()=>[(0,i.Wm)(x,null,{default:(0,i.w5)((()=>[(0,i.Wm)(Y,{class:"layout-container"},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{color:"warning"},{default:(0,i.w5)((()=>["N"==n.isBuffYn?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)(" 🔥")],64)):(0,i.kq)("",!0),(0,i.Uk)(" 현재 모임 순위 ")])),_:1}),(0,i.Wm)(I,{slot:"end"},{default:(0,i.w5)((()=>[(0,i.Wm)(_,{onClick:y.handleClose,class:"btn-close"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{slot:"icon-only",color:"secondary",icon:w.closeIcon},null,8,["icon"])])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,i._)("div",s,[(0,i._)("div",l,[(0,i.Wm)(D,{color:"light",class:"text-bold"},{default:(0,i.w5)((()=>[(0,i._)("span",r,(0,a.zw)(n.openchatRank),1),(0,i._)("span",c,"/ "+(0,a.zw)(n.totalRoom),1)])),_:1})]),(0,i._)("div",h,[(0,i.Wm)(W,null,{default:(0,i.w5)((()=>[(0,i.Wm)(D,{color:"warning",class:"text-bold"},{default:(0,i.w5)((()=>[(0,i._)("span",u,(0,a.zw)(n.useCnt)+"개 사용중",1),d,(0,i._)("span",p,(0,a.zw)(n.calTimeStr),1)])),_:1})])),_:1})]),(0,i._)("div",m,[(0,i._)("p",null,[(0,i.Wm)(D,null,{default:(0,i.w5)((()=>[(0,i.Uk)("모임 부스트를 사용해서")])),_:1}),g,(0,i.Wm)(D,null,{default:(0,i.w5)((()=>[(0,i.Uk)("모임 순위를 높여보세요!")])),_:1}),f,(0,i.Wm)(D,{class:"text-sm"},{default:(0,i.w5)((()=>[(0,i.Uk)("(5시간 동안 모임 인기도 +100)")])),_:1})])]),(0,i._)("div",C,[(0,i.Wm)(_,{color:"primary",shape:"round",size:"large",expand:"block",onClick:y.handleClick,class:"btn-boost"},{default:(0,i.w5)((()=>[(0,i.Wm)(T,{class:"ion-align-items-center ion-justify-content-between"},{default:(0,i.w5)((()=>[(0,i.Wm)(D,{class:"text-sm"},{default:(0,i.w5)((()=>[(0,i.Uk)("남은 부스트 | "),(0,i._)("span",k,(0,a.zw)(n.coupon.quantity)+"개",1)])),_:1}),(0,i.Wm)(D,{class:"text-bold text-lg"},{default:(0,i.w5)((()=>[(0,i.Uk)("부스트 사용하기")])),_:1})])),_:1})])),_:1},8,["onClick"])])])])),_:1})])),_:1})}var y=n(18903),b=n(80857);const v={name:"CustomBoostModal",props:{coupon:{type:Object},isBuffYn:{type:String},openchatRank:{type:Number},totalRoom:{type:Number},useCnt:{type:Number},calTimeStr:{type:String}},data(){return{flameOutline:y.sz4,closeIcon:b}},methods:{handleClose(){this.$emit("close")},handleClick(){this.$emit("event")}}};var _=n(83744);const I=(0,_.Z)(v,[["render",w],["__scopeId","data-v-53c63027"]]),Y=I},61061:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d});var i=n(66252),a=n(3577);function o(e,t,o,s,l,r){const c=(0,i.up)("ion-img"),h=(0,i.up)("ion-avatar"),u=(0,i.up)("ion-text"),d=(0,i.up)("ion-label"),p=(0,i.up)("ion-icon"),m=(0,i.up)("ion-fab-button"),g=(0,i.up)("ion-item");return(0,i.wg)(),(0,i.j4)(g,null,{default:(0,i.w5)((()=>[(0,i.Wm)(h,{slot:"start",onClick:r.handleClickItem},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{src:l.isLoaded?"https://"+o.item.cdnThumbNm:n(7189),onIonImgDidLoad:r.handleImgloaded,onIonError:t[0]||(t[0]=e=>e.srcElement.src=n(7189))},null,8,["src","onIonImgDidLoad"])])),_:1},8,["onClick"]),(0,i.Wm)(d,{onClick:r.handleClickItem},{default:(0,i.w5)((()=>[(0,i._)("h3",null,[(0,i.Wm)(u,{color:"light"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(o.item.nick),1)])),_:1})])])),_:1},8,["onClick"]),(0,i.Wm)(m,{color:"danger",size:"small",onClick:r.handleClickOk,class:"btn-cancel"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{color:"light",icon:l.checkIcon},null,8,["icon"])])),_:1},8,["onClick"]),(0,i.Wm)(m,{color:"success",size:"small",onClick:r.handleClickCancel,class:"btn-ok"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{color:"light",icon:l.closeIcon},null,8,["icon"])])),_:1},8,["onClick"])])),_:1})}var s=n(28151),l=n(80857),r=n(83105);const c={name:"OpenChatViewAttendItem",props:{item:{type:Object}},computed:{},data(){return{closeIcon:l,checkIcon:r,API_BASE_URL:s.CT,isLoaded:!1}},methods:{handleImgloaded(){this.isLoaded=!0},handleClickItem(){this.$emit("event")},handleClickOk(){this.$emit("ok")},handleClickCancel(){this.$emit("cancel")}}};var h=n(83744);const u=(0,h.Z)(c,[["render",o],["__scopeId","data-v-4654e354"]]),d=u},20362:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(66252);function a(e,t,n,a,o,s){const l=(0,i.up)("ion-text"),r=(0,i.up)("ion-list-header"),c=(0,i.up)("ion-list");return(0,i.wg)(),(0,i.j4)(c,{lines:"full"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(l,{color:"light",class:"text-md"},{default:(0,i.w5)((()=>[(0,i.Uk)("참여 신청자")])),_:1})])),_:1}),(0,i.WI)(e.$slots,"content",{},void 0,!0)])),_:3})}const o={name:"OpenChatAttendList"};var s=n(83744);const l=(0,s.Z)(o,[["render",a],["__scopeId","data-v-013f53fc"]]),r=l},67914:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var i=n(66252),a=n(3577);const o=["src"];function s(e,t,s,l,r,c){const h=(0,i.up)("ion-avatar"),u=(0,i.up)("ion-text"),d=(0,i.up)("ion-chip"),p=(0,i.up)("ion-row"),m=(0,i.up)("ion-label"),g=(0,i.up)("ion-item");return(0,i.wg)(),(0,i.j4)(g,{lines:"none",onClick:c.handleClick},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{slot:"start"},{default:(0,i.w5)((()=>[(0,i._)("img",{src:"https://"+s.thumbnail,"on:ionError":t[0]||(t[0]=e=>e.srcElement.src=n(7189)),alt:""},null,40,o)])),_:1}),(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(u,{color:"light",class:"text-lg"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(s.user.nick),1)])),_:1}),(0,i.Wm)(d,{class:"chip-sm chip-secondary"},{default:(0,i.w5)((()=>[(0,i.Uk)("프로필 보기")])),_:1})])),_:1})])),_:1}),(0,i.Wm)(u,{color:"light",class:"text-xs"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(s.regDate)+" · 읽음 "+(0,a.zw)(s.user.viewCnt),1)])),_:1})])),_:1},8,["onClick"])}const l={name:"OpenChatViewUserInfo",props:{thumbnail:{type:String},user:{type:Object},regDate:{type:String}},methods:{handleClick(){this.$emit("event")}}};var r=n(83744);const c=(0,r.Z)(l,[["render",s],["__scopeId","data-v-3fbeb24b"]]),h=c},2982:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(66252);function a(e,t,n,a,o,s){const l=(0,i.up)("ion-spinner");return(0,i.wg)(),(0,i.j4)(l,{name:"lines"})}const o={name:"PageLoadingCheck"};var s=n(83744);const l=(0,s.Z)(o,[["render",a]]),r=l},2340:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>K});var i=n(66252),a=n(3577);const o={class:"row-box"},s={class:"row-box"},l={key:0,class:"row-box"},r={key:1,class:"row-box"},c={key:2,class:"row-box"},h={key:0,style:{"font-size":"12px"}},u={key:1,style:{"font-size":"12px",color:"#f1f157"}},d={class:"row-box"},p={class:"row-box"};function m(e,t,m,g,f,C){const k=(0,i.up)("BackButton"),w=(0,i.up)("ion-buttons"),y=(0,i.up)("ion-title"),b=(0,i.up)("ion-icon"),v=(0,i.up)("custom-button"),_=(0,i.up)("ion-item"),I=(0,i.up)("ion-list"),Y=(0,i.up)("ion-content"),D=(0,i.up)("ion-popover"),W=(0,i.up)("ion-toolbar"),T=(0,i.up)("ion-header"),x=(0,i.up)("PageLoadingCheck"),U=(0,i.up)("OpenChatViewUserInfo"),O=(0,i.up)("ion-img"),$=(0,i.up)("ion-text"),K=(0,i.up)("ion-chip"),M=(0,i.up)("ion-label"),L=(0,i.up)("ion-row"),R=(0,i.up)("OpenChatViewAttendItem"),N=(0,i.up)("OpenChatViewAttendList"),A=(0,i.up)("OpenChatPrivate"),j=(0,i.up)("CustomCardItem"),z=(0,i.up)("CustomBoostModal"),B=(0,i.up)("ion-col"),S=(0,i.up)("ion-grid"),E=(0,i.up)("ion-footer"),P=(0,i.up)("ion-page");return(0,i.wg)(),(0,i.j4)(P,null,{default:(0,i.w5)((()=>[(0,i.Wm)(T,null,{default:(0,i.w5)((()=>[(0,i.Wm)(W,null,{default:(0,i.w5)((()=>[(0,i.Wm)(w,{slot:"start"},{default:(0,i.w5)((()=>[(0,i.Wm)(k,{onEvent:C.prevPage,custom:!0},null,8,["onEvent"])])),_:1}),(0,i.Wm)(y,null,{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(f.chatDetailMap.partitionNm),1)])),_:1}),(0,i.Wm)(w,{slot:"end"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{id:"openChat-popover-button"},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{slot:"icon-only",icon:f.menuIcon,color:"light"},null,8,["icon"])])),_:1}),(0,i.Wm)(D,{trigger:"openChat-popover-button","dismiss-on-select":!0,mode:"ios"},{default:(0,i.w5)((()=>[(0,i.Wm)(Y,null,{default:(0,i.w5)((()=>[(0,i.Wm)(I,{lines:"full"},{default:(0,i.w5)((()=>["Y"===f.ssUserYn?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Wm)(_,{button:!0,detail:!1,onClick:t[0]||(t[0]=e=>C.editOpenChat(f.chatDetailMap))},{default:(0,i.w5)((()=>[(0,i.Uk)("수정 ")])),_:1}),(0,i.Wm)(_,{button:!0,detail:!1,onClick:t[1]||(t[1]=e=>C.presentAlertConfirm())},{default:(0,i.w5)((()=>[(0,i.Uk)("삭제 ")])),_:1})],64)):((0,i.wg)(),(0,i.j4)(_,{key:1,button:!0,detail:!1,onClick:C.policeBtn},{default:(0,i.w5)((()=>[(0,i.Uk)("신고 ")])),_:1},8,["onClick"]))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),!0===f.openChatLodingCheck?((0,i.wg)(),(0,i.j4)(Y,{key:0,class:"ion-padding"},{default:(0,i.w5)((()=>[!1!==f.lodingCheck?((0,i.wg)(),(0,i.j4)(x,{key:0,style:{position:"fixed",top:"48%",left:"48%","z-index":"9999"}})):(0,i.kq)("",!0),(0,i.Wm)(U,{user:f.chatDetailMap,"reg-date":f.regDate,thumbnail:f.cdnThumbNmProfile,onEvent:t[2]||(t[2]=e=>C.profileInfo(this.regUserKey))},null,8,["user","reg-date","thumbnail"]),(0,i._)("div",null,[(0,i.Wm)(O,{src:""!==f.cdnNm?"https://"+f.cdnNm:n(7189),onIonError:t[3]||(t[3]=e=>e.srcElement.src=n(7189))},null,8,["src"]),(0,i._)("div",o,[(0,i.Wm)(L,{class:"ion-align-items-center ion-justify-content-between"},{default:(0,i.w5)((()=>[(0,i.Wm)($,{color:"light",class:"text-xl text-bold"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,a.zw)(f.chatDetailMap.title),1)])),_:1}),(0,i.Wm)(M,{onClick:C.openUseOpenChatModal},{default:(0,i.w5)((()=>[(0,i.Wm)(K,{class:"chip-sm chip-secondary"},{default:(0,i.w5)((()=>[(0,i.Uk)("🔥현재 "+(0,a.zw)(f.openchatRank)+"위 모임 ",1)])),_:1})])),_:1},8,["onClick"])])),_:1})]),(0,i._)("div",s,[(0,i._)("p",null,[(0,i.Wm)($,{color:"light",class:"text-md",innerHTML:f.chatDetailMap.replaceContent},null,8,["innerHTML"])])]),f.isLeader?((0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(N,null,{content:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(f.attendInfoList,((e,t)=>((0,i.wg)(),(0,i.j4)(R,{key:t,item:e,onEvent:t=>C.profileInfo(e.userKey),onOk:t=>C.agreeYn("Y",e.userKey),onCancel:t=>C.agreeYn("N",e.userKey)},null,8,["item","onEvent","onOk","onCancel"])))),128))])),_:1})])):(0,i.kq)("",!0),f.isLeader?((0,i.wg)(),(0,i.iD)("div",r,[(0,i.Wm)(j,{clear:!0},{default:(0,i.w5)((()=>[(0,i.Wm)(M,{style:{margin:"0"}},{default:(0,i.w5)((()=>[(0,i.Wm)(A,{privateYn:f.privateYn,onToggle:t[4]||(t[4]=e=>C.setCheckPrivateYn(e))},null,8,["privateYn"])])),_:1})])),_:1})])):(0,i.kq)("",!0),f.recentTime?((0,i.wg)(),(0,i.iD)("div",c,[(0,i.Wm)(j,{clear:!0},{default:(0,i.w5)((()=>[(0,i.Wm)(M,null,{default:(0,i.w5)((()=>[(0,i.Wm)(L,{class:"gap-md ion-align-items-center",style:{"text-align":"center !important"}},{default:(0,i.w5)((()=>[(0,i.Wm)($,{color:"light"},{default:(0,i.w5)((()=>["방금 전"!=f.recentTime?((0,i.wg)(),(0,i.iD)("span",h," 방장이 "+(0,a.zw)(f.recentTime)+" 마지막으로 활동했습니다. ",1)):((0,i.wg)(),(0,i.iD)("span",u," 방장이 현재 활동 중 입니다 "))])),_:1})])),_:1})])),_:1})])),_:1})])):(0,i.kq)("",!0),(0,i._)("div",d,[(0,i.Wm)(j,{clear:!0},{default:(0,i.w5)((()=>[(0,i.Wm)(M,null,{default:(0,i.w5)((()=>[(0,i.Wm)(L,{class:"gap-md ion-align-items-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{color:"secondary",icon:f.calendarIcon},null,8,["icon"]),(0,i.Wm)($,{color:"light"},{default:(0,i.w5)((()=>["상시 모집"===f.dueDate?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)((0,a.zw)(f.dueDate),1)],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,a.zw)(f.chatDetailMap.dueDate)+"   "+(0,a.zw)(f.dueDate),1)],64))])),_:1})])),_:1})])),_:1})])),_:1})]),(0,i._)("div",p,[(0,i.Wm)(j,{clear:!0},{default:(0,i.w5)((()=>[(0,i.Wm)(M,null,{default:(0,i.w5)((()=>[(0,i.Wm)(L,{class:"gap-md ion-align-items-center"},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{color:"secondary",icon:f.locationOutline},null,8,["icon"]),(0,i.Wm)($,{color:"light"},{default:(0,i.w5)((()=>[""===f.chatDetailMap.location?((0,i.wg)(),(0,i.iD)(i.HY,{key:0},[(0,i.Uk)(" 아직 장소가 정해지지 않았어요! ")],64)):((0,i.wg)(),(0,i.iD)(i.HY,{key:1},[(0,i.Uk)((0,a.zw)(f.chatDetailMap.location),1)],64))])),_:1})])),_:1})])),_:1})])),_:1})])]),(0,i.Wm)(z,{"is-open":f.boostModal,isBuffYn:f.isBuffYn,coupon:f.coupon,openchatRank:f.openchatRank,totalRoom:f.totalRoom,useCnt:f.useCnt,calTimeStr:f.calTimeStr,onIonModalDidDismiss:C.boostModalClose,onClose:C.boostModalClose,onEvent:C.useOpenChatBoost},null,8,["is-open","isBuffYn","coupon","openchatRank","totalRoom","useCnt","calTimeStr","onIonModalDidDismiss","onClose","onEvent"])])),_:1})):(0,i.kq)("",!0),!1===f.openChatLodingCheck?((0,i.wg)(),(0,i.j4)(Y,{key:1,disabled:!0},{default:(0,i.w5)((()=>[(0,i.Wm)(x,{style:{display:"flex","align-items":"center","justify-content":"center",margin:"0 auto",height:"100%"}})])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(E,null,{default:(0,i.w5)((()=>[(0,i.Wm)(S,null,{default:(0,i.w5)((()=>[(0,i.Wm)(L,null,{default:(0,i.w5)((()=>[(0,i.Wm)(B,{size:"3"},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{onClick:C.eyeOn,size:"large",expand:"block",fill:"Y"===f.bookmarkYn?"solid":"outline",color:"Y"===f.bookmarkYn?"primary":"secondary",disabled:!f.bookmarkCheckDisabled},{default:(0,i.w5)((()=>[(0,i.Wm)(b,{icon:f.heartOutline,size:"large",color:"light"},null,8,["icon"])])),_:1},8,["onClick","fill","color","disabled"])])),_:1}),(0,i.Wm)(B,{size:"9"},{default:(0,i.w5)((()=>["Y"===f.ssUserYn?((0,i.wg)(),(0,i.j4)(v,{key:0,onClick:C.joinIn,size:"large",expand:"block",color:"primary",disabled:!f.joinInCheckDisabled},{default:(0,i.w5)((()=>[(0,i.Uk)(" 대화하기 ")])),_:1},8,["onClick","disabled"])):"ATTEND"===f.attendChk?((0,i.wg)(),(0,i.j4)(v,{key:1,onClick:C.joinIn,size:"large",expand:"block",color:"primary",disabled:!f.joinInCheckDisabled},{default:(0,i.w5)((()=>[(0,i.Uk)(" 대화하기 ")])),_:1},8,["onClick","disabled"])):"Y"===f.inviteYn&&""!==f.attendRegTime&&"NOTATTEND"===f.attendChk&&"N"!==f.attendYn?((0,i.wg)(),(0,i.j4)(v,{key:2,class:"footerBtn1",onClick:C.joinIn,size:"large",expand:"block",color:"danger",disabled:!f.joinInCheckDisabled},{default:(0,i.w5)((()=>[(0,i.Uk)(" 취소할래요 ")])),_:1},8,["onClick","disabled"])):((0,i.wg)(),(0,i.j4)(v,{key:3,onClick:C.joinIn,size:"large",expand:"block",color:"secondary",disabled:!f.joinInCheckDisabled},{default:(0,i.w5)((()=>[(0,i.Uk)(" 참여하기 ")])),_:1},8,["onClick","disabled"]))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}n(57658),n(38862),n(74916),n(33948),n(26699),n(15306),n(68757);var g=n(18903),f=n(28151),C=n(67914);const k={key:0,style:{"font-size":"12px",color:"#336dff"}},w={key:1,style:{"font-size":"12px",color:"#f63d3d"}};function y(e,t,n,a,o,s){const l=(0,i.up)("ion-text"),r=(0,i.up)("ion-toggle"),c=(0,i.up)("ion-item");return(0,i.wg)(),(0,i.j4)(c,{lines:"none"},{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i.Wm)(l,{color:"light"},{default:(0,i.w5)((()=>[1==n.privateYn?((0,i.wg)(),(0,i.iD)("span",k," 오픈채팅 활성화 상태 ")):((0,i.wg)(),(0,i.iD)("span",w," 오픈채팅 비활성화 상태 "))])),_:1})]),(0,i.Wm)(r,{slot:"end",mode:"ios",checked:n.privateYn,onClick:s.openChatPrivate},null,8,["checked","onClick"])])),_:1})}const b={name:"OpenChatPrivate",props:{privateYn:{type:Boolean}},methods:{openChatPrivate(){this.$emit("toggle")}}};var v=n(83744);const _=(0,v.Z)(b,[["render",y],["__scopeId","data-v-573ae6b2"]]),I=_;var Y=n(67e3),D=n(69391),W=n(2982),T=n(23265),x=n(20362),U=n(61061);const O={name:"OpenChatView",inject:["alertController","loadingController"],components:{OpenChatPrivate:I,OpenChatViewUserInfo:C.Z,PageLoadingCheck:W.Z,CustomBoostModal:Y.Z,OpenChatViewAttendItem:U.Z,OpenChatViewAttendList:x.Z},ionViewWillEnter(){this.openChatLodingCheck=!1,"doRefresh"===this.$route.params.routerType&&this.beforeReset(),this.getOpenChatDetail()},ionViewDidLeave(){clearInterval(this.interval),clearInterval(this.interval2),this.isLeader=!1,this.attendInfoList=[]},data(){return{menuIcon:T,locationOutline:g.Iv7,calendarIcon:D,starOutline:g.i6c,ellipsisVertical:g.LHl,heartOutline:g.gjX,flameOutline:g.sz4,chatDetailMap:{},bookmarkYn:"",msg:"",regDate:"",dueDate:"",inviteYn:"",ssUserYn:"",mainFileId:"",isPopover:!1,regUserKey:"",userPhotoId:"",attendYn:"",chatroomId:"",loading:null,attendChk:"",leaderConfirmYn:"",attendRegTime:"",recentTime:"",coupon:"",useType:"",boostModal:!1,isBuffYn:"N",remainingTime:"",remainingTimeStr:"",interval:null,interval2:null,calTimeStr:"00:00:00",openchatRank:"",totalRoom:"",useCnt:"0",itemList:"",cdnNm:"",cdnThumbNm:"",cdnThumbNmProfile:"",lodingCheck:!1,openChatLodingCheck:!1,attendInfoList:[],bookmarkCheckDisabled:!0,joinInCheckDisabled:!0,loadingTime:500,privateYn:!0,isLeader:!1}},methods:{getRecentDate(e){const t=new Date,n=new Date(e),i=Math.floor((t.getTime()-n.getTime())/1e3/60);if(i<1)return"방금 전";if(i<60)return`${i}분 전`;const a=Math.floor(i/60);if(a<24)return`${a}시간 전`;const o=Math.floor(i/60/24);return o<365?`${o}일 전`:`${Math.floor(o/365)}년 전`},dismiss(){this.$refs.modal.$el.dismiss()},beforeReset(){this.chatDetailMap={},this.userPhotoId="",this.mainFileId="",clearInterval(this.interval),clearInterval(this.interval2),this.isBuffYn="N",this.remainingTime="",this.remainingTimeStr="",this.calTimeStr="00:00:00",this.openchatRank="",this.totalRoom="",this.useCnt="0"},setCheckPrivateYn(){this.showLoading(),(0,f.Yu)({url:"/setCheckPrivateYn",param:{openChatKey:f.$h.openChatKey,privateYn:this.privateYn},then:e=>{"N"===e.successYn?(this.getOpenChatDetail(),this.warningAlert(e.message)):this.privateYn="Y"==e.privateYn,setTimeout((()=>{this.loading.dismiss()}),500)}})},getOpenChatDetail(){let e=!1,t=sessionStorage.getItem("articleViewList"),n=new Date,i=new Date;t=t?JSON.parse(t):[];for(let a in t){t[a]["openChatKey"]===f.$h.openChatKey&&(e=!0);let n=(i.getTime()-new Date(t[a]["time"]).getTime())/6e4;n>1440&&t.splice(a,1)}e||(t.push({openChatKey:f.$h.openChatKey,time:n}),sessionStorage.setItem("articleViewList",JSON.stringify(t))),(0,f.Yu)({url:"/getOpenChatDetail",param:{openChatKey:f.$h.openChatKey,viewAddYn:e?"Y":"N"},then:e=>{this.itemList=e,this.regDate=e.regDateStr,this.dueDate=e.dueDateStr,this.inviteYn="N"===e.attenderCancelYn?"Y":"N",this.bookmarkYn=e.bookmarkYn,this.chatDetailMap=e,this.ssUserYn=e.ssUserKey===e.regUserKey?"Y":"N",this.regUserKey=e.regUserKey,this.mainFileId=e.mainFileId,this.attendYn=e.attendYn,this.chatroomId=e.chatroomId,this.attendChk=e.attendChk,this.leaderConfirmYn=e.leaderConfirmYn,this.attendRegTime=e.attendRegTime,this.openchatRank=e.openchatRank,this.totalRoom=e.totalRoom,this.useCnt=e.useCnt,this.cdnNm=e.cdnNm,this.cdnThumbNm=e.cdnThumbNm,this.privateYn="Y"==e.privateYn,this.recentTime=this.getRecentDate(e.recentTime),this.$nextTick((()=>{this.getUserInfo(),e.regUserKey==e.ssUserKey&&(this.isLeader=!0,this.getAttendInfo()),this.replaceURL()}))}})},replaceURL(){let e=/(?:http(s?)?|www)\S+\w/g,t=this.chatDetailMap.content.match(e),n=[...new Set(t)];this.chatDetailMap.replaceContent=this.chatDetailMap.content,Array.from(n).forEach((e=>{e.includes("http")?this.chatDetailMap.replaceContent=this.chatDetailMap.replaceContent.replaceAll(e,`<a href="${e}" target="_blank">${e}</a>`):this.chatDetailMap.replaceContent=this.chatDetailMap.replaceContent.replaceAll(e,`<a href="http://${e}" target="_blank">${e}</a>`)}))},getAttendInfo(){(0,f.Yu)({url:"/getAttendInfo",param:{openChatKey:f.$h.openChatKey},then:e=>{this.attendInfoList=e,this.$nextTick((()=>{this.getUserInfo()}))}})},agreeYn(e,t){this.showLoading(),(0,f.Yu)({url:"/updateOpenChatAttendYn",param:{openChatKey:f.$h.openChatKey,userKey:t,type:e,fileId:0},then:e=>{"Y"===e.successYn?"Y"===e.confirmYn?this.warningAlert("수락 처리 되었습니다"):this.warningAlert("거절 처리 되었습니다"):this.warningAlert(e.message),this.loading.dismiss(),this.$nextTick((()=>{this.getAttendInfo()}))}})},getUserInfo(){alert,(0,f.Yu)({url:"/getUserInfo",param:{regUserKey:this.regUserKey},then:e=>{this.userPhotoId=e.userPhotoId,this.cdnThumbNmProfile=e.cdnThumbNm,this.openChatLodingCheck=!0,this.$nextTick((()=>{this.getUserCouponDataOne()}))}})},prevPage(){this.beforeReset(),"openChat"===f.$h.type?this.$router.push("/openChat"):"myOpenChat"===f.$h.type?this.$router.push("/myOpenChat"):"home"===f.$h.type?this.$router.push("/home"):"openChatMap"===f.$h.type?((0,f.pR)({type:"openChatView",modal:"open",item:f.$h.mpaInfo}),this.$router.push("/openChatMap")):this.$router.go(-1)},eyeOn(){this.showLoading(),this.bookmarkCheckDisabled=!1,(0,f.Yu)({url:"/setOpenChatBookmark",param:{openChatKey:f.$h.openChatKey},then:e=>{this.bookmarkYn=e.bookmarkYn,this.msg=e.message,setTimeout((()=>{this.loading.dismiss(),this.bookmarkCheckDisabled=!0}),this.loadingTime)}})},joinIn(){"Y"===this.attendYn||"Y"===this.ssUserYn?((0,f.UV)({chatroomId:this.chatroomId,type:"openChat"}),this.$router.push("/messageTalk")):(this.showLoading(),this.joinInCheckDisabled=!1,(0,f.Yu)({url:"/setOpenChatInvite",param:{openChatKey:f.$h.openChatKey},then:e=>{this.inviteYn=e.inviteYn,setTimeout((()=>{this.loading.dismiss(),this.joinInCheckDisabled=!0}),this.loadingTime)}}))},profileInfo(e){(0,f.PC)({userKey:e,type:"openChatView"}),this.$router.push("/dailyCardInfo")},editOpenChat(e){(0,f.JU)({openChatKey:f.$h.openChatKey,type:"edit",item:e}),this.$router.push("/openChatWrite")},async presentAlertConfirm(){const e=await this.alertController.create({header:"",message:"삭제하시겠습니까?",buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"삭제",handler:()=>{(0,f.Yu)({url:"/setOpenChatDel",param:{openChatKey:f.$h.openChatKey},then:()=>{}}),this.presentAlert("삭제되었습니다."),this.$router.go(-1)}}]});return e.present()},policeBtn(){let e=this.chatDetailMap.regUserKey;(0,f.IB)({targetId:e,type:"openChatView",targetKey:f.$h.openChatKey}),this.$router.push("/police")},async presentAlert(e){const t=await this.alertController.create({header:"",message:e,buttons:[{text:"OK",role:"Okay",handler:()=>{}}]});return t.present()},getUserCouponDataOne(){let e="CU008";(0,f.Yu)({url:"/getUserCouponDataOne",param:{couponCd:e},then:e=>{this.coupon=e,this.coupon.quantity>0?this.useType="COUPON":this.useType="HEART"}})},openUseOpenChatModal(){this.getBuffUsingInfo(),this.getUserCouponDataOne(),clearInterval(this.interval2),this.interval2=setInterval((()=>{this.getBuffUsingInfo(),this.getUserCouponDataOne()}),1e4),this.boostModal=!0},boostModalClose(){clearInterval(this.interval2),this.boostModal=!1},useOpenChatBoost(){let e="사용하시겠습니까?";if(0===this.coupon.quantity)this.boostModal=!1,this.$router.push("/store");else{const t=()=>{(0,f.Yu)({url:"/useOpenChatBoost",param:{couponCd:"CU008",useType:this.useType,itemCd:"HEART"===this.useType?"IT008_01":"",pointCd:"HEART"===this.useType?"BUY":"",openChatKey:f.$h.openChatKey},then:e=>{"N"===e.successYn||"NH"===e.successYn||"NE"===e.successYn?this.warningAlertNH(e.message):(this.warningAlert(e.message),this.getBuffUsingInfo(),this.getUserCouponDataOne(),clearInterval(this.interval2),this.interval2=setInterval((()=>{this.getBuffUsingInfo(),this.getUserCouponDataOne()}),1e4))}})};this.warningConfirm(e,t)}},getBuffUsingInfo(){(0,f.Yu)({url:"/getBuffUsingInfo",param:{couponCd:"CU008",openChatKey:f.$h.openChatKey},then:e=>{this.isBuffYn=e.isBuffYn,this.remainingTime=e.remainingTime,this.remainingTimeStr=e.remainingTimeStr,this.useCnt=e.useCnt,this.openchatRank=e.openchatRank,this.totalRoom=e.totalRoom,this.$nextTick((()=>{clearInterval(this.interval),this.timeCal(),this.interval=setInterval((()=>{"Y"===this.isBuffYn&&this.timeCal()}),1e3)}))}})},timeCal(){let e,t,n;e=parseInt(this.remainingTime/3600),t=parseInt(this.remainingTime%3600/60),n=this.remainingTime%60,1===e.toString().length&&(e="0"+e),1===t.toString().length&&(t="0"+t),1===n.toString().length&&(n="0"+n),this.remainingTime>0?this.remainingTime=this.remainingTime-1:(this.remainingTime=0,clearInterval(this.interval),this.isBuffYn="N"),this.calTimeStr=e+":"+t+":"+n},async warningAlert(e){const t=await this.alertController.create({header:"",subHeader:"",message:e,buttons:["OK"]});return t.present()},async warningConfirm(e,t){const n=await this.alertController.create({header:"",subHeader:"",message:e,buttons:[{text:"아니요",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"네",handler:()=>{t()}}]});return n.present()},async warningAlertNH(e){const t=await this.alertController.create({header:"",subHeader:"",message:e,buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"이동",handler:()=>{this.$router.push("/store"),this.boostModal=!1}}]});return t.present()},async showLoading(){this.loading=await this.loadingController.create({message:"Loading...",duration:0}),await this.loading.present()}}},$=(0,v.Z)(O,[["render",m]]),K=$},69391:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon_cal_check.cc3a33f3.svg"},83105:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon_check.803ad7bb.svg"},80857:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon_close.b83d5091.svg"},23265:(e,t,n)=>{"use strict";e.exports=n.p+"img/icon_menu.c109343d.svg"},7189:(e,t,n)=>{"use strict";e.exports=n.p+"img/Loading_icon.f0448993.gif"}}]);
//# sourceMappingURL=2340.62a330e4.js.map