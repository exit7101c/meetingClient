"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[621],{39807:(t,e,i)=>{i.d(e,{T:()=>o});var n=i(29895);class a extends n.Uw{async write(t){if("undefined"===typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if(void 0!==t.string)await this.writeText(t.string);else if(t.url)await this.writeText(t.url);else{if(!t.image)throw new Error("Nothing to write");if("undefined"===typeof ClipboardItem)throw this.unavailable("Writing images to the clipboard is not supported in this browser");try{const e=await(await fetch(t.image)).blob(),i=new ClipboardItem({[e.type]:e});await navigator.clipboard.write([i])}catch(e){throw new Error("Failed to write image")}}}async read(){if("undefined"===typeof navigator||!navigator.clipboard)throw this.unavailable("Clipboard API not available in this browser");if("undefined"===typeof ClipboardItem)return this.readText();try{const t=await navigator.clipboard.read(),e=t[0].types[0],i=await t[0].getType(e),n=await this._getBlobData(i,e);return{value:n,type:e}}catch(t){return this.readText()}}async readText(){if("undefined"===typeof navigator||!navigator.clipboard||!navigator.clipboard.readText)throw this.unavailable("Reading from clipboard not supported in this browser");const t=await navigator.clipboard.readText();return{value:t,type:"text/plain"}}async writeText(t){if("undefined"===typeof navigator||!navigator.clipboard||!navigator.clipboard.writeText)throw this.unavailable("Writting to clipboard not supported in this browser");await navigator.clipboard.writeText(t)}_getBlobData(t,e){return new Promise(((i,n)=>{const a=new FileReader;e.includes("image")?a.readAsDataURL(t):a.readAsText(t),a.onloadend=()=>{const t=a.result;i(t)},a.onerror=t=>{n(t)}}))}}const o=(0,n.fo)("Clipboard",{web:()=>new a})},31405:(t,e,i)=>{i.d(e,{Z:()=>u});var n=i(66252);const a={class:"join-title"};function o(t,e,i,o,l,r){const s=(0,n.up)("ion-text");return(0,n.wg)(),(0,n.iD)("div",a,[(0,n.Wm)(s,{color:"light"},{default:(0,n.w5)((()=>[(0,n._)("h2",null,[(0,n.WI)(t.$slots,"title",{},void 0,!0)])])),_:3}),(0,n.Wm)(s,{color:"light"},{default:(0,n.w5)((()=>[(0,n._)("p",null,[(0,n.WI)(t.$slots,"desc",{},void 0,!0)])])),_:3})])}var l=i(27783);const r={name:"JoinTitle",components:{IonText:l.yW}};var s=i(83744);const d=(0,s.Z)(r,[["render",o],["__scopeId","data-v-2fe7c318"]]),u=d},70621:(t,e,i)=>{i.r(e),i.d(e,{default:()=>B});var n=i(66252),a=i(3577);const o=(0,n._)("br",null,null,-1),l={class:"row-box"},r={class:"text-center"},s={class:"row-box"},d={class:"text-center"},u={key:1},c={class:"row-box"},p=(0,n._)("label",null,"등록하기",-1),w={class:"row-box"},v=(0,n._)("span",null," - 보상 지급 대상은 최초 가입한 이용자로, 재가입 시에는 보상을 받을 수 없습니다. ",-1),b=(0,n._)("br",null,null,-1),g=(0,n._)("span",null," - 가입 완료 후 별도로 초대코드를 입력할 수 없습니다. ",-1),f=(0,n._)("br",null,null,-1),h=(0,n._)("span",null,[(0,n.Uk)(" - 앱스토어 리뷰 및 앱 내에서의 초대코드 강요 목적인 게시물이 적발될 시 "),(0,n._)("br"),(0,n.Uk)(" 앱 이용에 제재가 생길 수 있습니다. ")],-1);function m(t,e,i,m,_,x){const C=(0,n.up)("BackButton"),y=(0,n.up)("ion-buttons"),I=(0,n.up)("ion-title"),W=(0,n.up)("ion-toolbar"),k=(0,n.up)("ion-header"),T=(0,n.up)("ion-text"),U=(0,n.up)("ion-icon"),A=(0,n.up)("JoinTitle"),B=(0,n.up)("ion-label"),j=(0,n.up)("ion-button"),D=(0,n.up)("CardBox"),V=(0,n.up)("ion-input"),X=(0,n.up)("custom-button"),Y=(0,n.up)("ion-content"),N=(0,n.up)("ion-page");return(0,n.wg)(),(0,n.j4)(N,null,{default:(0,n.w5)((()=>[(0,n.Wm)(k,null,{default:(0,n.w5)((()=>[(0,n.Wm)(W,{class:"join-toolbar"},{default:(0,n.w5)((()=>[(0,n.Wm)(y,{slot:"start"},{default:(0,n.w5)((()=>[(0,n.Wm)(C)])),_:1}),(0,n.Wm)(I,null,{default:(0,n.w5)((()=>[(0,n.Uk)("친구초대")])),_:1})])),_:1})])),_:1}),(0,n.Wm)(Y,{class:"ion-padding"},{default:(0,n.w5)((()=>[(0,n.Wm)(A,null,{title:(0,n.w5)((()=>[(0,n.Wm)(T,{class:"text-bold v-middle"},{default:(0,n.w5)((()=>[(0,n.Uk)("친구 초대 ")])),_:1}),(0,n.Wm)(U,{icon:_.friendsIcon,size:"large",class:"v-middle"},null,8,["icon"])])),desc:(0,n.w5)((()=>[(0,n._)("p",null,[(0,n.Wm)(T,{class:"text-lg text-bold v-middle"},{default:(0,n.w5)((()=>[(0,n.Uk)(" 친구를 초대할 때 마다 1000 포인트 씩! ")])),_:1}),(0,n.Wm)(U,{icon:_.giftIcon,size:"large",class:"v-middle"},null,8,["icon"])]),(0,n._)("p",null,[(0,n.Wm)(T,null,{default:(0,n.w5)((()=>[(0,n.Uk)(" 친구가 내 초대코드를 입력하면"),o,(0,n.Uk)(" 1000 포인트를 무제한으로 지급합니다 ! ")])),_:1})])])),_:1}),(0,n._)("div",l,[(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[(0,n._)("div",r,[(0,n._)("h6",null,[(0,n.Wm)(T,{class:"sub-text01 text-bold"},{default:(0,n.w5)((()=>[(0,n.Uk)("내 초대코드")])),_:1})]),(0,n.Wm)(j,{fill:"clear",onClick:x.setClipBoard},{default:(0,n.w5)((()=>[(0,n.Wm)(B,{class:"text-bold text-xxl"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,a.zw)(_.inviteCode),1)])),_:1}),(0,n.Wm)(U,{slot:"end",icon:_.copyOutline},null,8,["icon"])])),_:1},8,["onClick"])])])),_:1})]),(0,n._)("div",s,[(0,n.Wm)(D,null,{default:(0,n.w5)((()=>[(0,n._)("div",d,[(0,n._)("h6",null,[(0,n.Wm)(T,{class:"sub-text01 text-bold"},{default:(0,n.w5)((()=>[(0,n.Uk)(" 초대코드 등록하기 ")])),_:1})]),"N"==_.inviteInfo.isInputInvite?((0,n.wg)(),(0,n.j4)(V,{key:0,modelValue:_.inputCode,"onUpdate:modelValue":e[0]||(e[0]=t=>_.inputCode=t),placeholder:"X X X X X X",class:"text-xxl"},null,8,["modelValue"])):((0,n.wg)(),(0,n.iD)("p",u,"초대코드를 이미 입력하셨습니다."))])])),_:1})]),(0,n._)("div",c,["N"==_.inviteInfo.isInputInvite?((0,n.wg)(),(0,n.j4)(X,{key:0,color:"secondary",fill:"outline",expand:"block",size:"large",onClick:x.saveTargetInviteCode},{default:(0,n.w5)((()=>[p])),_:1},8,["onClick"])):(0,n.kq)("",!0)]),(0,n._)("div",w,[(0,n.Wm)(T,{color:"secondary",class:"text-xs"},{default:(0,n.w5)((()=>[v,b,g,f,h])),_:1})])])),_:1})])),_:1})}var _=i(18903),x=i(28151),C=i(39807),y=i(31405),I=i(90345),W=i(70327),k=i(79177);const T={name:"Invite",inject:["alertController","toastController"],components:{JoinTitle:y.Z,CardBox:I.Z},data(){return{giftIcon:W,friendsIcon:k,copyOutline:_.O3B,inviteInfo:{},inviteCode:"",inputCode:""}},ionViewWillEnter(){this.getUserInviteCode()},ionViewDidLeave(){},methods:{getUserInviteCode(){(0,x.Yu)({url:"/getUserInviteCode",param:{},then:t=>{"N"===t.successYn?this.warningAlert(t.message):(this.inviteInfo=t,this.inviteCode=t.inviteCode)}})},saveTargetInviteCode(){this.inputCode.length<6?this.warningAlert("유효하지 않은 상대방 코드입니다."):(0,x.Yu)({url:"/saveTargetInviteCode",param:{inviteCode:this.inputCode,pointCd:"NAVY01",changePoint:1e3},then:t=>{this.warningAlert(t.message),"Y"==t.successYn&&(this.inviteInfo=t)}})},async setClipBoard(){await C.T.write({string:this.inviteCode}),await this.presentToast("복사되었습니다.")},async warningAlert(t,e){const i=await this.alertController.create({header:t,subHeader:"",message:e,buttons:["OK"]});return i.present()},async presentToast(t){const e=await this.toastController.create({message:t,duration:1e3,position:"middle"});await e.present()}}};var U=i(83744);const A=(0,U.Z)(T,[["render",m]]),B=A},79177:(t,e,i)=>{t.exports=i.p+"img/icon_friends.78f48cb4.svg"},70327:(t,e,i)=>{t.exports=i.p+"img/icon_gift.1bf060e2.svg"}}]);
//# sourceMappingURL=621-legacy.7862386b.js.map