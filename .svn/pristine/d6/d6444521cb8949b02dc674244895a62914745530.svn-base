"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[5109],{41817:(e,t,s)=>{var a=s(82109),l=s(19781),o=s(17854),i=s(1702),n=s(92597),r=s(60614),d=s(47976),u=s(41340),c=s(47045),p=s(99920),h=o.Symbol,m=h&&h.prototype;if(l&&r(h)&&(!("description"in m)||void 0!==h().description)){var g={},w=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:u(arguments[0]),t=d(m,this)?new h(e):void 0===e?h():h(e);return""===e&&(g[t]=!0),t};p(w,h),w.prototype=m,m.constructor=w;var y="Symbol(test)"==String(h("test")),k=i(m.valueOf),f=i(m.toString),b=/^Symbol\((.*)\)[^)]+$/,x=i("".replace),C=i("".slice);c(m,"description",{configurable:!0,get:function(){var e=k(this);if(n(g,e))return"";var t=f(e),s=y?C(t,7,-1):x(t,b,"$1");return""===s?void 0:s}}),a({global:!0,constructor:!0,forced:!0},{Symbol:w})}},54594:(e,t,s)=>{s.d(t,{Z:()=>p});var a=s(66252),l=s(3577);const o={class:"message"},i={key:0},n={class:"modal-footer"};function r(e,t,s,r,d,u){const c=(0,a.up)("ion-toolbar"),p=(0,a.up)("custom-button"),h=(0,a.up)("ion-col"),m=(0,a.up)("ion-row"),g=(0,a.up)("ion-content"),w=(0,a.up)("ion-modal");return(0,a.wg)(),(0,a.j4)(w,{ref:"modal","is-open":s.isOpen,onIonModalDidDismiss:u.ionModalDidDismiss},{default:(0,a.w5)((()=>[null!=s.title||""==s.title?((0,a.wg)(),(0,a.j4)(c,{key:0},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(s.title||"제목"),1)])),_:1})):(0,a.kq)("",!0),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a._)("div",o,[(0,a._)("p",null,(0,l.zw)(s.message||"기본 메세지"),1),null!=s.subMessage||""==s.subMessage?((0,a.wg)(),(0,a.iD)("p",i,(0,l.zw)(s.subMessage),1)):(0,a.kq)("",!0)]),(0,a._)("div",n,[(0,a.Wm)(m,null,{default:(0,a.w5)((()=>[(0,a.Wm)(h,{style:{margin:"0 auto","align-items":"center"}},{default:(0,a.w5)((()=>[(0,a.Wm)(p,{shape:"round",fill:"outline",color:"light",onClick:u.ionModalDidDismiss},{default:(0,a.w5)((()=>[(0,a.Uk)("취소 ")])),_:1},8,["onClick"]),(0,a.Wm)(p,{shape:"round",onClick:u.handleClickBtn,disabled:s.disabledCheck},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(s.btnName),1)])),_:1},8,["onClick","disabled"])])),_:1})])),_:1})])])),_:1})])),_:1})])),_:1},8,["is-open","onIonModalDidDismiss"])}const d={name:"AlertMessageModal",props:{isOpen:{type:Boolean},disabledCheck:{type:Boolean},title:{type:String},message:{type:String},subMessage:{type:String},btnName:{type:String},height:{type:Number,default:300}},watch:{height(e){this.modalHeight(e)}},mounted(){this.modalHeight(this.height)},methods:{modalHeight(e){const t=this.$refs.modal.$el;t.style.setProperty("--max-height",e+"px")},ionModalDidDismiss(){this.$emit("ionModalDidDismiss")},handleClickBtn(){this.$emit("handleClickBtn")}}};var u=s(83744);const c=(0,u.Z)(d,[["render",r],["__scopeId","data-v-607b1a5f"]]),p=c},5109:(e,t,s)=>{s.d(t,{Z:()=>h});var a=s(66252),l=s(3577);const o={key:0};function i(e,t,s,i,n,r){const d=(0,a.up)("ion-icon"),u=(0,a.up)("ion-text"),c=(0,a.up)("ion-buttons"),p=(0,a.up)("ion-toolbar"),h=(0,a.up)("ion-select-option"),m=(0,a.up)("ion-select"),g=(0,a.up)("ion-row"),w=(0,a.up)("ion-textarea"),y=(0,a.up)("ion-note"),k=(0,a.up)("ion-item"),f=(0,a.up)("ion-col"),b=(0,a.up)("custom-button"),x=(0,a.up)("AlertMessageModal"),C=(0,a.up)("ion-content"),T=(0,a.up)("ion-modal");return(0,a.wg)(),(0,a.j4)(T,{ref:"modal","is-open":s.modalOpen,onIonModalDidDismiss:r.dismissedModal,"initial-breakpoint":.95,breakpoints:[0,.15,.5,.95],class:"custom-modal"},{default:(0,a.w5)((()=>[(0,a.Wm)(C,{class:"ion-padding"},{default:(0,a.w5)((()=>[(0,a.Wm)(p,null,{default:(0,a.w5)((()=>[(0,a.Wm)(c,{slot:"start"},{default:(0,a.w5)((()=>[(0,a.Wm)(u,{color:"light",class:"text-xl text-bold"},{default:(0,a.w5)((()=>[(0,a.Uk)(" ( "),(0,a._)("span",null,(0,l.zw)(s.nick),1),(0,a.Uk)(" )님의 심장을 폭격해보세요 "),(0,a.Wm)(d,{icon:n.choiceSuperlike,class:"superLikeIcon"},null,8,["icon"])])),_:1})])),_:1})])),_:1}),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(m,{"aria-label":"fruit",placeholder:"직접입력",onIonChange:r.selectCategory},{default:(0,a.w5)((()=>[(0,a.Wm)(h,{value:""},{default:(0,a.w5)((()=>[(0,a.Uk)("직접입력")])),_:1}),((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.categoryList,(e=>((0,a.wg)(),(0,a.j4)(h,{value:e,key:e.categoryCd},{default:(0,a.w5)((()=>[(0,a.Uk)((0,l.zw)(e.categoryNm),1)])),_:2},1032,["value"])))),128))])),_:1},8,["onIonChange"])])),_:1}),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,{size:"12"},{default:(0,a.w5)((()=>[(0,a.Wm)(k,{ref:"content",lines:"none",counter:"true",class:"input-field"},{default:(0,a.w5)((()=>[(0,a.Wm)(w,{value:n.modalText,rows:10,onInput:t[0]||(t[0]=e=>r.limitComment(e)),maxlength:"50",placeholder:n.placeholderText,readonly:n.readonlyText},null,8,["value","placeholder","readonly"]),(0,a.Wm)(y,{slot:"helper"},{default:(0,a.w5)((()=>[(0,a.Uk)("보유 아이템 "),(0,a.Wm)(d,{icon:n.choiceSuperlike,class:"superLikeIcon"},null,8,["icon"]),(0,a.Uk)(" "+(0,l.zw)(s.quantity)+" 개 ",1),"Y"==s.subscribeInfo.isActionInfinite?((0,a.wg)(),(0,a.iD)("span",o,"("+(0,l.zw)(s.subscribeInfo.subscribeNm)+" 이용중)",1)):(0,a.kq)("",!0)])),_:1}),(0,a.Wm)(y,{slot:"error"},{default:(0,a.w5)((()=>[(0,a.Uk)("내용을 입력해주세요")])),_:1})])),_:1},512)])),_:1})])),_:1}),(0,a.Wm)(g,null,{default:(0,a.w5)((()=>[(0,a.Wm)(f,{size:"6"},{default:(0,a.w5)((()=>[(0,a.Wm)(b,{shape:"round",fill:"outline",color:"light",expand:"block",onClick:t[1]||(t[1]=e=>r.modalBtn("close"))},{default:(0,a.w5)((()=>[(0,a.Uk)("취소 ")])),_:1})])),_:1}),(0,a.Wm)(f,{size:"6",class:"text-right"},{default:(0,a.w5)((()=>["Y"===s.isBonusYn?((0,a.wg)(),(0,a.j4)(b,{key:0,shape:"round",expand:"block",onClick:t[2]||(t[2]=e=>r.modalBtn("newText"))},{default:(0,a.w5)((()=>[(0,a.Uk)(" 매일1회무료 ")])),_:1})):((0,a.wg)(),(0,a.j4)(b,{key:1,shape:"round",expand:"block",onClick:t[3]||(t[3]=e=>r.modalBtn("newText",s.quantity,s.target))},{default:(0,a.w5)((()=>[(0,a.Uk)(" 보내기 ")])),_:1}))])),_:1})])),_:1}),(0,a.Wm)(x,{"is-open":n.alertMessage,title:"NAVY",message:"아이템 수량이 부족합니다.",subMessage:"아이템을 구매하기위해 상점으로 이동하시겠습니까?",btnName:"이동",height:210,disabledCheck:!1,onIonModalDidDismiss:t[4]||(t[4]=e=>n.alertMessage=!1),onHandleClickBtn:t[5]||(t[5]=e=>r.goRouter())},null,8,["is-open","message"])])),_:1})])),_:1},8,["is-open","onIonModalDidDismiss"])}s(41817),s(57658),s(74916);var n=s(28151),r=s(54594),d=s(92993);const u={inject:["alertController"],name:"SuperLikeModal",props:{modalOpen:{type:Boolean},categoryList:{type:Object},nick:{type:String},emoji:{type:String},quantity:{type:Number},isBonusYn:{type:String},target:{type:String},subscribeInfo:{type:Object}},components:{AlertMessageModal:r.Z},data(){return{choiceSuperlike:d,selectTargetUserData:"",selectedCategory:"",placeholderText:"상대방에게 나의 마음을 표현해주세요.",modalText:"",readonlyText:!1,useTypeHeart:"COUPON",alertMessage:!1}},methods:{modalBtn(e,t,s){"close"===e?this.dismissedModal():"newText"===e&&(""===this.modalText?this.warningAlert("메시지를 입력해주세요."):(this.selectTargetUserData=s,this.useTypeHeart=t>0?"COUPON":"HEART",this.useHeartAttack()))},selectCategory(e){this.selectedCategory=e.detail.value,""===this.selectedCategory?(this.readonlyText=!1,this.placeholderText="상대방에게 나의 마음을 표현해주세요.",this.modalText=""):(this.readonlyText=!0,this.modalText=this.selectedCategory.description,this.placeholderText=this.modalText)},useHeartAttack(){(0,n.Yu)({url:"/useHeartAttack",param:{couponCd:"CU001",useType:"COUPON",itemCd:"",pointCd:"",targetUserKey:this.selectTargetUserData,message:this.modalText,likeSeq:this.likeSeq},then:e=>{"N"===e.successYn||"NE"===e.successYn||"NH"===e.successYn?this.alertMessage=!0:("MATCH"==e.successYn&&this.warningAlertMatch(e.message),this.alertMessage=!1,this.superLikeModalOpen=!1,this.selectTargetUserData={},this.modalText="",this.placeholderText="상대방에게 나의 마음을 표현해주세요.",this.readonlyText=!1,this.$emit("endNext"))}})},goRouter(){this.$emit("superLikeModalOpen"),this.alertMessage=!1,(0,n.EY)({categoryType:"item"}),this.$router.push("/store")},limitComment(e){const t=e.target.value,s=(t.match(/\n/g)||[]).length+1;if(s>10&&"deleteContentBackward"!==e.inputType)return e.preventDefault(),this.warningAlert("줄바꿈은 10줄까지만 가능합니다"),void(e.target.value=this.prevText);t!==this.prevText&&(this.dynamicRow=s),this.prevText=t,this.modalText=t},dismissedModal(){this.placeholderText="상대방에게 나의 마음을 표현해주세요.",this.modalText="",this.readonlyText=!1,this.selectTargetUserData={},this.$emit("superLikeModalOpen")},async warningAlertNH(e){const t=await this.alertController.create({header:"",subHeader:"",message:e,buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"이동",handler:()=>{this.$emit("superLikeModalOpen"),this.$router.push("/store")}}]});return t.present()},async warningAlert(e){const t=await this.alertController.create({header:"",subHeader:"",message:e,buttons:["OK"]});return t.present()},async warningAlertMatch(e){const t=await this.alertController.create({header:"",subHeader:"",message:e,buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"이동",handler:()=>{this.$router.push("/messageMain")}}]});return t.present()}}};var c=s(83744);const p=(0,c.Z)(u,[["render",i],["__scopeId","data-v-4e432662"]]),h=p},92993:(e,t,s)=>{e.exports=s.p+"img/choice_superlike.b158639c.svg"}}]);
//# sourceMappingURL=5109.e1560d1c.js.map