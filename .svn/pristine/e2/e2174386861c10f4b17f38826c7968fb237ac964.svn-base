"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[7693],{61061:(e,t,n)=>{n.d(t,{Z:()=>h});var o=n(66252),a=n(3577);function l(e,t,l,i,s,r){const c=(0,o.up)("ion-img"),u=(0,o.up)("ion-avatar"),d=(0,o.up)("ion-text"),h=(0,o.up)("ion-label"),p=(0,o.up)("ion-icon"),m=(0,o.up)("ion-fab-button"),g=(0,o.up)("ion-item");return(0,o.wg)(),(0,o.j4)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{slot:"start",onClick:r.handleClickItem},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{src:s.isLoaded?"https://"+l.item.cdnThumbNm:n(7189),onIonImgDidLoad:r.handleImgloaded,onIonError:t[0]||(t[0]=e=>e.srcElement.src=n(7189))},null,8,["src","onIonImgDidLoad"])])),_:1},8,["onClick"]),(0,o.Wm)(h,{onClick:r.handleClickItem},{default:(0,o.w5)((()=>[(0,o._)("h3",null,[(0,o.Wm)(d,{color:"light"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(l.item.nick),1)])),_:1})])])),_:1},8,["onClick"]),(0,o.Wm)(m,{color:"danger",size:"small",onClick:r.handleClickOk,class:"btn-cancel"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{color:"light",icon:s.checkIcon},null,8,["icon"])])),_:1},8,["onClick"]),(0,o.Wm)(m,{color:"success",size:"small",onClick:r.handleClickCancel,class:"btn-ok"},{default:(0,o.w5)((()=>[(0,o.Wm)(p,{color:"light",icon:s.closeIcon},null,8,["icon"])])),_:1},8,["onClick"])])),_:1})}var i=n(28151),s=n(80857),r=n(83105);const c={name:"OpenChatViewAttendItem",props:{item:{type:Object}},computed:{},data(){return{closeIcon:s,checkIcon:r,API_BASE_URL:i.CT,isLoaded:!1}},methods:{handleImgloaded(){this.isLoaded=!0},handleClickItem(){this.$emit("event")},handleClickOk(){this.$emit("ok")},handleClickCancel(){this.$emit("cancel")}}};var u=n(83744);const d=(0,u.Z)(c,[["render",l],["__scopeId","data-v-4654e354"]]),h=d},20362:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(66252);function a(e,t,n,a,l,i){const s=(0,o.up)("ion-text"),r=(0,o.up)("ion-list-header"),c=(0,o.up)("ion-list");return(0,o.wg)(),(0,o.j4)(c,{lines:"full"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Wm)(s,{color:"light",class:"text-md"},{default:(0,o.w5)((()=>[(0,o.Uk)("참여 신청자")])),_:1})])),_:1}),(0,o.WI)(e.$slots,"content",{},void 0,!0)])),_:3})}const l={name:"OpenChatAttendList"};var i=n(83744);const s=(0,i.Z)(l,[["render",a],["__scopeId","data-v-013f53fc"]]),r=s},67914:(e,t,n)=>{n.d(t,{Z:()=>u});var o=n(66252),a=n(3577);const l=["src"];function i(e,t,i,s,r,c){const u=(0,o.up)("ion-avatar"),d=(0,o.up)("ion-text"),h=(0,o.up)("ion-chip"),p=(0,o.up)("ion-row"),m=(0,o.up)("ion-label"),g=(0,o.up)("ion-item");return(0,o.wg)(),(0,o.j4)(g,{lines:"none",onClick:c.handleClick},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{slot:"start"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:"https://"+i.thumbnail,"on:ionError":t[0]||(t[0]=e=>e.srcElement.src=n(7189)),alt:""},null,40,l)])),_:1}),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(d,{color:"light",class:"text-lg"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(i.user.nick),1)])),_:1}),(0,o.Wm)(h,{class:"chip-sm chip-secondary"},{default:(0,o.w5)((()=>[(0,o.Uk)("프로필 보기")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(d,{color:"light",class:"text-xs"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(i.regDate)+" · 읽음 "+(0,a.zw)(i.user.viewCnt),1)])),_:1})])),_:1},8,["onClick"])}const s={name:"OpenChatViewUserInfo",props:{thumbnail:{type:String},user:{type:Object},regDate:{type:String}},methods:{handleClick(){this.$emit("event")}}};var r=n(83744);const c=(0,r.Z)(s,[["render",i],["__scopeId","data-v-3fbeb24b"]]),u=c},2982:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(66252);function a(e,t,n,a,l,i){const s=(0,o.up)("ion-spinner");return(0,o.wg)(),(0,o.j4)(s,{name:"lines"})}const l={name:"PageLoadingCheck"};var i=n(83744);const s=(0,i.Z)(l,[["render",a]]),r=s},7693:(e,t,n)=>{n.r(t),n.d(t,{default:()=>y});var o=n(66252),a=n(3577);const l={class:"row-box"},i={class:"row-box"},s={key:0,class:"row-box"},r={class:"row-box"},c={class:"row-box"};function u(e,t,u,d,h,p){const m=(0,o.up)("BackButton"),g=(0,o.up)("ion-buttons"),w=(0,o.up)("ion-title"),k=(0,o.up)("ion-icon"),f=(0,o.up)("custom-button"),C=(0,o.up)("ion-item"),_=(0,o.up)("ion-list"),y=(0,o.up)("ion-content"),W=(0,o.up)("ion-popover"),I=(0,o.up)("ion-toolbar"),v=(0,o.up)("ion-header"),b=(0,o.up)("OpenChatViewUserInfo"),Y=(0,o.up)("ion-img"),U=(0,o.up)("ion-text"),O=(0,o.up)("ion-chip"),D=(0,o.up)("ion-label"),x=(0,o.up)("ion-row"),K=(0,o.up)("OpenChatViewAttendItem"),A=(0,o.up)("OpenChatViewAttendList"),L=(0,o.up)("CustomCardItem"),z=(0,o.up)("PageLoadingCheck"),j=(0,o.up)("ion-col"),$=(0,o.up)("ion-ripple-effect"),M=(0,o.up)("ion-grid"),E=(0,o.up)("ion-footer"),N=(0,o.up)("ion-page");return(0,o.wg)(),(0,o.j4)(N,null,{default:(0,o.w5)((()=>[(0,o.Wm)(v,null,{default:(0,o.w5)((()=>[(0,o.Wm)(I,null,{default:(0,o.w5)((()=>[(0,o.Wm)(g,{slot:"start"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{onEvent:p.prevPage,custom:!0},null,8,["onEvent"])])),_:1}),(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(h.chatDetailMap.partitionNm),1)])),_:1}),(0,o.Wm)(g,{slot:"end"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{color:"medium",id:"myopenChat-popover-button"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{slot:"icon-only",icon:e.menuIcon,color:"light"},null,8,["icon"])])),_:1}),(0,o.Wm)(W,{trigger:"myopenChat-popover-button","dismiss-on-select":!0,mode:"ios"},{default:(0,o.w5)((()=>[(0,o.Wm)(y,null,{default:(0,o.w5)((()=>[(0,o.Wm)(_,{lines:"full"},{default:(0,o.w5)((()=>["Y"===h.ssUserYn?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(C,{button:!0,detail:!1,onClick:t[0]||(t[0]=e=>p.editOpenChat(h.chatDetailMap))},{default:(0,o.w5)((()=>[(0,o.Uk)("수정 ")])),_:1}),(0,o.Wm)(C,{button:!0,detail:!1,onClick:t[1]||(t[1]=e=>p.presentAlertConfirm())},{default:(0,o.w5)((()=>[(0,o.Uk)("삭제 ")])),_:1})],64)):((0,o.wg)(),(0,o.j4)(C,{key:1,button:!0,detail:!1},{default:(0,o.w5)((()=>[(0,o.Uk)("신고")])),_:1}))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),(0,o.Wm)(y,{class:"ion-padding"},{default:(0,o.w5)((()=>{var u;return[h.userInfoMap?((0,o.wg)(),(0,o.j4)(b,{key:0,user:h.userInfoMap,"reg-date":h.regDate,thumbnail:null===(u=h.userInfoMap)||void 0===u?void 0:u.cdnThumbNm,onEvent:t[2]||(t[2]=e=>p.profileInfo(this.regUserKey))},null,8,["user","reg-date","thumbnail"])):(0,o.kq)("",!0),(0,o._)("div",null,[(0,o.Wm)(Y,{src:""!==h.cdnNm?"https://"+h.cdnNm:n(7189),onIonError:t[3]||(t[3]=e=>e.srcElement.src=n(7189))},null,8,["src"]),(0,o._)("div",l,[(0,o.Wm)(x,{class:"ion-align-items-center ion-justify-content-between"},{default:(0,o.w5)((()=>[(0,o.Wm)(U,{color:"light",class:"text-xl text-bold"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(h.chatDetailMap.title),1)])),_:1}),(0,o.Wm)(D,{onClick:e.openUseOpenChatModal},{default:(0,o.w5)((()=>[(0,o.Wm)(O,{class:"chip-xs chip-secondary"},{default:(0,o.w5)((()=>[(0,o.Uk)("🔥현재 "+(0,a.zw)(e.openchatRank)+"위 모임 ",1)])),_:1})])),_:1},8,["onClick"])])),_:1})]),(0,o._)("div",i,[(0,o._)("p",null,[(0,o.Wm)(U,{color:"light",class:"text-sm"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,a.zw)(h.chatDetailMap.content),1)])),_:1})])]),h.attendInfoList.length>0?((0,o.wg)(),(0,o.iD)("div",s,[(0,o.Wm)(A,null,{content:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(h.attendInfoList,((e,t)=>((0,o.wg)(),(0,o.j4)(K,{key:t,item:e,onEvent:t=>p.profileInfo(e.userKey),onOk:t=>p.agreeYn("Y",e.userKey),onCancel:t=>p.agreeYn("N",e.userKey)},null,8,["item","onEvent","onOk","onCancel"])))),128))])),_:1})])):(0,o.kq)("",!0),(0,o._)("div",r,[(0,o.Wm)(L,{clear:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(x,{class:"gap-md ion-align-items-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{color:"secondary",icon:h.calendarIcon},null,8,["icon"]),(0,o.Wm)(U,{color:"light"},{default:(0,o.w5)((()=>["상시 모집"===h.dueDate?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)((0,a.zw)(h.dueDate),1)],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,a.zw)(h.chatDetailMap.dueDate)+" "+(0,a.zw)(h.dueDate),1)],64))])),_:1})])),_:1})])),_:1})])),_:1})]),(0,o._)("div",c,[(0,o.Wm)(L,{clear:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(x,{class:"gap-md ion-align-items-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{color:"secondary",icon:h.locationOutline},null,8,["icon"]),(0,o.Wm)(U,{color:"light"},{default:(0,o.w5)((()=>[""===h.chatDetailMap.location?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)(" 아직 장소가 정해지지 않았어요! ")],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,a.zw)(h.chatDetailMap.location),1)],64))])),_:1})])),_:1})])),_:1})])),_:1})])]),!1!==h.lodingCheck?((0,o.wg)(),(0,o.j4)(z,{key:1,style:{position:"fixed",top:"48%",left:"48%","z-index":"9999"}})):(0,o.kq)("",!0)]})),_:1}),(0,o.Wm)(E,null,{default:(0,o.w5)((()=>[(0,o.Wm)(M,null,{default:(0,o.w5)((()=>[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Wm)(j,{size:"3"},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{onClick:p.eyeOn,size:"large",expand:"block",fill:"Y"===h.bookmarkYn?"solid":"outline",color:"Y"===h.bookmarkYn?"primary":"secondary"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{slot:"icon-only",icon:h.heartOutline,size:"large",color:"light"},null,8,["icon"])])),_:1},8,["onClick","fill","color"])])),_:1}),(0,o.Wm)(j,{size:"9"},{default:(0,o.w5)((()=>["Y"===h.inviteYn&&"N"===this.ssUserYn?((0,o.wg)(),(0,o.j4)(f,{key:0,onClick:p.joinIn,size:"large",expand:"block",color:"danger"},{default:(0,o.w5)((()=>[(0,o.Wm)($),(0,o.Uk)(" 취소할래요 ")])),_:1},8,["onClick"])):((0,o.wg)(),(0,o.j4)(f,{key:1,onClick:p.joinIn,size:"large",expand:"block",color:"secondary",class:"ion-activatable ripple-parent rounded-rectangle"},{default:(0,o.w5)((()=>[(0,o.Wm)($),(0,o.Uk)(" 참여하기 ")])),_:1},8,["onClick"]))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}n(57658);var d=n(18903),h=n(67914),p=n(20362),m=n(61061),g=n(69391),w=n(2982),k=n(28151);const f={inject:["loadingController","alertController"],components:{OpenChatViewUserInfo:h.Z,OpenChatViewAttendList:p.Z,OpenChatViewAttendItem:m.Z,PageLoadingCheck:w.Z},ionViewWillEnter(){this.getOpenChatDetail()},ionViewDidLeave(){this.itemList=[]},data(){return{calendarIcon:g,heartOutline:d.gjX,starOutline:d.i6c,locationOutline:d.Iv7,checkmarkOutline:d.TjA,ellipsisVertical:d.LHl,API_BASE_URL:k.CT,chatDetailMap:{},bookmarkYn:"",msg:"",regDate:"",dueDate:"",inviteYn:"",ssUserYn:"",cdnNm:"",isPopover:!1,regUserKey:"",userInfoMap:null,attendInfoList:[],loading:null,lodingCheck:!0}},methods:{getOpenChatDetail(){(0,k.Yu)({url:"/getOpenChatDetail",param:{openChatKey:k.$h.openChatKey,viewAddYn:"Y"},then:e=>{this.regDate=e.regDateStr,this.dueDate=e.dueDateStr,this.inviteYn="N"===e.attenderCancelYn?"Y":"N",this.bookmarkYn=e.bookmarkYn,this.chatDetailMap=e,this.ssUserYn=e.ssUserKey===e.regUserKey?"Y":"N",this.regUserKey=e.regUserKey,this.cdnNm=e.cdnNm,this.$nextTick((()=>{this.getAttendInfo()}))}})},getAttendInfo(){(0,k.Yu)({url:"/getAttendInfo",param:{openChatKey:k.$h.openChatKey},then:e=>{this.attendInfoList=e,this.$nextTick((()=>{this.getUserInfo()}))}})},getUserInfo(){(0,k.Yu)({url:"/getUserInfo",param:{regUserKey:this.regUserKey},then:e=>{this.userInfoMap=e}})},prevPage(){this.$router.push("/myOpenChat")},agreeYn(e,t){this.showLoading(),(0,k.Yu)({url:"/updateOpenChatAttendYn",param:{openChatKey:k.$h.openChatKey,userKey:t,type:e,fileId:0},then:e=>{"Y"===e.successYn?"Y"===e.confirmYn?this.warningAlert("😘","수락 처리 되었습니다"):this.warningAlert("😢","거절 처리 되었습니다"):this.warningAlert("😢",e.message),this.loading.dismiss(),this.$nextTick((()=>{this.getAttendInfo()}))}})},async showLoading(){this.loading=await this.loadingController.create({message:"Loading...",duration:0}),await this.loading.present()},eyeOn(){this.showLoading(),(0,k.Yu)({url:"/setOpenChatBookmark",param:{openChatKey:k.$h.openChatKey},then:e=>{this.bookmarkYn=e.bookmarkYn,this.msg=e.message,this.loading.dismiss()}})},joinIn(){this.lodingCheck=!1,(0,k.Yu)({url:"/setOpenChatInvite",param:{openChatKey:k.$h.openChatKey},then:e=>{this.inviteYn=e.inviteYn,this.lodingCheck=!0}})},profileInfo(e){(0,k.PC)({type:"openChatView",userKey:e}),this.$router.push("/dailyCardInfo")},editOpenChat(e){(0,k.JU)({openChatKey:k.$h.openChatKey,type:"edit",item:e}),this.$router.push("/openChatWrite")},async presentAlertConfirm(){const e=await this.alertController.create({header:"",message:"삭제하시겠습니까?",buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"삭제",handler:()=>{(0,k.Yu)({url:"/setOpenChatDel",param:{openChatKey:k.$h.openChatKey},then:()=>{}}),this.presentAlert("삭제되었습니다."),this.$router.go(-1)}}]});return e.present()},async presentAlert(e){const t=await this.alertController.create({header:"",message:e,buttons:[{text:"OK",role:"Okay",handler:()=>{}}]});return t.present()},async warningAlert(e,t){const n=await this.alertController.create({header:e,subHeader:"",message:t,buttons:["OK"]});return n.present()}}};var C=n(83744);const _=(0,C.Z)(f,[["render",u]]),y=_},69391:(e,t,n)=>{e.exports=n.p+"img/icon_cal_check.cc3a33f3.svg"},83105:(e,t,n)=>{e.exports=n.p+"img/icon_check.803ad7bb.svg"},80857:(e,t,n)=>{e.exports=n.p+"img/icon_close.b83d5091.svg"},7189:(e,t,n)=>{e.exports=n.p+"img/Loading_icon.f0448993.gif"}}]);
//# sourceMappingURL=7693.e4696da1.js.map