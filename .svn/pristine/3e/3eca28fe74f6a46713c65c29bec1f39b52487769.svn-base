"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[4658],{54652:(e,t,r)=>{r.d(t,{P:()=>s});r(57658);var s=function(e){this.DEFAULT_OPTIONS={map:null,markers:[],disableClickZoom:!0,minClusterSize:2,maxZoom:13,gridSize:100,icons:[],indexGenerator:[10,100,200,500,1e3],averageCenter:!1,stylingFunction:function(){}},this._clusters=[],this._mapRelations=null,this._markerRelations=[],this.setOptions(naver.maps.Util.extend({},this.DEFAULT_OPTIONS,e),!0),this.setMap(e.map||null)};naver.maps.Util.ClassExtend(s,naver.maps.OverlayView,{onAdd:function(){var e=this.getMap();this._mapRelations=naver.maps.Event.addListener(e,"idle",naver.maps.Util.bind(this._onIdle,this)),this.getMarkers().length>0&&(this._createClusters(),this._updateClusters())},draw:naver.maps.Util.noop,onRemove:function(){naver.maps.Event.removeListener(this._mapRelation),this._clearClusters(),this._geoTree=null,this._mapRelation=null},setOptions:function(e){var t=this;if("string"===typeof e){var r=e,s=arguments[1];t.set(r,s)}else{var n=arguments[1];naver.maps.Util.forEach(e,(function(e,r){"map"!==r&&t.set(r,e)})),e.map&&!n&&t.setMap(e.map)}},getOptions:function(e){var t=this,r={};return void 0!==e?t.get(e):(naver.maps.Util.forEach(t.DEFAULT_OPTIONS,(function(e,s){r[s]=t.get(s)})),r)},getMinClusterSize:function(){return this.getOptions("minClusterSize")},setMinClusterSize:function(e){this.setOptions("minClusterSize",e)},getMaxZoom:function(){return this.getOptions("maxZoom")},setMaxZoom:function(e){this.setOptions("maxZoom",e)},getGridSize:function(){return this.getOptions("gridSize")},setGridSize:function(e){this.setOptions("gridSize",e)},getIndexGenerator:function(){return this.getOptions("indexGenerator")},setIndexGenerator:function(e){this.setOptions("indexGenerator",e)},getMarkers:function(){return this.getOptions("markers")},setMarkers:function(e){this.setOptions("markers",e)},getIcons:function(){return this.getOptions("icons")},setIcons:function(e){this.setOptions("icons",e)},getStylingFunction:function(){return this.getOptions("stylingFunction")},setStylingFunction:function(e){this.setOptions("stylingFunction",e)},getDisableClickZoom:function(){return this.getOptions("disableClickZoom")},setDisableClickZoom:function(e){this.setOptions("disableClickZoom",e)},getAverageCenter:function(){return this.getOptions("averageCenter")},setAverageCenter:function(e){this.setOptions("averageCenter",e)},changed:function(e,t){if(this.getMap())switch(e){case"marker":case"minClusterSize":case"gridSize":case"averageCenter":this._redraw();break;case"indexGenerator":case"icons":this._clusters.forEach((function(e){e.updateIcon()}));break;case"maxZoom":this._clusters.forEach((function(e){e.getCount()>1&&e.checkByZoomAndMinClusterSize()}));break;case"stylingFunction":this._clusters.forEach((function(e){e.updateCount()}));break;case"disableClickZoom":var r="enableClickZoom";t&&(r="disableClickZoom"),this._clusters.forEach((function(e){e[r]()}));break}},_createClusters:function(){var e=this.getMap();if(e)for(var t=e.getBounds(),r=this.getMarkers(),s=0,n=r.length;s<n;s++){var i=r[s],o=i.getPosition();if(t.hasLatLng(o)){var a=this._getClosestCluster(o);a.addMarker(i),this._markerRelations.push(naver.maps.Event.addListener(i,"dragend",naver.maps.Util.bind(this._onDragEnd,this)))}}},_updateClusters:function(){for(var e=this._clusters,t=0,r=e.length;t<r;t++)e[t].updateCluster()},_clearClusters:function(){for(var e=this._clusters,t=0,r=e.length;t<r;t++)e[t].destroy();naver.maps.Event.removeListener(this._markerRelations),this._markerRelations=[],this._clusters=[]},_redraw:function(){this._clearClusters(),this._createClusters(),this._updateClusters()},_getClosestCluster:function(e){for(var t=this.getProjection(),r=this._clusters,s=null,i=1/0,o=0,a=r.length;o<a;o++){var u=r[o],l=u.getCenter();if(u.isInBounds(e)){var c=t.getDistance(l,e);c<i&&(i=c,s=u)}}return s||(s=new n(this),this._clusters.push(s)),s},_onIdle:function(){this._redraw()},_onDragEnd:function(){this._redraw()}});var n=function(e){this._clusterCenter=null,this._clusterBounds=null,this._clusterMarker=null,this._relation=null,this._clusterMember=[],this._markerClusterer=e};n.prototype={constructor:n,addMarker:function(e){if(!this._isMember(e)){if(!this._clusterCenter){var t=e.getPosition();this._clusterCenter=t,this._clusterBounds=this._calcBounds(t)}this._clusterMember.push(e)}},destroy:function(){naver.maps.Event.removeListener(this._relation);for(var e=this._clusterMember,t=0,r=e.length;t<r;t++)e[t].setMap(null);this._clusterMarker.setMap(null),this._clusterMarker=null,this._clusterCenter=null,this._clusterBounds=null,this._relation=null,this._clusterMember=[]},getCenter:function(){return this._clusterCenter},getBounds:function(){return this._clusterBounds},getCount:function(){return this._clusterMember.length},getClusterMember:function(){return this._clusterMember},isInBounds:function(e){return this._clusterBounds&&this._clusterBounds.hasLatLng(e)},enableClickZoom:function(){if(!this._relation){var e=this._markerClusterer.getMap();this._relation=naver.maps.Event.addListener(this._clusterMarker,"click",naver.maps.Util.bind((function(t){e.morph(t.coord,e.getZoom()+1)}),this))}},disableClickZoom:function(){this._relation&&(naver.maps.Event.removeListener(this._relation),this._relation=null)},updateCluster:function(){var e;this._clusterMarker||(e=this._markerClusterer.getAverageCenter()?this._calcAverageCenter(this._clusterMember):this._clusterCenter,this._clusterMarker=new naver.maps.Marker({position:e,map:this._markerClusterer.getMap()}),this._markerClusterer.getDisableClickZoom()||this.enableClickZoom());this.updateIcon(),this.updateCount(),this.checkByZoomAndMinClusterSize()},checkByZoomAndMinClusterSize:function(){var e=this._markerClusterer,t=e.getMinClusterSize(),r=e.getMaxZoom(),s=e.getMap().getZoom();this.getCount()<t?this._showMember():(this._hideMember(),r<=s&&this._showMember())},updateCount:function(){var e=this._markerClusterer.getStylingFunction();e&&e(this._clusterMarker,this.getCount())},updateIcon:function(){var e=this.getCount(),t=this._getIndex(e),r=this._markerClusterer.getIcons();t=Math.max(t,0),t=Math.min(t,r.length-1),this._clusterMarker.setIcon(r[t])},_showMember:function(){for(var e=this._markerClusterer.getMap(),t=this._clusterMarker,r=this._clusterMember,s=0,n=r.length;s<n;s++)r[s].setMap(e);t&&t.setMap(null)},_hideMember:function(){for(var e=this._markerClusterer.getMap(),t=this._clusterMarker,r=this._clusterMember,s=0,n=r.length;s<n;s++)r[s].setMap(null);t&&!t.getMap()&&t.setMap(e)},_calcBounds:function(e){var t=this._markerClusterer.getMap(),r=new naver.maps.LatLngBounds(e.clone(),e.clone()),s=t.getBounds(),n=t.getProjection(),i=n.fromCoordToOffset(s.getNE()),o=n.fromCoordToOffset(s.getSW()),a=n.fromCoordToOffset(r.getNE()),u=n.fromCoordToOffset(r.getSW()),l=this._markerClusterer.getGridSize()/2;a.add(l,-l),u.add(-l,l);var c=Math.min(i.x,a.x),h=Math.max(i.y,a.y),m=Math.max(o.x,u.x),g=Math.min(o.y,u.y),f=n.fromOffsetToCoord(new naver.maps.Point(c,h)),_=n.fromOffsetToCoord(new naver.maps.Point(m,g));return new naver.maps.LatLngBounds(_,f)},_getIndex:function(e){var t=this._markerClusterer.getIndexGenerator();if(naver.maps.Util.isFunction(t))return t(e);if(naver.maps.Util.isArray(t)){for(var r=0,s=r,n=t.length;s<n;s++){var i=t[s];if(e<i)break;r++}return r}},_isMember:function(e){return-1!==this._clusterMember.indexOf(e)},_calcAverageCenter:function(e){for(var t=e.length,r=[0,0],s=0;s<t;s++)r[0]+=e[s].position.x,r[1]+=e[s].position.y;return r[0]/=t,r[1]/=t,new naver.maps.Point(r[0],r[1])}}},7189:(e,t,r)=>{e.exports=r.p+"img/Loading_icon.f0448993.gif"}}]);
//# sourceMappingURL=4658-legacy.1d476b2e.js.map