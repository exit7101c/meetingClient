"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[3793],{97439:(e,t,i)=>{var d,a,n;i.d(t,{GW:()=>a,dk:()=>n,oK:()=>d}),function(e){e["Prompt"]="PROMPT",e["Camera"]="CAMERA",e["Photos"]="PHOTOS"}(d||(d={})),function(e){e["Rear"]="REAR",e["Front"]="FRONT"}(a||(a={})),function(e){e["Uri"]="uri",e["Base64"]="base64",e["DataUrl"]="dataUrl"}(n||(n={}))},96826:(e,t,i)=>{i.d(t,{V1:()=>n,dk:()=>a.dk,oK:()=>a.oK});var d=i(29895),a=i(97439);const n=(0,d.fo)("Camera",{web:()=>i.e(6806).then(i.bind(i,66806)).then((e=>new e.CameraWeb))})},26699:(e,t,i)=>{var d=i(82109),a=i(41318).includes,n=i(47293),l=i(51223),o=n((function(){return!Array(1).includes()}));d({target:"Array",proto:!0,forced:o},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),l("includes")},55866:(e,t,i)=>{i.d(t,{Z:()=>I});var d=i(66252),a=i(49963),n=i(3577);const l={key:0,class:"bonus-label"};function o(e,t,o,s,r,u){const c=(0,d.up)("ion-img"),m=(0,d.up)("ion-text"),h=(0,d.up)("ion-button"),p=(0,d.up)("PhotoLabel"),g=(0,d.up)("ion-item");return(0,d.wg)(),(0,d.j4)(g,{lines:"none",class:"add-photo"},{default:(0,d.w5)((()=>[null==o.name?((0,d.wg)(),(0,d.iD)(d.HY,{key:0},[(0,d.Wm)(h,{class:"add-photo-button",expand:"block",fill:"clear",onClick:(0,a.iM)(u.onClick,["stop"])},{default:(0,d.w5)((()=>[(0,d._)("div",null,[(0,d.Wm)(c,{src:i(284),class:"add-photo-icon"},null,8,["src"]),(0,d.Wm)(m,{color:"light"},{default:(0,d.w5)((()=>[o.label?((0,d.wg)(),(0,d.iD)(d.HY,{key:0},[(0,d.Uk)((0,n.zw)(o.label),1)],64)):((0,d.wg)(),(0,d.iD)(d.HY,{key:1},[(0,d.Uk)((0,n.zw)(o.required?"필수":"선택")+" ",1)],64))])),_:1})])])),_:1},8,["onClick"]),o.subscribe?((0,d.wg)(),(0,d.iD)("div",l,[(0,d.Wm)(p)])):(0,d.kq)("",!0)],64)):((0,d.wg)(),(0,d.j4)(c,{key:1,onClick:(0,a.iM)(u.onClick,["stop"]),src:"https://"+o.name,class:"add-photo-img"},null,8,["onClick","src"]))])),_:1})}var s=i(18903);const r=e=>((0,d.dD)("data-v-72c4a668"),e=e(),(0,d.Cn)(),e),u={class:"bonus"},c=r((()=>(0,d._)("span",null,null,-1)));function m(e,t,i,a,n,l){const o=(0,d.up)("ion-text");return(0,d.wg)(),(0,d.iD)("div",u,[(0,d._)("div",null,[c,(0,d.Wm)(o,{color:"light",class:"text-sm"},{default:(0,d.w5)((()=>[(0,d.Uk)(" NAVY+ ")])),_:1})])])}const h={name:"PhotoLabel",props:{}};var p=i(83744);const g=(0,p.Z)(h,[["render",m],["__scopeId","data-v-72c4a668"]]),f=g,w={name:"AddPhotoButton",props:{name:null,label:{type:String},required:{type:Boolean,default:!1},subscribe:{type:Boolean,default:!1}},components:{PhotoLabel:f},data(){return{addOutline:s.s6O}},methods:{onClick(){this.$emit("click")}}},k=(0,p.Z)(w,[["render",o],["__scopeId","data-v-b9c921a4"]]),I=k},31405:(e,t,i)=>{i.d(t,{Z:()=>u});var d=i(66252);const a={class:"join-title"};function n(e,t,i,n,l,o){const s=(0,d.up)("ion-text");return(0,d.wg)(),(0,d.iD)("div",a,[(0,d.Wm)(s,{color:"light"},{default:(0,d.w5)((()=>[(0,d._)("h2",null,[(0,d.WI)(e.$slots,"title",{},void 0,!0)])])),_:3}),(0,d.Wm)(s,{color:"light"},{default:(0,d.w5)((()=>[(0,d._)("p",null,[(0,d.WI)(e.$slots,"desc",{},void 0,!0)])])),_:3})])}var l=i(27783);const o={name:"JoinTitle",components:{IonText:l.yW}};var s=i(83744);const r=(0,s.Z)(o,[["render",n],["__scopeId","data-v-2fe7c318"]]),u=r},15253:(e,t,i)=>{i.d(t,{Z:()=>r});var d=i(66252);function a(e,t,i,a,n,l){const o=(0,d.up)("ion-progress-bar");return(0,d.wg)(),(0,d.j4)(o,{value:l.calValue},null,8,["value"])}var n=i(27783);const l={name:"ProgressBar",props:{currIdx:{type:Number,default:0},totalIdx:{type:Number,default:10}},components:{IonProgressBar:n.X7},computed:{calValue(){return this.currIdx/this.totalIdx}}};var o=i(83744);const s=(0,o.Z)(l,[["render",a]]),r=s},33793:(e,t,i)=>{i.r(t),i.d(t,{default:()=>w});i(33948);var d=i(66252);const a={class:"layout-container"},n=(0,d._)("br",null,null,-1),l={class:"layout-container"},o={class:"btn-group"};function s(e,t,i,s,r,u){const c=(0,d.up)("BackButton"),m=(0,d.up)("ion-buttons"),h=(0,d.up)("ion-title"),p=(0,d.up)("ion-toolbar"),g=(0,d.up)("ProgressBar"),f=(0,d.up)("ion-header"),w=(0,d.up)("JoinTitle"),k=(0,d.up)("AddPhotoButton"),I=(0,d.up)("ion-col"),b=(0,d.up)("ion-row"),F=(0,d.up)("ion-text"),_=(0,d.up)("ion-grid"),v=(0,d.up)("ion-content"),W=(0,d.up)("ion-ripple-effect"),y=(0,d.up)("ion-button"),N=(0,d.up)("ion-footer"),C=(0,d.up)("ion-page");return(0,d.wg)(),(0,d.j4)(C,null,{default:(0,d.w5)((()=>[(0,d.Wm)(f,null,{default:(0,d.w5)((()=>[(0,d.Wm)(p,null,{default:(0,d.w5)((()=>[(0,d.Wm)(m,{slot:"start"},{default:(0,d.w5)((()=>[(0,d.Wm)(c)])),_:1}),(0,d.Wm)(h,null,{default:(0,d.w5)((()=>[(0,d.Uk)("기본설정")])),_:1})])),_:1}),(0,d.Wm)(g,{currIdx:u.isValidateForm?9:8},null,8,["currIdx"])])),_:1}),(0,d.Wm)(v,null,{default:(0,d.w5)((()=>[(0,d._)("div",a,[(0,d.Wm)(w,null,{title:(0,d.w5)((()=>[(0,d.Uk)(" 다 왔어요! 대표사진을 "),n,(0,d.Uk)(" 2장 이상 올려주세요 ")])),desc:(0,d.w5)((()=>[(0,d.Uk)("첫번째 사진이 대표사진으로 사용되요")])),_:1}),(0,d.Wm)(_,null,{default:(0,d.w5)((()=>[(0,d.Wm)(b,null,{default:(0,d.w5)((()=>[(0,d.Wm)(I,{size:"4"},{default:(0,d.w5)((()=>[(0,d.Wm)(k,{onClick:t[0]||(t[0]=e=>u.addPhoto("add1")),name:r.cdnNm1,required:!0},null,8,["name"])])),_:1}),(0,d.Wm)(I,{size:"4"},{default:(0,d.w5)((()=>[(0,d.Wm)(k,{onClick:t[1]||(t[1]=e=>u.addPhoto("add2")),name:r.cdnNm2,required:!0},null,8,["name"])])),_:1}),(0,d.Wm)(I,{size:"4"},{default:(0,d.w5)((()=>[(0,d.Wm)(k,{onClick:t[2]||(t[2]=e=>u.addPhoto("add3")),name:r.cdnNm3},null,8,["name"])])),_:1}),(0,d.Wm)(I,{size:"4"},{default:(0,d.w5)((()=>[(0,d.Wm)(k,{onClick:t[3]||(t[3]=e=>u.addPhoto("add4")),name:r.cdnNm4},null,8,["name"])])),_:1}),(0,d.Wm)(I,{size:"4"},{default:(0,d.w5)((()=>[(0,d.Wm)(k,{onClick:t[4]||(t[4]=e=>u.addPhoto("add5")),name:r.cdnNm5},null,8,["name"])])),_:1}),(0,d.Wm)(I,{size:"4"},{default:(0,d.w5)((()=>[(0,d.Wm)(k,{onClick:t[5]||(t[5]=e=>u.addPhoto("add6")),name:r.cdnNm6},null,8,["name"])])),_:1})])),_:1}),(0,d.Wm)(b,null,{default:(0,d.w5)((()=>[(0,d.Wm)(F,{color:"light",class:"text-sm"},{default:(0,d.w5)((()=>[(0,d.Uk)("최소 2장의 사진을 업로드 해주세요 ")])),_:1})])),_:1}),(0,d._)("input",{type:"file",onChange:t[6]||(t[6]=(...e)=>u.onFileChange&&u.onFileChange(...e)),ref:"photo",style:{display:"none"}},null,544)])),_:1})])])),_:1}),(0,d.Wm)(N,{class:"join-footer"},{default:(0,d.w5)((()=>[(0,d._)("div",l,[(0,d._)("div",o,[(0,d.Wm)(y,{color:"primary",size:"large",expand:"block",shape:"round",disabled:!u.isValidateForm,onClick:u.validateAndNavigate},{default:(0,d.w5)((()=>[(0,d.Wm)(W),(0,d.Uk)(" 다음으로 ")])),_:1},8,["disabled","onClick"])])])])),_:1})])),_:1})}i(57658),i(26699);var r=i(28151),u=i(31405),c=i(15253),m=i(55866),h=i(96826);const p={name:"JoinProfile",inject:["alertController","loadingController"],components:{JoinTitle:u.Z,ProgressBar:c.Z,AddPhotoButton:m.Z},computed:{isValidateForm(){return""!==this.add1imgFileId&&""!==this.add2imgFileId}},data(){return{Attachfiles:[],mainFileId:"",cdnNm1:null,cdnNm2:null,cdnNm3:null,cdnNm4:null,cdnNm5:null,cdnNm6:null,add1imgFileId:"",add2imgFileId:"",add3imgFileId:"",add4imgFileId:"",add5imgFileId:"",add6imgFileId:"",loading:null}},ionViewWillEnter(){this.add1imgFileId="",this.add2imgFileId="",this.add3imgFileId="",this.add4imgFileId="",this.add5imgFileId="",this.add6imgFileId=""},ionViewDidLeave(){},mounted(){},created(){},methods:{goRouter(){this.$store.state.joinMap["photo1"]=this.add1imgFileId,this.$store.state.joinMap["photo2"]=this.add2imgFileId,this.$store.state.joinMap["photo3"]=this.add3imgFileId?this.add3imgFileId:null,this.$store.state.joinMap["photo4"]=this.add4imgFileId?this.add4imgFileId:null,this.$store.state.joinMap["photo5"]=this.add5imgFileId?this.add5imgFileId:null,this.$store.state.joinMap["photo6"]=this.add6imgFileId?this.add6imgFileId:null,this.$router.push("/joinIntroduce")},addPhoto(e){switch(e){case"add1":this.uploadType="add1";break;case"add2":this.uploadType="add2";break;case"add3":this.uploadType="add3";break;case"add4":this.uploadType="add4";break;case"add5":this.uploadType="add5";break;case"add6":this.uploadType="add6";break}h.V1.getPhoto({allowEditing:!1,source:h.oK.Photos,resultType:h.dk.Uri}).then((async e=>{let t=await fetch(e.webPath).then((e=>e.blob()));const i=new File([t],"fileName."+e.format,{lastModified:new Date,type:t.type});this.Attachfiles.push(i),this.$nextTick((()=>{this.insertFile(this.uploadType)}))}))},onFileChange:function(e){const t=e.target.files||e.dataTransfer.files;if(!t.length)return;const i=["image/jpg","image/jpeg","image/png","image/gif"],d=t[0];i.includes(d.type)?(this.Attachfiles.push(t[0]),this.$nextTick((()=>{this.insertFile(this.uploadType)}))):this.warningAlert("이미지 파일만 업로드 가능해요")},insertFile(e){this.showLoading(0),(0,r.oA)({url:"/setImage",param:{},file:this.Attachfiles,then:t=>{switch(this.Attachfiles=[],e){case"add1":this.add1imgFileId=t.fileId,this.cdnNm1=t.cdnNm;break;case"add2":this.add2imgFileId=t.fileId,this.cdnNm2=t.cdnNm;break;case"add3":this.add3imgFileId=t.fileId,this.cdnNm3=t.cdnNm;break;case"add4":this.add4imgFileId=t.fileId,this.cdnNm4=t.cdnNm;break;case"add5":this.add5imgFileId=t.fileId,this.cdnNm5=t.cdnNm;break;case"add6":this.add6imgFileId=t.fileId,this.cdnNm6=t.cdnNm;break}this.loading.dismiss()}})},validateAndNavigate(){""!==this.add1imgFileId&&""!==this.add2imgFileId?this.goRouter():this.warningAlert("필수 사진이 등록되지 않았습니다.")},async showLoading(e){this.loading=await this.loadingController.create({message:"Loading...",duration:e}),await this.loading.present()},async warningAlert(e){const t=await this.alertController.create({header:"",subHeader:"",message:e,buttons:["OK"]});return t.present()}}};var g=i(83744);const f=(0,g.Z)(p,[["render",s]]),w=f},284:(e,t,i)=>{e.exports=i.p+"img/icon_add_outline.7b71d34c.svg"}}]);
//# sourceMappingURL=3793-legacy.5954ee06.js.map