"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[9313],{6209:(t,e,s)=>{s.r(e),s.d(e,{default:()=>j});var n=s(66252);const o={class:"row-box"},i={class:"row-box"};function a(t,e,s,a,l,u){const r=(0,n.up)("BackButton"),c=(0,n.up)("ion-buttons"),d=(0,n.up)("ion-title"),m=(0,n.up)("ion-toolbar"),p=(0,n.up)("ion-header"),h=(0,n.up)("ContestCountDown"),w=(0,n.up)("HotContestItem"),C=(0,n.up)("HotContest"),g=(0,n.up)("ContestListItem"),y=(0,n.up)("ion-col"),k=(0,n.up)("ion-row"),_=(0,n.up)("ion-list"),f=(0,n.up)("ion-content"),b=(0,n.up)("HotConestVoteModal"),H=(0,n.up)("ion-page");return(0,n.wg)(),(0,n.j4)(H,{class:"backImage"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{translucent:!0},{default:(0,n.w5)((()=>[(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{slot:"start"},{default:(0,n.w5)((()=>[(0,n.Wm)(r)])),_:1}),(0,n.Wm)(d,null,{default:(0,n.w5)((()=>[(0,n.Uk)("Contest")])),_:1})])),_:1})])),_:1}),(0,n.Wm)(f,{fullscreen:!0,class:"ion-padding"},{default:(0,n.w5)((()=>[(0,n._)("div",o,[(0,n.Wm)(h)]),(0,n._)("div",i,[(0,n.Wm)(C,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(u.hotContest,((t,e)=>((0,n.wg)(),(0,n.j4)(w,{key:e,index:e,item:t,onClick:e=>u.goItem(t)},null,8,["index","item","onClick"])))),128))])),_:1})]),(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[u.contestRest.length>0?((0,n.wg)(),(0,n.j4)(k,{key:0},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(u.contestRest,((t,e)=>((0,n.wg)(),(0,n.j4)(y,{size:"6",key:t.userKey,onClick:e=>u.goItem(t)},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{item:t,index:e+4},null,8,["item","index"])])),_:2},1032,["onClick"])))),128))])),_:1})):(0,n.kq)("",!0),u.contestRest2.length>0?((0,n.wg)(),(0,n.j4)(k,{key:1},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(u.contestRest2,((t,e)=>((0,n.wg)(),(0,n.j4)(y,{size:"4",key:t.userKey,onClick:e=>u.goItem(t)},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{item:t,index:e+12},null,8,["item","index"])])),_:2},1032,["onClick"])))),128))])),_:1})):(0,n.kq)("",!0)])),_:1})])),_:1}),(0,n.Wm)(b,{"is-open":l.modalContest,checkDisabled:l.checkDisabled,item:l.modalItem,coupon:l.coupon,onIonModalDidDismiss:e[0]||(e[0]=t=>l.modalContest=!1),onUseContestVote:e[1]||(e[1]=t=>u.useContestVote(l.checkDisabled=!1))},null,8,["is-open","checkDisabled","item","coupon"])])),_:1})}s(57658);var l=s(28151),u=s(2535);const r=t=>((0,n.dD)("data-v-210df96d"),t=t(),(0,n.Cn)(),t),c={class:"hot-contest"},d={class:"hot-users"},m=r((()=>(0,n._)("h1",{class:"hot-title"},"HOT CONTEST",-1)));function p(t,e,s,o,i,a){return(0,n.wg)(),(0,n.iD)("div",c,[(0,n._)("div",d,[(0,n.WI)(t.$slots,"default",{},void 0,!0)]),m])}const h={name:"ContestBest"};var w=s(83744);const C=(0,w.Z)(h,[["render",p],["__scopeId","data-v-210df96d"]]),g=C;var y=s(3577);const k={class:"is-hiddden"};function _(t,e,s,o,i,a){const l=(0,n.up)("ion-text"),u=(0,n.up)("ion-img"),r=(0,n.up)("ion-thumbnail"),c=(0,n.up)("ion-card");return(0,n.wg)(),(0,n.j4)(c,{style:{"--background":"transparent"}},{default:(0,n.w5)((()=>[0===s.index?((0,n.wg)(),(0,n.j4)(l,{key:0,class:"icon-rank-crown"},{default:(0,n.w5)((()=>[(0,n._)("div",k,(0,y.zw)(s.index+1),1)])),_:1})):((0,n.wg)(),(0,n.j4)(l,{key:1,class:"icon-rank-badge"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,y.zw)(s.index+1),1)])),_:1})),(0,n.Wm)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(u,{src:"https://"+s.item.photo2,alt:""},null,8,["src"])])),_:1}),(0,n.Wm)(l,{color:"light"},{default:(0,n.w5)((()=>[(0,n._)("h5",null,(0,y.zw)(s.item.nick),1),(0,n._)("p",null,(0,y.zw)(s.item.votesCnt)+"표",1)])),_:1})])),_:1})}const f={name:"ContestBestItem",props:{index:{type:Number},item:{type:Object}}},b=(0,w.Z)(f,[["render",_],["__scopeId","data-v-160e833d"]]),H=b;function I(t,e,s,o,i,a){const l=(0,n.up)("ion-text"),u=(0,n.up)("ion-img"),r=(0,n.up)("ion-card");return(0,n.wg)(),(0,n.j4)(r,null,{default:(0,n.w5)((()=>[(0,n.Wm)(l,{class:"icon-rank-badge"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,y.zw)(s.index),1)])),_:1}),(0,n.Wm)(u,{src:"https://"+s.item.photo2},null,8,["src"])])),_:1})}const v={name:"ContestListItem",props:{index:{type:Number},item:{type:Object}}},D=(0,w.Z)(v,[["render",I],["__scopeId","data-v-c5c6fda2"]]),W=D;var x=s(57407);const T={name:"Contest",inject:["alertController"],components:{HotContest:g,HotContestItem:H,ContestCountDown:u.Z,ContestListItem:W,HotConestVoteModal:x.Z},computed:{hotContest(){return this.contestList.slice(0,3)},contestRest(){return this.contestList.slice(3)},contestRest2(){return this.contestList.slice(11)}},data(){return{modalContest:!1,contestList:[],modalItem:"",checkDisabled:!0,coupon:"",useTypeHeart:"COUPON"}},ionViewWillEnter(){this.contestUserList()},ionViewDidLeave(){},mounted(){},methods:{goRouter(){this.$router.go(-1)},goItem(t){(0,l.y5)({article:t.articleKey,type:"contest",targetUserKey:t.userKey}),this.$router.push("/contestDetail")},contestUserList(){(0,l.Yu)({url:"/getContestUserList",param:{contestType:1},then:t=>{this.contestList=t}})},getUserCouponDataOne(){(0,l.Yu)({url:"/getUserCouponDataOne",param:{couponCd:"CU012"},then:t=>{this.coupon=t,this.coupon.quantity>0?this.useTypeHeart="COUPON":this.useTypeHeart="HEART"}})},useContestVote(){(0,l.Yu)({url:"/useContestVote",param:{couponCd:"CU012",useType:this.useTypeHeart,itemCd:"HEART"===this.useTypeHeart?"IT012_01":"",pointCd:"HEART"===this.useTypeHeart?"BUY":"",contestType:1,targetUserKey:this.modalItem.userKey},then:t=>{"N"===t.successYn||"NE"===t.successYn?(this.warningAlert(t.message),this.modalContest=!1):"NH"===t.successYn?this.warningAlertNH(t.message):(this.warningAlert(t.message),this.modalContest=!1,this.contestUserList()),setTimeout((()=>{this.checkDisabled=!0}),500)}})},async warningAlert(t){const e=await this.alertController.create({header:"",subHeader:"",message:t,buttons:["OK"]});return e.present()},async warningAlertNH(t){const e=await this.alertController.create({header:"",subHeader:"",message:t,buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"이동",handler:()=>{this.$router.push("/store"),this.modalContest=!1}}]});return e.present()}}},U=(0,w.Z)(T,[["render",a],["__scopeId","data-v-71005259"]]),j=U}}]);
//# sourceMappingURL=9313.84da4c20.js.map