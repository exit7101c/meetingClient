"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[4115],{26699:(e,i,s)=>{var t=s(82109),n=s(41318).includes,o=s(47293),l=s(51223),a=o((function(){return!Array(1).includes()}));t({target:"Array",proto:!0,forced:a},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),l("includes")},87864:(e,i,s)=>{s.r(i),s.d(i,{default:()=>q});var t=s(66252);function n(e,i,n,o,l,a){const r=(0,t.up)("ion-icon"),u=(0,t.up)("ion-button"),c=(0,t.up)("ion-buttons"),p=(0,t.up)("ion-title"),d=(0,t.up)("ion-toolbar"),h=(0,t.up)("ion-header"),m=(0,t.up)("ion-img"),g=(0,t.up)("swiper-slide"),w=(0,t.up)("swiper"),k=(0,t.up)("DailytDetailInfo"),f=(0,t.up)("SuperLikeModal"),y=(0,t.up)("ion-content"),C=(0,t.up)("OneMessageModal"),b=(0,t.up)("ion-page");return(0,t.wg)(),(0,t.j4)(b,null,{default:(0,t.w5)((()=>[(0,t.Wm)(h,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,null,{default:(0,t.w5)((()=>[(0,t.Wm)(c,{slot:"start"},{default:(0,t.w5)((()=>[(0,t.Wm)(u,{onClick:i[0]||(i[0]=i=>e.$router.go(-1))},{default:(0,t.w5)((()=>[(0,t.Wm)(r,{slot:"icon-only",icon:l.chevronBack},null,8,["icon"])])),_:1})])),_:1}),(0,t.Wm)(p,null,{default:(0,t.w5)((()=>[(0,t.Uk)("내가 확인")])),_:1})])),_:1})])),_:1}),(0,t.Wm)(y,{fullscreen:!0},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{onSwiper:l.setSwiperRef,direction:"vertical",class:"swiper",onSlideChange:i[2]||(i[2]=e=>a.onSlideChange(e)),onSlideChangeTransitionStart:i[3]||(i[3]=e=>a.slideNextTransitionStart(e)),onSlideChangeTransitionEnd:i[4]||(i[4]=e=>a.slideNextTransitionEnd(e)),modules:l.modules,virtual:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(l.slides,((e,n)=>((0,t.wg)(),(0,t.j4)(g,{key:n,virtualIndex:n},{default:(0,t.w5)((()=>[(0,t.Wm)(w,{pagination:{clickable:!0},navigation:!0,modules:l.modules,virtual:""},{default:(0,t.w5)((()=>[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.fileList,((e,n)=>((0,t.wg)(),(0,t.j4)(g,{class:"user-img",key:n},{default:(0,t.w5)((()=>[(0,t.Wm)(m,{src:"https://"+e.cdnNm,onIonError:i[1]||(i[1]=e=>e.srcElement.src=s(7189))},null,8,["src"])])),_:2},1024)))),128))])),_:2},1032,["modules"]),(0,t.Wm)(k,{item:e,onBtnDailyCardInfo:i=>a.btnDailyCardInfo(e.userKey),onBtnSuperLike:e=>a.buttonClick("superLike",l.slides[n]),onBtnLike:e=>a.buttonClick("like",l.slides[n]),onBtnNope:e=>a.buttonClick("nope",l.slides[n]),type:"dailyDetail"},null,8,["item","onBtnDailyCardInfo","onBtnSuperLike","onBtnLike","onBtnNope"])])),_:2},1032,["virtualIndex"])))),128))])),_:1},8,["onSwiper","modules"]),(0,t.Wm)(f,{subscribeInfo:l.subscribeInfo,modalOpen:l.superLikeModalOpen,categoryList:l.categoryList,quantity:l.couponQuantity,isBonusYn:l.couponIsBonusYn,nick:l.choiceNick,emoji:"💘",target:l.selectTargetUserData.userKey,onSuperLikeModalOpen:i[5]||(i[5]=e=>l.superLikeModalOpen=!1),onEndNext:i[6]||(i[6]=e=>a.endNext())},null,8,["subscribeInfo","modalOpen","categoryList","quantity","isBonusYn","nick","target"])])),_:1}),(0,t.Wm)(C,{"is-open":l.messageModal,title:l.targetNick+"님이 보낸 메시지",message:l.slm,onIonModalDidDismiss:i[7]||(i[7]=e=>{l.messageModal=!1})},null,8,["is-open","title","message"])])),_:1})}s(57658),s(26699);var o=s(18903),l=s(28151),a=s(57552),r=s(99304),u=s(5109),c=s(3577);const p={class:"message"},d={class:"modal-footer"};function h(e,i,s,n,o,l){const a=(0,t.up)("ion-toolbar"),r=(0,t.up)("custom-button"),u=(0,t.up)("ion-content"),h=(0,t.up)("ion-modal");return(0,t.wg)(),(0,t.j4)(h,{"is-open":s.isOpen,onIonModalDidDismiss:l.ionModalDidDismiss},{default:(0,t.w5)((()=>[(0,t.Wm)(a,null,{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(s.title),1)])),_:1}),(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t.Wm)(u,null,{default:(0,t.w5)((()=>[(0,t._)("div",p,[(0,t._)("p",null,(0,c.zw)(s.message),1)]),(0,t._)("div",d,[(0,t.Wm)(r,{color:"primary",shape:"round",expand:"block",size:"large",onClick:l.ionModalDidDismiss},{default:(0,t.w5)((()=>[(0,t.Uk)("확인")])),_:1},8,["onClick"])])])),_:1})])),_:1})])),_:1},8,["is-open","onIonModalDidDismiss"])}const m={name:"OneMessageModal.vue",props:{isOpen:{type:Boolean},title:{type:String},message:{type:String}},methods:{ionModalDidDismiss(){this.$emit("ionModalDidDismiss")}}};var g=s(83744);const w=(0,g.Z)(m,[["render",h],["__scopeId","data-v-1cf52fee"]]),k=w,f={class:"choice-profile-info"},y={class:"layout-container"},C={class:"choice-profile-chips"},b={class:"choice-profile-info-detail"},S={style:{"font-size":"16px"}},I={class:"choice-profile-info-btn-group"},v={class:"choice-profile-info-btn-item"},_={class:"choice-profile-info-btn-item"},x={class:"choice-profile-info-btn-item"};function T(e,i,n,o,l,a){const r=(0,t.up)("ion-label"),u=(0,t.up)("ion-chip"),p=(0,t.up)("ion-icon"),d=(0,t.up)("ion-text"),h=(0,t.up)("ion-img"),m=(0,t.up)("ion-avatar"),g=(0,t.up)("ion-row"),w=(0,t.up)("ion-fab-button");return(0,t.wg)(),(0,t.iD)("div",f,[(0,t._)("div",y,[(0,t._)("div",C,["Y"==n.item.connectionYn?((0,t.wg)(),(0,t.j4)(u,{key:0,style:{"background-color":"#75ed91",color:"black","font-size":"16px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Uk)("접속중")])),_:1})])),_:1})):(0,t.kq)("",!0),"Y"==n.item.aroundYn?((0,t.wg)(),(0,t.j4)(u,{key:1,style:{"background-color":"#37776d",color:"white","font-size":"16px"}},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{icon:l.locationOutline,size:"small",style:{color:"white","font-size":"10px"}},null,8,["icon"]),(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Uk)("근처")])),_:1})])),_:1})):(0,t.kq)("",!0)]),(0,t._)("div",b,[(0,t.Wm)(r,null,{default:(0,t.w5)((()=>[(0,t.Wm)(g,null,{default:(0,t.w5)((()=>[(0,t.Wm)(d,{color:"light"},{default:(0,t.w5)((()=>[(0,t._)("h3",null,(0,c.zw)(n.item.nick)+" "+(0,c.zw)(n.item.age),1)])),_:1}),n.item.cdnThumbNm?((0,t.wg)(),(0,t.j4)(m,{key:0},{default:(0,t.w5)((()=>[(0,t.Wm)(h,{src:"https://"+n.item.cdnThumbNm,onIonError:i[0]||(i[0]=e=>e.srcElement.src=s(7189))},null,8,["src"])])),_:1})):(0,t.kq)("",!0)])),_:1}),(0,t.Wm)(g,{style:{"background-color":"var(--ion-color-primary)"}},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{icon:l.locationOutline,style:{color:"white"}},null,8,["icon"]),(0,t.Wm)(d,{color:"light"},{default:(0,t.w5)((()=>[(0,t._)("h3",S,(0,c.zw)(n.item.distanceKm),1)])),_:1})])),_:1}),(0,t._)("p",null,[(0,t.Wm)(d,{color:"light"},{default:(0,t.w5)((()=>[(0,t.Uk)((0,c.zw)(n.item.introduce),1)])),_:1})]),(0,t._)("p",null,[(0,t.Wm)(d,{color:"light",class:"text-link",onClick:a.btnDailyCardInfo},{default:(0,t.w5)((()=>[(0,t.Uk)("프로필보기 ")])),_:1},8,["onClick"])])])),_:1})]),(0,t._)("div",I,[(0,t._)("div",v,[(0,t.Wm)(w,{onClick:a.btnSuperLike,class:"btn-superlike",id:"open-choice-modal"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{icon:l.choiceSuperlike},null,8,["icon"])])),_:1},8,["onClick"]),(0,t.Wm)(u,{class:"chip-superlike"},{default:(0,t.w5)((()=>[(0,t.Uk)("SUPER like")])),_:1})]),(0,t._)("div",_,[(0,t.Wm)(w,{onClick:a.btnLike,class:"btn-like"},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{icon:l.choiceLike},null,8,["icon"])])),_:1},8,["onClick"])]),(0,t._)("div",x,[(0,t.Wm)(w,{onClick:a.btnNope},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{icon:l.choiceNope},null,8,["icon"])])),_:1},8,["onClick"])])])])])}var L=s(80858),M=s(92993),N=s(70375),D=s(61015),Y=s(68231);const W={name:"ChoiceProfileInfo",props:{item:{type:Object},type:{type:String}},data(){return{choiceBack:L,choiceSuperlike:M,choiceLike:N,choiceHoney:D,choiceNope:Y,locationOutline:o.Iv7}},methods:{btnDailyCardInfo(){this.$emit("btnDailyCardInfo")},btnSuperLike(){this.$emit("btnSuperLike")},btnLike(){this.$emit("btnLike")},btnNope(){this.$emit("btnNope")}}},A=(0,g.Z)(W,[["render",T],["__scopeId","data-v-0793626c"]]),O=A,U={inject:["alertController"],components:{Swiper:a.tq,SwiperSlide:a.o5,SuperLikeModal:u.Z,DailytDetailInfo:O,OneMessageModal:k},data(){const e=e=>{this.swiperRef=e,this.swiperRef.allowSlidePrev=!1};return{close:o.xvD,heart:o.sdP,trophy:o.SRd,cash:o.V7I,balloon:o.qmv,chevronBack:o.Mny,infoMap:{},nick:"",categoryList:"",selectedCategory:"",placeholderText:"상대방에게 나의 마음을 표현해주세요.",selectTargetUserData:{},modules:[r.W_,r.tl,r.oM],setSwiperRef:e,swiperRef:null,isLast:!1,slides:null,superLikeModalOpen:!1,choiceNick:"",coupon:"",useTypeHeart:"COUPON",useTypeSwipe:"COUPON",profileADitem:1,swipeCoupon:{quantity:0},couponCd:"",modalChoice:!1,isBuffYn:"",superLikeMsgModalOpen:!1,modalText:"",readonlyText:!1,slm:"",likeSeq:"",targetNick:"",couponQuantity:0,couponIsBonusYn:"",subscribeInfo:{},messageModal:!1}},ionViewWillEnter(){this.infoMap={},this.getChoiceOne(),this.targetNick=l.fu.nick,this.slm=l.fu.superLikeMessage,this.likeSeq=l.fu.likeSeq,void 0!=l.fu.superLikeMessage&&null!=l.fu.superLikeMessage&&""!=l.fu.superLikeMessage&&(this.messageModal=!0)},ionViewDidLeave(){},mounted(){this.isLast=!0},methods:{btnDailyCardInfo(e){console.log(e),(0,l.PC)({userKey:e,type:"dailyCardDetail",likeSeq:this.likeSeq}),this.$router.push("/dailyCardInfo")},getChoiceOne(){this.slides=[],(0,l.Yu)({url:"/getChoiceOne",param:{targetUserId:l.fu.userKey,likeSeq:l.fu.likeSeq},then:e=>{this.$nextTick((()=>{this.slides=e,this.swiperRef.allowSlidePrev=!1,this.isLast=!1}))}})},onSlideChange(e){this.swiperActiveIndex>e.activeIndex&&(this.swiperActiveIndex=e.activeIndex)},slideNextTransitionStart(e){let i=this;this.swiperActiveIndex<e.activeIndex?(this.isSkip&&this.setSkip(this.slides[this.swiperActiveIndex],"swipe"),this.swiperActiveIndex=e.activeIndex,this.swiperRef.allowSlidePrev=!1,this.swiperRef.allowTouchMove=!1,setTimeout((function(){i.swiperRef.allowTouchMove=!0}),500)):this.swiperActiveIndex>e.activeIndex&&(this.swiperActiveIndex=e.activeIndex),this.slides.length>0&&this.slides.length===e.activeIndex+1&&this.reachEnd()},slideNextTransitionEnd(e){this.isSkip=!0,this.swiperActiveIndex=e.activeIndex,this.swiperRef.allowSlidePrev=!1},getUserCouponDataOne(e){let i="";"superLike"===e?i="CU001":"honey"===e&&(i="CU002"),(0,l.Yu)({url:"/getUserCouponDataOne",param:{couponCd:i},then:e=>{this.coupon=e,this.couponQuantity=this.coupon.quantity,this.couponIsBonusYn=this.coupon.isBonusYn,this.coupon.quantity>0?this.useTypeHeart="COUPON":this.useTypeHeart="HEART"}})},getUserSubscribeInfo(){(0,l.Yu)({url:"/getUserSubscribeInfo",param:{infiniteActionCd:"SUPER_LIKE"},then:e=>{this.subscribeInfo=e}})},async warningAlert(e){const i=await this.alertController.create({header:"",subHeader:"",message:e,buttons:["OK"]});return i.present()},getDailyUserInfo(){(0,l.Yu)({url:"/getDailyUserInfo",param:{userKey:l.fu.userKey,pageType:l.fu.pageType},then:e=>{"N"===e.successYn?this.warningAlert(e.message):(this.infoMap=e,this.nick=this.infoMap.nick)}})},buttonClick(e,i){"nope"===e?(this.isSkip=!1,this.setNope(i,"click")):"like"===e?(this.isSkip=!1,this.setLike(i,"click")):"superLike"===e&&(this.getChoiceCategoryList(),this.getUserSubscribeInfo(),this.getUserCouponDataOne("superLike"),this.choiceNick=i.nick,this.superLikeModalOpen=!0,this.selectTargetUserData=i),this.swiperRef.allowSlidePrev=!1},setLike(e,i){console.log(e.userKey),console.log(this.likeSeq),(0,l.Yu)({url:"/setLike",param:{userId:e.userKey,likeType:"daily",likeSeq:this.likeSeq},then:i=>{"N"===i.successYn?this.warningAlert(i.message):i.successYn.includes("NI")?"NI_HI"==i.successYn?this.warningConfirm(i.message,(()=>{this.getSwipeCouponDataOne(),(0,l.Yu)({url:"/useSwiperPlus",param:{couponCd:"CU004",useType:this.useTypeSwipe,itemCd:"HEART"===this.useTypeSwipe?"IT004_01":"",pointCd:"HEART"===this.useTypeSwipe?"BUY":"",userId:e.userKey,likeType:"daily",likeSeq:this.likeSeq},then:e=>{"N"===e.successYn||"NE"===e.successYn?this.warningAlert(e.message):"NH"===e.successYn?this.warningAlertNH(e.message):"MATCH"===e.successYn?(this.warningAlertMatch(e.message),this.$router.go(-1)):this.$router.go(-1)}})})):"NI_NHI"==i.successYn&&this.warningConfirm(i.message,(()=>{this.$router.push("/store")})):("MATCH"==i.successYn&&this.warningAlertMatch(i.message),this.$router.go(-1))}})},setNope(e,i){(0,l.Yu)({url:"/setNope",param:{userId:e.userKey,likeType:"daily",likeSeq:this.likeSeq},then:e=>{"N"===e.successYn?this.warningAlert(e.message):(this.warningAlert(e.message),this.$router.go(-1))}})},getChoiceCategoryList(){(0,l.Yu)({url:"/getChoiceCategoryList",param:{},then:e=>{this.categoryList=e}})},endNext(){this.superLikeModalOpen=!1,this.$router.go(-1)},async warningAlertNI(e,i){const s=await this.alertController.create({header:"",subHeader:"",message:e,buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"완료",handler:()=>{(0,l.Yu)({url:"/useSwiperPlus",param:{couponCd:"CU004",useType:this.useTypeSwipe,itemCd:"HEART"===this.useTypeSwipe?"IT004_01":"",pointCd:"HEART"===this.useTypeSwipe?"BUY":"",userId:i,likeType:"daily"},then:e=>{"N"===e.successYn||"NE"===e.successYn?this.warningAlert(e.message):"NH"===e.successYn?this.warningAlertNH(e.message):"MATCH"===e.successYn&&this.warningAlertMatch(e.message)}})}}]});return s.present()},getSwipeCouponDataOne(){(0,l.Yu)({url:"/getUserCouponDataOne",param:{couponCd:"CU004"},then:e=>{this.swipeCoupon=e,this.swipeCoupon.quantity>0?this.useTypeSwipe="COUPON":this.useTypeSwipe="HEART"}})},async warningAlertMatch(e){const i=await this.alertController.create({header:"",subHeader:"",message:e,buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"이동",handler:()=>{this.$router.push("/messageMain")}}]});return i.present()},async warningConfirm(e,i){const s=await this.alertController.create({header:"",subHeader:"",message:e,buttons:[{text:"아니요",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"네",handler:()=>{i()}}]});return s.present()},async warningAlertNH(e){const i=await this.alertController.create({header:"",subHeader:"",message:e,buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"이동",handler:()=>{this.$router.push("/store")}}]});return i.present()}}},H=(0,g.Z)(U,[["render",n],["__scopeId","data-v-650ba828"]]),q=H},80858:(e,i,s)=>{e.exports=s.p+"img/choice_back.ed48f332.svg"},70375:(e,i,s)=>{e.exports=s.p+"img/choice_like.57eff443.svg"},68231:(e,i,s)=>{e.exports=s.p+"img/choice_nope.84bb9614.svg"},61015:(e,i,s)=>{e.exports=s.p+"img/choice_skip.ca937dbf.svg"},7189:(e,i,s)=>{e.exports=s.p+"img/Loading_icon.f0448993.gif"}}]);
//# sourceMappingURL=4115-legacy.d11d8440.js.map