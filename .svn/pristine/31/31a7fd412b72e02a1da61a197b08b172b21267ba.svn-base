"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[4345],{40411:(t,e,i)=>{i.d(e,{b:()=>a});var n=i(29895);const a=(0,n.fo)("Geolocation",{web:()=>i.e(6642).then(i.bind(i,56642)).then((t=>new t.GeolocationWeb))})},60322:(t,e,i)=>{i.r(e),i.d(e,{default:()=>$});i(33948);var n=i(66252),a=i(49963),l=i(3577);const o={class:"row-box"},s={class:"btn-tab-group"},d={key:0},r={key:1},u={key:0},c={key:1},m={class:"row-box"},h={class:"row-box"},p={class:"row-box"},g={class:"row-box"},w={class:"row-box"},C=(0,n._)("br",null,null,-1),f=(0,n._)("br",null,null,-1),_={class:"layout-container"},k=(0,n._)("div",{id:"map",style:{width:"100%",height:"80%"}},null,-1),b={class:"layout-container"},y={class:"v-middle"},v={class:"btn-group"},W={class:"row-box"},I={class:"row-box"},L={class:"row-box"},x={class:"ion-padding"};function D(t,e,i,D,T,O){const N=(0,n.up)("BackButton"),M=(0,n.up)("ion-buttons"),V=(0,n.up)("ion-title"),A=(0,n.up)("ion-toolbar"),P=(0,n.up)("ion-header"),K=(0,n.up)("GuideBanner"),F=(0,n.up)("ion-button"),U=(0,n.up)("ion-input"),S=(0,n.up)("ion-item"),B=(0,n.up)("ion-textarea"),z=(0,n.up)("ion-list"),Y=(0,n.up)("AddPhotoButton"),j=(0,n.up)("ion-col"),E=(0,n.up)("ion-row"),G=(0,n.up)("ion-grid"),R=(0,n.up)("ion-icon"),$=(0,n.up)("ion-datetime-button"),H=(0,n.up)("ion-label"),Z=(0,n.up)("ion-select-option"),q=(0,n.up)("ion-select"),J=(0,n.up)("ion-datetime"),Q=(0,n.up)("ion-modal"),X=(0,n.up)("CustomCardItem"),tt=(0,n.up)("ion-text"),et=(0,n.up)("ion-checkbox"),it=(0,n.up)("PageLoadingCheck"),nt=(0,n.up)("ion-content"),at=(0,n.up)("ion-footer"),lt=(0,n.up)("ion-ripple-effect"),ot=(0,n.up)("ion-list-header"),st=(0,n.up)("OpenChatDefaultImgItem"),dt=(0,n.up)("ion-radio-group"),rt=(0,n.up)("ion-page"),ut=(0,n.up)("SelectCategoryItem");return(0,n.wg)(),(0,n.j4)(rt,null,{default:(0,n.w5)((()=>[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(A,null,{default:(0,n.w5)((()=>[(0,n.Wm)(M,{slot:"start"},{default:(0,n.w5)((()=>[(0,n.Wm)(N,{onEvent:e[0]||(e[0]=t=>O.presentAlertConfirm()),custom:!0})])),_:1}),(0,n.Wm)(V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("모임 생성하기")])),_:1})])),_:1})])),_:1}),(0,n.Wm)(nt,{class:"ion-padding"},{default:(0,n.w5)((()=>[(0,n.Wm)(K,{onEvent:O.goRouter,title:"오픈채팅을 더 즐기기 위한 가이드 보기 배너"},null,8,["onEvent"]),(0,n._)("div",o,[(0,n._)("div",s,[(0,n.Wm)(F,{onClick:e[1]||(e[1]=(0,a.iM)((t=>O.openModal("category")),["stop"])),fill:"outline"},{default:(0,n.w5)((()=>[""==T.partitionCd?((0,n.wg)(),(0,n.iD)("span",d,"게시판 선택하기")):((0,n.wg)(),(0,n.iD)("span",r,(0,l.zw)(T.partitionNm),1))])),_:1}),(0,n.Wm)(F,{onClick:e[2]||(e[2]=(0,a.iM)((t=>O.openModal("subCategory")),["stop"])),fill:"outline",disabled:""==T.partitionCd},{default:(0,n.w5)((()=>[""==T.subPartitionCd?((0,n.wg)(),(0,n.iD)("span",u,"서브게시판 선택하기")):((0,n.wg)(),(0,n.iD)("span",c,(0,l.zw)(T.subPartitionNm),1))])),_:1},8,["disabled"])])]),(0,n._)("div",m,[(0,n.Wm)(z,null,{default:(0,n.w5)((()=>[(0,n.Wm)(S,{ref:"title",counter:"true",counterFormatter:T.COUNTE_FORMAT,class:"input-field"},{default:(0,n.w5)((()=>[(0,n.Wm)(U,{type:"text",maxlength:"20",placeholder:"모임 제목은 최대 20자까지 가능해요",modelValue:T.title,"onUpdate:modelValue":e[3]||(e[3]=t=>T.title=t),onIonChange:e[4]||(e[4]=t=>T.COM_VALIDATION(T.title,"title",this)),onInput:O.handleInput},null,8,["modelValue","onInput"])])),_:1},8,["counterFormatter"]),(0,n.Wm)(S,{ref:"content",lines:"none",counter:"true",counterFormatter:T.COUNTE_FORMAT,class:"input-field"},{default:(0,n.w5)((()=>[(0,n.Wm)(B,{modelValue:T.content,"onUpdate:modelValue":e[5]||(e[5]=t=>T.content=t),rows:15,maxlength:"2000",onIonChange:e[6]||(e[6]=t=>T.COM_VALIDATION(T.content,"content",this)),placeholder:"매너를 지켜주세요.\n특정인이나 집단을 비하하거나 저격하는 행위,\n욕설 및 비방글은 삭제됩니다."},null,8,["modelValue"])])),_:1},8,["counterFormatter"])])),_:1})]),(0,n._)("div",h,[(0,n.Wm)(G,null,{default:(0,n.w5)((()=>[(0,n.Wm)(E,null,{default:(0,n.w5)((()=>[(0,n.Wm)(j,{size:"4"},{default:(0,n.w5)((()=>[(0,n.Wm)(Y,{onClick:O.openImgPopup,name:T.imgCdnNm,required:!0},null,8,["onClick","name"]),(0,n._)("input",{type:"file",onChange:e[7]||(e[7]=(...t)=>O.onFileChange&&O.onFileChange(...t)),ref:"photo",style:{display:"none"}},null,544)])),_:1})])),_:1})])),_:1})]),(0,n._)("div",p,[(0,n.Wm)(z,{class:"schedule-info"},{default:(0,n.w5)((()=>[(0,n._)("div",g,[(0,n.Wm)(X,null,{default:(0,n.w5)((()=>[(0,n.Wm)(H,{class:"text-left"},{default:(0,n.w5)((()=>[(0,n.Wm)(E,{class:"gap-md ion-align-items-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:T.calendarCheck,color:"light"},null,8,["icon"]),"always"==T.type?((0,n.wg)(),(0,n.iD)(n.HY,{key:0},[(0,n.Uk)(" 항상")],64)):((0,n.wg)(),(0,n.j4)($,{key:1,datetime:"datetime",class:"d-inline btn-datetime"}))])),_:1})])),_:1}),(0,n.Wm)(q,{modelValue:T.type,"onUpdate:modelValue":e[8]||(e[8]=t=>T.type=t),placeholder:"모집 형식 선택"},{default:(0,n.w5)((()=>[(0,n.Wm)(Z,{value:"always"},{default:(0,n.w5)((()=>[(0,n.Uk)("상시모집")])),_:1}),(0,n.Wm)(Z,{value:"time"},{default:(0,n.w5)((()=>[(0,n.Uk)("기간지정")])),_:1})])),_:1},8,["modelValue"]),(0,n.Wm)(Q,{"keep-contents-mounted":!0,class:"datetimeModal"},{default:(0,n.w5)((()=>[(0,n.Wm)(J,{id:"datetime",mode:"md",presentation:"date","show-default-buttons":!0,modelValue:T.dueDate,"onUpdate:modelValue":e[9]||(e[9]=t=>T.dueDate=t),datetime:"datetime",min:O.getCurrentDate()},null,8,["modelValue","min"])])),_:1})])),_:1})]),(0,n._)("div",w,[(0,n.Wm)(X,null,{default:(0,n.w5)((()=>[(0,n.Wm)(H,{class:"text-left"},{default:(0,n.w5)((()=>[(0,n.Wm)(E,{class:"gap-md ion-align-items-center"},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:T.locationOutline,color:"light"},null,8,["icon"]),(0,n.Wm)(tt,null,{default:(0,n.w5)((()=>[(0,n.Uk)("모임장소를 정해 주세요 !")])),_:1}),(0,n.Wm)(U,{onClick:e[10]||(e[10]=t=>O.openModal("address")),type:"text",placeholder:"주소를 입력해주세요.",class:"address-field",modelValue:T.location,"onUpdate:modelValue":e[11]||(e[11]=t=>T.location=t),readonly:"",style:{"padding-right":"10px !important","text-align":"right"}},null,8,["modelValue"])])),_:1})])),_:1})])),_:1})])])),_:1})]),(0,n.Wm)(z,{class:"activateCheckList"},{default:(0,n.w5)((()=>[(0,n.Wm)(S,{class:"activateCheckList-item",lines:"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(et,{slot:"start",onClick:O.activeTimeCheck,modelValue:T.activeTimeToggle,"onUpdate:modelValue":e[12]||(e[12]=t=>T.activeTimeToggle=t)},null,8,["onClick","modelValue"]),(0,n.Wm)(H,{class:"text-left"},{default:(0,n.w5)((()=>[(0,n.Wm)(tt,{class:"activeTimeText",readonly:""},{default:(0,n.w5)((()=>[(0,n.Uk)(" 다른 사용자들이 모임 정보에서 "),C,(0,n.Uk)("마지막 활동 시간을 볼 수 있어요 ! ")])),_:1})])),_:1})])),_:1}),(0,n.Wm)(S,{class:"activateCheckList-item",lines:"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(et,{slot:"start",onClick:O.activeCheck,modelValue:T.activeToggle,"onUpdate:modelValue":e[13]||(e[13]=t=>T.activeToggle=t)},null,8,["onClick","modelValue"]),(0,n.Wm)(H,{class:"text-left"},{default:(0,n.w5)((()=>[(0,n.Wm)(tt,{class:"activeText",readonly:""},{default:(0,n.w5)((()=>[(0,n.Uk)(" 방장은 24시간동안 황동하지 않으면 "),f,(0,n.Uk)("모임은 비활성화 처리 됩니다 ! ")])),_:1})])),_:1})])),_:1})])),_:1}),0!=T.lodingCheck?((0,n.wg)(),(0,n.j4)(it,{key:0,style:{position:"fixed",top:"48%",left:"48%","z-index":"9999"}})):(0,n.kq)("",!0)])),_:1}),(0,n.Wm)(at,null,{default:(0,n.w5)((()=>[(0,n._)("div",_,[(0,n.Wm)(F,{color:"primary",shape:"round",expand:"block",size:"large",onClick:e[14]||(e[14]=t=>O.checkBth(this.state)),disabled:!O.checkDisabledBtn},{default:(0,n.w5)((()=>[(0,n.Uk)(" 오픈챗 "+(0,l.zw)("edit"==this.state?"수정하기":"생성하기"),1)])),_:1},8,["disabled"])])])),_:1}),(0,n.Wm)(Q,{class:"location-modal","is-open":T.modalOpen,onIonModalDidDismiss:O.saveLocationBtn,onIonModalDidPresent:O.mapOpen,"initial-breakpoint":1,breakpoints:[0,1]},{default:(0,n.w5)((()=>[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(A,null,{default:(0,n.w5)((()=>[(0,n.Wm)(M,{slot:"start"},{default:(0,n.w5)((()=>[(0,n.Wm)(F,{onClick:e[15]||(e[15]=t=>O.saveLocationBtn())},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{slot:"icon-only",icon:T.chevronBack},null,8,["icon"])])),_:1})])),_:1}),(0,n.Wm)(V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("지도에서 위치 확인")])),_:1})])),_:1})])),_:1}),(0,n.Wm)(nt,null,{default:(0,n.w5)((()=>[k])),_:1}),(0,n.Wm)(at,{class:"location-modal-footer",style:{height:"110px","background-color":"#191a39",padding:"10px"}},{default:(0,n.w5)((()=>[(0,n._)("div",b,[(0,n.Wm)(G,{style:{padding:"0 10px 0 10px"}},{default:(0,n.w5)((()=>[(0,n.Wm)(E,{class:"ion-align-items-end ion-justify-content-between"},{default:(0,n.w5)((()=>[(0,n.Wm)(tt,{color:"light"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(T.locationView),1)])),_:1}),(0,n.Wm)(tt,{color:"light",onClick:O.jibunGuCheck},{default:(0,n.w5)((()=>[(0,n.Wm)(R,{icon:T.swapHorizontalOutline,class:"v-middle"},null,8,["icon"]),(0,n._)("span",y,(0,l.zw)(T.checkBtnText),1)])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,n._)("div",v,[(0,n.Wm)(F,{color:"primary",size:"large",expand:"block",shape:"round",onClick:O.saveLocationBtn},{default:(0,n.w5)((()=>[(0,n.Wm)(lt),(0,n.Uk)(" 이 위치로 주소 설정 ")])),_:1},8,["onClick"])])])])),_:1})])),_:1},8,["is-open","onIonModalDidDismiss","onIonModalDidPresent"]),(0,n.Wm)(Q,{"is-open":T.imgModalOpen,onIonModalDidDismiss:e[20]||(e[20]=t=>T.imgModalOpen=!1),"initial-breakpoint":1,breakpoints:[0,.15,.5,1]},{default:(0,n.w5)((()=>[(0,n.Wm)(rt,null,{default:(0,n.w5)((()=>[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(A,{class:"text-left"},{default:(0,n.w5)((()=>[(0,n.Wm)(V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("한장의 사진을 선택할 수 있어요")])),_:1})])),_:1})])),_:1}),(0,n.Wm)(nt,null,{default:(0,n.w5)((()=>[(0,n.Wm)(z,{class:"ion-padding"},{default:(0,n.w5)((()=>[(0,n.Wm)(dt,{modelValue:T.radioValue,"onUpdate:modelValue":e[18]||(e[18]=t=>T.radioValue=t)},{default:(0,n.w5)((()=>[(0,n._)("div",W,[(0,n.Wm)(ot,null,{default:(0,n.w5)((()=>[(0,n.Wm)(tt,{color:"light",class:"text-md text-bold"},{default:(0,n.w5)((()=>[(0,n.Uk)("직접등록")])),_:1})])),_:1}),(0,n.Wm)(E,null,{default:(0,n.w5)((()=>[(0,n.Wm)(j,{size:"4"},{default:(0,n.w5)((()=>[null==T.imgCdnNm2?((0,n.wg)(),(0,n.j4)(Y,{key:0,onClick:e[16]||(e[16]=t=>O.addPhoto("insert")),name:T.imgCdnNm2,label:"직접등록"},null,8,["name"])):((0,n.wg)(),(0,n.j4)(Y,{key:1,onClick:e[17]||(e[17]=t=>O.addPhoto("update")),name:T.imgCdnNm2,label:"직접등록"},null,8,["name"]))])),_:1})])),_:1})]),(0,n._)("div",I,[(0,n.Wm)(ot,null,{default:(0,n.w5)((()=>[(0,n.Wm)(tt,{color:"light",class:"text-md text-bold"},{default:(0,n.w5)((()=>[(0,n.Uk)("기본사진")])),_:1})])),_:1}),(0,n.Wm)(E,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(T.defaultImgList,(t=>((0,n.wg)(),(0,n.j4)(j,{size:"4",key:t.fileId},{default:(0,n.w5)((()=>[(0,n.Wm)(st,{item:t,onEvent:e=>O.checkImg(t)},null,8,["item","onEvent"])])),_:2},1024)))),128))])),_:1})]),(0,n._)("div",L,[(0,n.Wm)(ot,null,{default:(0,n.w5)((()=>[(0,n.Wm)(tt,{color:"light",class:"text-md text-bold"},{default:(0,n.w5)((()=>[(0,n.Uk)("플러스사진")])),_:1})])),_:1}),(0,n.Wm)(E,null,{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(T.defaultImgList,(t=>((0,n.wg)(),(0,n.j4)(j,{size:"4",key:t.fileId},{default:(0,n.w5)((()=>[(0,n.Wm)(st,{item:t,onEvent:e=>O.checkImg(t)},null,8,["item","onEvent"])])),_:2},1024)))),128))])),_:1})])])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,n.Wm)(at,null,{default:(0,n.w5)((()=>[(0,n._)("div",x,[(0,n.Wm)(F,{color:"primary",size:"large",shape:"round",expand:"block",onClick:e[19]||(e[19]=t=>O.imgComplete())},{default:(0,n.w5)((()=>[(0,n.Uk)(" 사진등록하기 ")])),_:1})])])),_:1})])),_:1})])),_:1},8,["is-open"]),(0,n.Wm)(Q,{ref:"modal","is-open":T.categoryModalOpen,onIonModalDidDismiss:e[21]||(e[21]=t=>T.categoryModalOpen=!1),"initial-breakpoint":1,breakpoints:[0,.15,.5,1]},{default:(0,n.w5)((()=>[(0,n.Wm)(rt,null,{default:(0,n.w5)((()=>[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(A,{class:"text-left"},{default:(0,n.w5)((()=>[(0,n.Wm)(V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("카테고리를 선택해 주세요")])),_:1})])),_:1})])),_:1}),(0,n.Wm)(nt,null,{default:(0,n.w5)((()=>[(0,n.Wm)(z,{class:"ion-padding"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(T.partitionList,((t,e)=>((0,n.wg)(),(0,n.j4)(ut,{class:"row-box",key:e,item:t,onClick:e=>O.closeCategory(t,"category")},null,8,["item","onClick"])))),128))])),_:1})])),_:1})])),_:1})])),_:1},8,["is-open"]),(0,n.Wm)(Q,{ref:"modal","is-open":T.subCategoryModalOpen,onIonModalDidDismiss:e[22]||(e[22]=t=>T.subCategoryModalOpen=!1),"initial-breakpoint":1,breakpoints:[0,1],style:{"--height":"50%"}},{default:(0,n.w5)((()=>[(0,n.Wm)(rt,null,{default:(0,n.w5)((()=>[(0,n.Wm)(P,null,{default:(0,n.w5)((()=>[(0,n.Wm)(A,{class:"text-left"},{default:(0,n.w5)((()=>[(0,n.Wm)(V,null,{default:(0,n.w5)((()=>[(0,n.Uk)("서브 카테고리를 선택해 주세요")])),_:1})])),_:1})])),_:1}),(0,n.Wm)(nt,null,{default:(0,n.w5)((()=>[(0,n.Wm)(z,{class:"ion-padding"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(T.partitionSubList,(t=>((0,n.wg)(),(0,n.iD)("div",{class:"row-box",key:t.idx},[(0,n.Wm)(ut,{item:t,type:"sub",onClick:e=>O.closeCategory(t,"subCategory")},null,8,["item","onClick"])])))),128))])),_:1})])),_:1})])),_:1})])),_:1},8,["is-open"])])),_:1})}i(57658),i(26699),i(74916),i(15306);var T=i(18903),O=i(27783),N=i(28151),M=i(52677),V=i(55866),A=i(29443),P=i(69391);function K(t,e,a,o,s,d){const r=(0,n.up)("ion-radio"),u=(0,n.up)("ion-img"),c=(0,n.up)("ion-card-title"),m=(0,n.up)("ion-card-header"),h=(0,n.up)("ion-card");return(0,n.wg)(),(0,n.j4)(h,{onClick:d.handleClick},{default:(0,n.w5)((()=>[(0,n.Wm)(r,{value:a.item.fileId,mode:"ios"},null,8,["value"]),(0,n.Wm)(u,{src:s.isLoaded?"https://"+a.item.cdnThumbNm:i(7189),onIonImgDidLoad:d.handleImgloaded,onIonError:e[0]||(e[0]=t=>t.srcElement.src=i(7189))},null,8,["src","onIonImgDidLoad"]),(0,n.Wm)(m,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,null,{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(a.item.name),1)])),_:1})])),_:1})])),_:1},8,["onClick"])}const F={name:" OpenChatDefaultImgItem",props:{item:{type:Object}},data(){return{isLoaded:!1}},methods:{handleImgloaded(){this.isLoaded=!0},handleClick(){this.$emit("event")}}};var U=i(83744);const S=(0,U.Z)(F,[["render",K],["__scopeId","data-v-2e665494"]]),B=S;var z=i(54939),Y=i(2982),j=i(96826),E=(i(29895),i(40411));const G={name:"OpenChatWrite",inject:["loadingController","alertController"],components:{IonDatetime:O.x4,IonDatetimeButton:O.Mj,GuideBanner:M.Z,AddPhotoButton:V.Z,CustomCardItem:A.Z,OpenChatDefaultImgItem:B,SelectCategoryItem:z.Z,PageLoadingCheck:Y.Z},computed:{validate(){return this.COM_VALIDATION([{value:this.title,type:"title"},{value:this.content,type:"content"},{value:this.partitionNm,type:"select"}])},checkDisabledBtn(){return""!=this.title&&""!=this.content&&null!=this.imgFileId}},data(){return{mapOutline:T.oYE,locationOutline:T.Iv7,swapHorizontalOutline:T._hl,calendarCheck:P,COM_VALIDATION:N.QV,COUNTE_FORMAT:N.Kj,swapHorizontalSharp:T.SW7,chevronBack:T.Mny,addOutline:T.s6O,dateData:"",state:"",type:"",partitionList:[],partitionCd:"",partitionNm:"",partitionSubList:[],subPartitionCd:"",subPartitionNm:"",title:"",content:"",fileKey:"",alwaysYn:"",privateYn:"",date:"",dueDate:"",conDate:"",location:"",dateString:"",inputType:"",showModal:!1,modalOpen:!1,categoryModalOpen:!1,subCategoryModalOpen:!1,visible:!1,loading:null,addr1:"",addr2:"",shotaddr1:"",shotaddr2:"",chatDetailMap:{},uploadType:"",Attachfiles:[],imgFileId:null,imgFileId2:null,imgFileId3:null,imgCdnNm:null,imgCdnNm2:null,imgCdnNm3:null,openChatKey:"",paramImgFile:"",imgModalOpen:!1,defaultImgList:[],radioValue:"",locationView:"",currLat:"",currLon:"",selectedLat:null,selectedLng:null,selectedjibunAddress:null,selectedroadAddress:null,selectedAddressGu:null,selectedjibunAddressDong:null,selectedroadAddressDong:null,checkBtn:"dong",checkBtnText:"구까지 표시",routerType:"",checkSubCategory:"",lodingCheck:!1,showMap:!1,activeTimeToggle:!1,activeToggle:!1,gpsLat:"",gpsLon:""}},ionViewDidLeave(){this.lodingCheck=!1,"guide"!=this.routerType&&(this.showMap=!1,this.partitionCd="",this.subPartitionCd="",this.title="",this.content="",this.type="",this.dueDate="",this.location="",this.imgFileId=null,this.imgFileId2=null,this.imgCdnNm=null,this.imgCdnNm2=null),this.activeTimeToggle=!1,this.activeToggle=!1},ionViewWillEnter(){this.openChatKey=""==N._K.openChatKey?"":N._K.openChatKey,"new"==N._K.type?(this.partitionCd="",this.partitionNm="",this.subPartitionCd="",this.subPartitionNm="",this.title="",this.content="",this.type="time",this.dueDate="",this.location="",this.imgFileId=null,this.imgFileId2=null,this.imgFileId3=null,this.imgCdnNm=null,this.imgCdnNm2=null,this.imgCdnNm3=null):"edit"==N._K.type&&(this.partitionCd=N._K.item.partitionCd,this.partitionNm=N._K.item.partitionNm,this.subPartitionCd=N._K.item.subPartitionCd,this.subPartitionNm=N._K.item.subPartitionNm,this.location=N._K.item.location,this.selectedLat=N._K.item.lat,this.selectedLng=N._K.item.lon,this.checkSubCategory=N._K.item.partitionCd,this.dueDate=N._K.item.dueDate,this.title=N._K.item.title,this.content=N._K.item.content,this.imgFileId=N._K.item.mainFileId,this.imgCdnNm=N._K.item.cdnThumbNm),this.state=N._K.type,"edit"==this.state&&(this.activeTimeToggle=!0,this.activeToggle=!0)},methods:{activeTimeCheck(t){this.activeTimeToggle=t.target.checked},activeCheck(t){this.activeToggle=t.target.checked},goRouter(){this.routerType="guide",(0,N.JU)({page:"openChatWrite",type:N._K.type}),this.$router.push("/notificationOpenChatGuide")},saveLocationBtn(){this.location=this.locationView,""!=this.locationView?this.showMap=!0:this.showMap=!1,this.modalOpen=!1},jibunGuCheck(){"dong"==this.checkBtn?(null!=this.selectedAddressGu&&(this.locationView=this.selectedAddressGu),this.checkBtnText="동까지 표시",this.checkBtn="gu"):(null!=this.selectedroadAddressDong&&(this.locationView=this.selectedjibunAddressDong),this.checkBtnText="구까지 표시",this.checkBtn="dong")},handleInput(){this.title.length>20&&(this.title=this.title.slice(0,20))},openImgPopup(){this.imgModalOpen=!0,this.radioValue="self",this.getDefaultImgList()},getDefaultImgList(){(0,N.Yu)({url:"/getDefaultImgList",param:{},then:t=>{this.defaultImgList=t}})},getPartitionList(){let t=new Date,e=t.getFullYear(),i=("0"+(t.getMonth()+1)).slice(-2),n=("0"+t.getDate()).slice(-2);this.dateString=e+"-"+i+"-"+n,this.dueDate=e+"-"+i+"-"+n,(0,N.Yu)({url:"/getPartitionList",param:{},then:t=>{this.partitionList=t}})},getPartitionSubList(){(0,N.Yu)({url:"/getPartitionSubList",param:{partitionCd:this.partitionCd},then:t=>{this.partitionSubList=t}})},closeCategory(t,e){"category"==e?(this.categoryModalOpen=!1,this.partitionCd=t.partitionCd,this.partitionNm=t.partitionNm,t.partitionCd!=this.checkSubCategory&&(this.checkSubCategory=t.partitionCd,this.subPartitionCd="",this.subPartitionNm="")):"subCategory"==e&&(this.subCategoryModalOpen=!1,this.subPartitionCd=t.subPartitionCd,this.subPartitionNm=t.subPartitionNm)},getOpenChatDetail(){(0,N.Yu)({url:"/getOpenChatDetail",param:{openChatKey:N._K.openChatKey,viewAddYn:"N"},then:t=>{this.chatDetailMap=t,this.partitionCd=t.partitionCd,this.partitionNm=t.partitionNm,this.title=t.title,this.content=t.content,this.type="N"==t.alwaysYn?"time":"always",this.dueDate=t.dueDate,this.location=t.location,"edit"==N._K.type?this.imgFileId=N._K.item.mainFileId:this.imgFileId=t.cdnThumbNm,this.imgFileId2=t.cdnThumbNm,this.imgCdnNm=t.cdnThumbNm,this.imgCdnNm2=t.cdnThumbNm}})},counterFormatter(t,e){return e-t+"자 남음"},addPhoto(t){this.radioValue="self",this.uploadType=t,j.V1.getPhoto({allowEditing:!1,source:j.oK.Photos,resultType:j.dk.Uri}).then((async t=>{let e=await fetch(t.webPath).then((t=>t.blob()));const i=new File([e],"fileName."+t.format,{lastModified:new Date,type:e.type});this.Attachfiles.push(i),this.$nextTick((()=>{this.insertFile()}))}))},onFileChange:function(t){const e=t.target.files||t.dataTransfer.files;if(!e.length)return;const i=["image/jpg","image/jpeg","image/png","image/gif"],n=e[0];i.includes(n.type)?(this.Attachfiles.push(e[0]),this.$nextTick((()=>{this.insertFile()}))):this.warningAlert("이미지 파일만 업로드 가능해요")},insertFile(){this.showLoading(),(0,N.oA)({url:"/setImage",param:{},file:this.Attachfiles,then:t=>{this.Attachfiles=[],this.imgFileId2=t.fileId,this.imgCdnNm2=t.cdnThumbNm,this.loading.dismiss()}})},checkBth(t){""!==this.partitionCd?this.activeTimeToggle?this.activeToggle?this.validate?this.confirmBtn(t):this.warningAlert("잘못된 항목이 있습니다. 내용을 다시 확인해주세요."):this.warningAlert("모임 비활성화에 대해<br />동의 해 주세요 !"):this.warningAlert("모임 활동시간 공유에 대해 <br />동의 해 주세요 !"):this.warningAlert("게시판을 선택해주세요.")},async confirmBtn(t){const e=await this.alertController.create({header:"",message:"edit"==t?"입력한 내용대로 수정 할까요?":"채팅방을 생성합니다.",buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"완료",handler:()=>{let e=this.dateString.replace(/-/g,""),i=new Date(this.dueDate),n=this.conDate.replace(/-/g,""),a=i.toLocaleString("sv-SE",{timeZone:"Asia/Seoul",year:"numeric",month:"2-digit",day:"2-digit"}).replace(/\D/g,"-");"new"==t||"guide"==t?(0,N.Yu)({url:"/setOpenChat",param:{partitionCd:this.partitionCd,subPartitionCd:this.subPartitionCd,title:this.title,content:this.content,fileId:this.imgFileId,alwaysYn:"always"==this.type?"Y":"N",privateYn:"N",date:e,dueDate:a,conDate:n,location:this.locationView,lat:this.selectedLat,lon:this.selectedLng},then:t=>{this.openChatId=t.openChatId,this.$nextTick((()=>{(0,N.pR)({openChatKey:t.openChatKey,type:"openChat"}),this.$router.push("/openChatView")}))}}):"edit"==t&&(0,N.Yu)({url:"/setOpenChatUpdate",param:{partitionCd:this.partitionCd,subPartitionCd:this.subPartitionCd,title:this.title,content:this.content,fileId:this.imgFileId,alwaysYn:"always"==this.type?"Y":"N",privateYn:"N",date:e,dueDate:a,location:this.locationView,lat:this.selectedLat,lon:this.selectedLng,openChatKey:N._K.openChatKey},then:t=>{"Y"==t.successYn?(this.warningAlert(t.message),this.$router.push("/openChatView")):this.warningAlert(t.message)}})}}]});return e.present()},async presentAlertConfirm(){const t=await this.alertController.create({header:"",message:"이 화면에서 나가면 입력한 내용은 저장되지 않습니다.",buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"나가기",handler:()=>{"openChatView"==N._K.type||"myOpenChat"==N._K.type||"edit"==N._K.type?this.$router.push("/openChatView"):this.$router.push("/openChat")}}]});return t.present()},mapOpen(){let t,e;this.lodingCheck=!0,this.$nextTick((()=>{""==this.gpsLat||""==this.gpsLon?(t=37.5751959,e=126.9764627):(t=this.gpsLat,e=this.gpsLon),this.naverMap(t,e)}))},async getGps(){await E.b.getCurrentPosition().then((t=>{this.gpsLat=t.coords.latitude,this.gpsLon=t.coords.longitude}))},naverMap(t,e){const i=document.getElementById("map");if(null==i)return void(this.lodingCheck=!1);this.lodingCheck=!1;const n=window.naver.maps;let a={center:new n.LatLng(t,e),zoom:17,zoomControl:!0,zoomControlOptions:{style:n.ZoomControlStyle.LARGE,position:n.Position.TOP_RIGHT}};const l=new n.Map(i,a);this.reverseGeocodes(a.center);const o=new n.Marker({position:l.getCenter(),map:l,icon:{url:"https://navermaps.github.io/maps.js.ncp/docs/img/example/pin_default.png",size:new n.Size(24,37),scaledSize:new n.Size(24,37),origin:new n.Point(0,0),anchor:new n.Point(12,37)}});n.Event.addListener(l,"drag",(()=>{o.setPosition(l.getCenter())})),n.Event.once(l,"init",(()=>{let i='<a style="\n                z-index: 100;\n                overflow: hidden;\n                display: inline-block;\n                position: absolute;\n                top: 7px;\n                left: 5px;\n                width: 34px;\n                height: 34px;\n                border: 1px solid rgba(58,70,88,.45);\n                border-radius: 2px;\n                background: #fcfcfd;\n                  background-clip: border-box;\n                text-align: center;\n                -webkit-background-clip: padding;\n                background-clip: padding-box;\n              "\n            >\n            <span style="\n                overflow: hidden;\n                display: inline-block;\n                color: transparent !important;\n                vertical-align: top;\n                background: url(https://ssl.pstatic.net/static/maps/m/spr_trff_v6.png) 0 0;\n                background-position-x: 0px;\n                background-position-y: 0px;\n                background-size: auto;\n                background-size: 200px 200px;\n                -webkit-background-size: 200px 200px;\n                width: 20px;\n                height: 20px;\n                margin: 7px 0 0 0;\n                background-position: -153px -31px;\n              ">중심위치</span>\n           </a>',a=new n.CustomControl(i,{position:window.naver.maps.Position.TOP_LEFT});a.setMap(l),window.naver.maps.Event.addDOMListener(a.getElement(),"click",(()=>{l.setCenter(new n.LatLng(t,e)),o.setPosition(l.getCenter())}))})),n.Event.addListener(l,"dragend",(t=>{this.selectedLat=t.coord.y,this.selectedLng=t.coord.x;let e=new window.naver.maps.LatLng(t.coord.y,t.coord.x);this.reverseGeocodes(e)}))},reverseGeocodes(t){let e=this;const i=window.naver.maps;i.Service.reverseGeocode({coords:t,orders:[i.Service.OrderType.ADDR,i.Service.OrderType.ROAD_ADDR].join(",")},(function(t,n){if(t===i.Service.Status.ERROR)return alert("Something Wrong!");let a=n.v2.results.length>1?1:0;e.selectedAddressGu=n.v2.results[a].region.area1.name+" "+n.v2.results[a].region.area2.name,e.selectedjibunAddressDong=n.v2.results[a].region.area1.name+" "+n.v2.results[a].region.area2.name+" "+n.v2.results[a].region.area3.name,e.selectedroadAddressDong=n.v2.results[a].region.area1.name+" "+n.v2.results[a].region.area2.name+" "+n.v2.results[a].land.name,"dong"===e.checkBtn?e.locationView=e.selectedjibunAddressDong:e.locationView=e.selectedAddressGu}))},openModal(t){"address"==t?(this.getGps(),this.inputType=t,null!=this.selectedLat||null!=this.selectedLng?this.naverMap(this.selectedLat,this.selectedLng):this.getLoginUser()):"category"==t?(this.getPartitionList(),this.categoryModalOpen=!0):"subCategory"==t&&(this.getPartitionSubList(),this.subCategoryModalOpen=!0)},getLoginUser(){(0,N.Yu)({url:"/getOpenChatUserAddr",param:{},then:t=>{this.addrItem=t[0],null!=this.addrItem.currLat||null!=this.addrItem.currLon?(this.currLat=this.addrItem.currLat,this.currLon=this.addrItem.currLon):(this.currLat=this.addrItem.lat,this.currLon=this.addrItem.lon),this.naverMap(this.currLat,this.currLon)}})},closeModal(){this.modalOpen=!1},getCurrentDate(){const t=new Date,e=t.getFullYear(),i=String(t.getMonth()+1).padStart(2,"0"),n=String(t.getDate()).padStart(2,"0");return`${e}-${i}-${n}`},selectAddress(t){"address"==this.inputType&&(this.addr1=t.address,this.location=this.addr1),this.modalOpen=!1},checkImg(t){this.radioValue=t.fileId,this.imgFileId3=t.fileId,this.imgCdnNm3=t.cdnThumbNm},imgComplete(){""!=this.fileId?("self"==this.radioValue?(this.imgFileId=this.imgFileId2,this.imgCdnNm=this.imgCdnNm2):(this.imgFileId=this.imgFileId3,this.imgCdnNm=this.imgCdnNm3),this.imgModalOpen=!1):this.warningAlert("사진을 선택 해 주세요.")},async showLoading(){this.loading=await this.loadingController.create({message:"Loading...",duration:0}),await this.loading.present()},async warningAlert(t){const e=await this.alertController.create({header:"",subHeader:"",message:t,buttons:["OK"]});return e.present()}}},R=(0,U.Z)(G,[["render",D]]),$=R},69391:(t,e,i)=>{t.exports=i.p+"img/icon_cal_check.cc3a33f3.svg"},7189:(t,e,i)=>{t.exports=i.p+"img/Loading_icon.f0448993.gif"}}]);
//# sourceMappingURL=4345.fdd3cbe2.js.map