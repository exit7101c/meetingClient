"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[9117],{26699:(e,i,t)=>{var s=t(82109),n=t(41318).includes,o=t(47293),l=t(51223),a=o((function(){return!Array(1).includes()}));s({target:"Array",proto:!0,forced:a},{includes:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),l("includes")},6042:(e,i,t)=>{t.d(i,{Z:()=>d});var s=t(66252),n=t(3577);const o=e=>((0,s.dD)("data-v-25f7c613"),e=e(),(0,s.Cn)(),e),l=o((()=>(0,s._)("p",{class:"text-md text-bold"},"부스트 사용하기",-1))),a=o((()=>(0,s._)("p",{class:"text-lg"},[(0,s.Uk)(" 1시간동안 다른 사용자들에게"),(0,s._)("br"),(0,s.Uk)(" 노출 빈도를 높여줍니다 ")],-1)));function r(e,i,t,o,r,c){const u=(0,s.up)("ion-text"),p=(0,s.up)("ion-col"),h=(0,s.up)("ion-row"),d=(0,s.up)("ion-icon"),m=(0,s.up)("ion-button"),g=(0,s.up)("ion-content"),w=(0,s.up)("ion-modal");return(0,s.wg)(),(0,s.j4)(w,{"is-open":t.isOpen,onIonModalDidDismiss:c.ionModalDidDismiss,class:"custom-modal alert-modal"},{default:(0,s.w5)((()=>[(0,s.Wm)(g,{class:"ion-padding"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{color:"warning"},{default:(0,s.w5)((()=>[l])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[a])),_:1})])),_:1})])),_:1}),(0,s.Wm)(h,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,null,{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"text-sm"},{default:(0,s.w5)((()=>[(0,s.Uk)(" 보유 아이템 "),(0,s.Wm)(d,{icon:r.honeyBoost},null,8,["icon"]),(0,s.Uk)(" "+(0,n.zw)(t.quantity)+" 개 ",1)])),_:1})])),_:1})])),_:1}),(0,s.Wm)(h,{class:"ion-align-items-center ion-justify-content-between flex-nowrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{class:"text-sm"},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{icon:r.honeyBoost},null,8,["icon"]),(0,s.Uk)(" 1 개 소모 ")])),_:1}),(0,s._)("div",null,[(0,s.Wm)(m,{onClick:c.handleCancelBtn,fill:"clear",shape:"round",color:"light"},{default:(0,s.w5)((()=>[(0,s.Uk)("취소 ")])),_:1},8,["onClick"]),(0,s.Wm)(m,{shape:"round",onClick:c.handleOkBtn},{default:(0,s.w5)((()=>[(0,s.Uk)("사용하기 ")])),_:1},8,["onClick"])])])),_:1})])),_:1})])),_:1},8,["is-open","onIonModalDidDismiss"])}var c=t(58959);const u={name:"HoneyBoostModal",props:{isOpen:{type:Boolean},quantity:{type:Number}},data(){return{honeyBoost:c}},methods:{handleOkBtn(){this.$emit("ok")},handleCancelBtn(){this.$emit("cancel")},ionModalDidDismiss(){this.$emit("ionModalDidDismiss")}}};var p=t(83744);const h=(0,p.Z)(u,[["render",r],["__scopeId","data-v-25f7c613"]]),d=h},2982:(e,i,t)=>{t.d(i,{Z:()=>r});var s=t(66252);function n(e,i,t,n,o,l){const a=(0,s.up)("ion-spinner");return(0,s.wg)(),(0,s.j4)(a,{name:"lines"})}const o={name:"PageLoadingCheck"};var l=t(83744);const a=(0,l.Z)(o,[["render",n]]),r=a},9729:(e,i,t)=>{t.r(i),t.d(i,{default:()=>ye});var s=t(66252),n=t(3577);const o=e=>((0,s.dD)("data-v-652b9afc"),e=e(),(0,s.Cn)(),e),l=o((()=>(0,s._)("br",null,null,-1))),a=o((()=>(0,s._)("br",null,null,-1))),r={class:"row-box"},c={class:"text-center"},u={class:"row-box"},p={class:"text-center"},h={class:"ion-padding"};function d(e,i,o,d,m,g){const w=(0,s.up)("custom-header"),f=(0,s.up)("ion-img"),k=(0,s.up)("swiper-slide"),C=(0,s.up)("swiper"),y=(0,s.up)("ChoiceBoost"),v=(0,s.up)("ChoiceProfileInfo"),_=(0,s.up)("ChoiceNoUser"),b=(0,s.up)("PageLoadingCheck"),x=(0,s.up)("SuperLikeModal"),S=(0,s.up)("HoneyBoostModal"),T=(0,s.up)("BackButton"),I=(0,s.up)("ion-buttons"),N=(0,s.up)("ion-toolbar"),L=(0,s.up)("JoinTitle"),Y=(0,s.up)("ion-text"),W=(0,s.up)("CardBox"),B=(0,s.up)("ion-content"),U=(0,s.up)("ion-button"),A=(0,s.up)("ion-footer"),R=(0,s.up)("ion-page"),M=(0,s.up)("ion-modal"),H=(0,s.up)("AlertMessageModal");return(0,s.wg)(),(0,s.j4)(R,null,{default:(0,s.w5)((()=>[(0,s.Wm)(w,{"page-name":"Choice",class:"main-header"}),(0,s.Wm)(B,{fullscreen:!0},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{onSwiper:m.setSwiperRef,direction:"vertical",class:"swiper",onSlideChange:i[3]||(i[3]=e=>g.onSlideChange(e)),onSlideChangeTransitionStart:i[4]||(i[4]=e=>g.slideNextTransitionStart(e)),onSlideChangeTransitionEnd:i[5]||(i[5]=e=>g.slideNextTransitionEnd(e)),modules:m.modules,virtual:""},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(m.slides,((e,n)=>((0,s.wg)(),(0,s.j4)(k,{key:n,virtualIndex:n},{default:(0,s.w5)((()=>[(0,s.Wm)(C,{pagination:{clickable:!0},navigation:!0,modules:m.modules,virtual:"",class:"img-slider"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.fileList,((e,n)=>((0,s.wg)(),(0,s.j4)(k,{class:"user-img",key:n},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{src:"https://"+e.cdnNm,onIonError:i[0]||(i[0]=e=>e.srcElement.src=t(7189))},null,8,["src"])])),_:2},1024)))),128))])),_:2},1032,["modules"]),(0,s.Wm)(y,{calTimeStr:m.calTimeStr,boostCheck:m.remainingTime>0,onClick:i[1]||(i[1]=e=>g.buttonClick("honey"))},null,8,["calTimeStr","boostCheck"]),(0,s.Wm)(v,{item:e,onBtnChoiceBack:i[2]||(i[2]=e=>g.beforeCancelBtn()),onBtnSuperLike:e=>g.buttonClick("superLike",m.slides[n]),onBtnLike:e=>g.buttonClick("like",m.slides[n]),onBtnHoney:e=>g.buttonClick("skip",m.slides[n]),onBtnNope:e=>g.buttonClick("nope",m.slides[n]),onReSearch:g.getChoice},null,8,["item","onBtnSuperLike","onBtnLike","onBtnHoney","onBtnNope","onReSearch"])])),_:2},1032,["virtualIndex"])))),128)),(0,s.Wm)(k,{class:"no-user"},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{onTryAgain:g.tryAgain},null,8,["onTryAgain"])])),_:1}),m.isLast?((0,s.wg)(),(0,s.j4)(k,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(b,{style:{position:"absolute",top:"48%",left:"48%"}})])),_:1})):(0,s.kq)("",!0)])),_:1},8,["onSwiper","modules"]),(0,s.Wm)(x,{subscribeInfo:m.subscribeInfo,modalOpen:m.superLikeModalOpen,categoryList:m.categoryList,quantity:m.couponQuantity,isBonusYn:m.couponIsBonusYn,nick:m.choiceNick,emoji:"💘",target:m.selectTargetUserData.userKey,onSuperLikeModalOpen:i[6]||(i[6]=e=>m.superLikeModalOpen=!1),onEndNext:g.endNext},null,8,["subscribeInfo","modalOpen","categoryList","quantity","isBonusYn","nick","target","onEndNext"]),(0,s.Wm)(S,{"is-open":m.modalChoice,quantity:m.coupon.quantity,onIonModalDidDismiss:i[7]||(i[7]=e=>m.modalChoice=!1),onOk:i[8]||(i[8]=e=>g.honeyModalBtn("save")),onCancel:i[9]||(i[9]=e=>g.honeyModalBtn("cancel"))},null,8,["is-open","quantity"]),(0,s.Wm)(M,{"is-open":m.buySwipeOpen},{default:(0,s.w5)((()=>[(0,s.Wm)(R,null,{default:(0,s.w5)((()=>[(0,s.Wm)(N,null,{default:(0,s.w5)((()=>[(0,s.Wm)(I,{slot:"start"},{default:(0,s.w5)((()=>[(0,s.Wm)(T,{onEvent:i[10]||(i[10]=e=>!1===m.buySwipeOpen),custom:!0})])),_:1})])),_:1}),(0,s.Wm)(B,{class:"ion-padding"},{default:(0,s.w5)((()=>[(0,s.Wm)(L,null,{title:(0,s.w5)((()=>[(0,s.Uk)(" 오늘의 초이스"),l,(0,s.Uk)("횟수를 모두 소진했어요 ")])),desc:(0,s.w5)((()=>[(0,s.Uk)(" 스와이핑 횟수를 30회 추가합니다. "),a,(0,s.Uk)(" 추가 스와이프권을 사용하시겠습니까? ")])),_:1}),(0,s._)("div",r,[(0,s.Wm)(W,null,{default:(0,s.w5)((()=>[(0,s._)("p",c,[(0,s.Wm)(Y,{color:"light",class:"text-lg"},{default:(0,s.w5)((()=>[(0,s.Uk)("보유 스와이프 "+(0,n.zw)(this.swipeCoupon.quantity)+"개 ",1)])),_:1})])])),_:1})]),(0,s._)("div",u,[(0,s.Wm)(W,null,{default:(0,s.w5)((()=>[(0,s._)("p",p,[(0,s.Wm)(Y,{class:"text-sm text-link"},{default:(0,s.w5)((()=>[(0,s.Uk)("추가스와이프 "+(0,n.zw)(m.profileADitem)+"개 소모 ",1)])),_:1})])])),_:1})])])),_:1}),(0,s.Wm)(A,null,{default:(0,s.w5)((()=>[(0,s._)("div",h,[(0,s.Wm)(U,{color:"primary",size:"large",shape:"round",expand:"block",onClick:g.useSwiperPlus},{default:(0,s.w5)((()=>[(0,s.Uk)("사용하기 ")])),_:1},8,["onClick"])])])),_:1})])),_:1})])),_:1},8,["is-open"]),(0,s.Wm)(H,{"is-open":m.alertMessage,title:"NAVY",message:"아이템 수량이 부족합니다.",subMessage:"아이템을 구매하기위해 상점으로 이동하시겠습니까?",btnName:"이동",height:200,disabledCheck:!1,onIonModalDidDismiss:i[11]||(i[11]=e=>m.alertMessage=!1),onHandleClickBtn:i[12]||(i[12]=e=>g.goRouter())},null,8,["is-open","message"])])),_:1})])),_:1})}t(57658),t(26699),t(33948);var m=t(57552),g=t(99304),w=t(28151),f=t(48204);const k={class:"choice-profile-info"},C={class:"layout-container"},y={class:"choice-profile-chips"},v={class:"choice-profile-info-detail"},_={style:{"font-size":"16px"}},b={key:0,style:{"z-index":"9999",position:"absolute",width:"100%",top:"-80px",left:"0"},src:f,alt:""},x={class:"choice-profile-info-btn-group"},S={class:"choice-profile-info-btn-item"},T={class:"choice-profile-info-btn-item"},I={class:"choice-profile-info-btn-item"},N={class:"choice-profile-info-btn-item"},L={class:"choice-profile-info-btn-item"};function Y(e,i,o,l,a,r){const c=(0,s.up)("ion-label"),u=(0,s.up)("ion-chip"),p=(0,s.up)("ion-icon"),h=(0,s.up)("ion-text"),d=(0,s.up)("ion-img"),m=(0,s.up)("ion-avatar"),g=(0,s.up)("ion-row"),w=(0,s.up)("ion-fab-button");return(0,s.wg)(),(0,s.iD)("div",k,[(0,s._)("div",C,[(0,s._)("div",y,["Y"==o.item.connectionYn?((0,s.wg)(),(0,s.j4)(u,{key:0,style:{"background-color":"#75ed91",color:"black","font-size":"16px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Uk)("접속중")])),_:1})])),_:1})):(0,s.kq)("",!0),"Y"==o.item.aroundYn?((0,s.wg)(),(0,s.j4)(u,{key:1,style:{"background-color":"#37776d",color:"white","font-size":"16px"}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{icon:a.locationOutline,size:"small",style:{color:"white","font-size":"10px"}},null,8,["icon"]),(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Uk)("근처")])),_:1})])),_:1})):(0,s.kq)("",!0)]),(0,s._)("div",v,[(0,s.Wm)(c,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,null,{default:(0,s.w5)((()=>[(0,s.Wm)(h,{color:"light"},{default:(0,s.w5)((()=>[(0,s._)("h3",null,(0,n.zw)(o.item.nick)+" "+(0,n.zw)(o.item.age),1)])),_:1}),o.item.cdnThumbNm?((0,s.wg)(),(0,s.j4)(m,{key:0},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{src:"https://"+o.item.cdnThumbNm,onIonError:i[0]||(i[0]=e=>e.srcElement.src=t(7189))},null,8,["src"])])),_:1})):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(g,{style:{"background-color":"var(--ion-color-primary)"}},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{icon:a.locationOutline,style:{color:"white"}},null,8,["icon"]),(0,s.Wm)(h,{color:"light"},{default:(0,s.w5)((()=>[(0,s._)("h3",_,(0,n.zw)(o.item.distanceKm),1)])),_:1})])),_:1}),(0,s._)("p",null,[(0,s.Wm)(h,{color:"light"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,n.zw)(o.item.introduce),1)])),_:1})]),(0,s._)("p",null,[(0,s.Wm)(u,{color:"light",class:"shape-round btn-profile",onClick:i[1]||(i[1]=e=>r.goDailyCardInfo(o.item.userKey))},{default:(0,s.w5)((()=>[(0,s.Uk)("프로필보기 ")])),_:1})])])),_:1})]),!0===a.gifTest?((0,s.wg)(),(0,s.iD)("img",b)):(0,s.kq)("",!0),(0,s._)("div",x,[(0,s._)("div",S,[(0,s.Wm)(w,{onClick:r.btnChoiceBack},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{icon:a.choiceBack},null,8,["icon"])])),_:1},8,["onClick"])]),(0,s._)("div",T,[(0,s.Wm)(w,{onClick:r.btnSuperLike,class:"btn-superlike",id:"open-choice-modal"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{icon:a.choiceSuperlike},null,8,["icon"])])),_:1},8,["onClick"]),(0,s.Wm)(u,{class:"chip-superlike"},{default:(0,s.w5)((()=>[(0,s.Uk)("SUPER like")])),_:1})]),(0,s._)("div",I,[(0,s.Wm)(w,{onClick:r.btnLike,class:"btn-like"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{icon:a.choiceLike},null,8,["icon"])])),_:1},8,["onClick"])]),(0,s._)("div",N,[(0,s.Wm)(w,{onClick:r.btnHoney,class:"btn-skip"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{icon:a.choiceHoney},null,8,["icon"])])),_:1},8,["onClick"]),(0,s.Wm)(u,{class:"chip-skip"},{default:(0,s.w5)((()=>[(0,s.Uk)("SKIP")])),_:1})]),(0,s._)("div",L,[(0,s.Wm)(w,{onClick:r.btnNope},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{icon:a.choiceNope},null,8,["icon"])])),_:1},8,["onClick"])])])])])}var W=t(80858),B=t(92993),U=t(70375),A=t(61015),R=t(68231),M=t(18903);const H={name:"ChoiceProfileInfo",props:{item:{type:Object},type:{type:String}},data(){return{choiceBack:W,choiceSuperlike:B,choiceLike:U,choiceHoney:A,choiceNope:R,locationOutline:M.Iv7,gifTest:!1}},methods:{goDailyCardInfo(e){(0,w.PC)({userKey:e,type:"choice"}),this.$router.push("/dailyCardInfo")},btnChoiceBack(){this.$emit("btnChoiceBack")},btnSuperLike(){this.$emit("btnSuperLike")},btnLike(){this.$emit("btnLike")},btnHoney(){this.$emit("btnHoney")},btnNope(){this.$emit("btnNope")},resetChoiceLogic(){(0,w.Yu)({url:"/resetChoiceLogic",param:{},then:e=>{"Y"!==e.successYn?this.warningAlert(e.message):this.$emit("reSearch")}})}}};var O=t(83744);const D=(0,O.Z)(H,[["render",Y],["__scopeId","data-v-d7aa1f6c"]]),E=D,P={class:"boost"},$={class:"timer"},K={class:"time"};function q(e,i,t,o,l,a){const r=(0,s.up)("ion-img");return(0,s.wg)(),(0,s.iD)("div",P,[t.boostCheck?((0,s.wg)(),(0,s.j4)(r,{key:0,src:"https://cmdg.speedycdn.net/202308/2023081015124486.gif",style:{position:"absolute"}},null,8,["src"])):(0,s.kq)("",!0),(0,s.Wm)(r,{src:l.boostIcon},null,8,["src"]),(0,s._)("div",$,[(0,s._)("span",K,(0,n.zw)(t.calTimeStr),1)])])}var z=t(53829);const j={name:"ChoiceBoost",props:{boostCheck:{type:Boolean},calTimeStr:{type:String}},data(){return{boostIcon:z}}},Z=(0,O.Z)(j,[["render",q],["__scopeId","data-v-2ed277d8"]]),Q=Z,V=e=>((0,s.dD)("data-v-e10626a0"),e=e(),(0,s.Cn)(),e),G={class:"choice-no-user"},F={class:"icon-area"},J={class:"icon-ani"},X={class:"inner"},ee={class:"circle circle-1"},ie=V((()=>(0,s._)("div",{class:"circle circle-2 waves"},null,-1))),te=V((()=>(0,s._)("div",{class:"circle circle-3 waves"},null,-1))),se=V((()=>(0,s._)("div",{class:"circle circle-4 waves"},null,-1))),ne={class:"text-area"},oe={class:"content"},le=V((()=>(0,s._)("h5",null,"사용자가 없어요😢",-1))),ae=V((()=>(0,s._)("p",null,[(0,s.Uk)(" 아래의 버튼을 눌러 새로운"),(0,s._)("br"),(0,s.Uk)(" 사람을 찾아보세요! ")],-1)));function re(e,i,t,n,o,l){const a=(0,s.up)("ion-img"),r=(0,s.up)("custom-button");return(0,s.wg)(),(0,s.iD)("div",G,[(0,s._)("div",F,[(0,s._)("div",J,[(0,s._)("div",X,[(0,s._)("div",ee,[(0,s.Wm)(a,{src:o.choiceMapIcon},null,8,["src"])]),ie,te,se])])]),(0,s._)("div",ne,[(0,s._)("div",oe,[le,ae,(0,s.Wm)(r,{color:"primary",shape:"round",size:"small",onClick:i[0]||(i[0]=e=>l.handleTryAgain())},{default:(0,s.w5)((()=>[(0,s.Uk)("TRY AGAIN ")])),_:1})])])])}var ce=t(15698),ue=t(45715);const pe={name:"ChoiceNoUser",data(){return{noUserIcon:ce,choiceMapIcon:ue}},methods:{handleTryAgain(){this.$emit("tryAgain")}}},he=(0,O.Z)(pe,[["render",re],["__scopeId","data-v-e10626a0"]]),de=he;var me=t(2982),ge=t(5109),we=t(6042),fe=t(54594);const ke={name:"Choice",inject:["alertController","loadingController"],components:{Swiper:m.tq,SwiperSlide:m.o5,ChoiceProfileInfo:E,ChoiceBoost:Q,ChoiceNoUser:de,PageLoadingCheck:me.Z,SuperLikeModal:ge.Z,HoneyBoostModal:we.Z,AlertMessageModal:fe.Z},data(){const e=e=>{this.swiperRef=e,this.swiperRef.allowSlidePrev=!1};return{buySwipeOpen:!1,currentTab:"newbie",categoryList:[],selectTargetUserData:{},modules:[g.W_,g.tl,g.oM],setSwiperRef:e,swiperRef:null,isLast:!1,slides:null,superLikeModalOpen:!1,choiceNick:"",coupon:"",useTypeHeart:"COUPON",useTypeSwipe:"COUPON",profileADitem:1,swipeCoupon:{quantity:0},couponCd:"",modalChoice:!1,isBuffYn:"",remainingTime:"",remainingTimeStr:"",interval:null,calTimeStr:"00:00:00",cntEnd:!1,swiperActiveIndex:0,isSkip:!0,couponQuantity:0,couponIsBonusYn:"",subscribeInfo:{},gifTest:!1,alertMessage:!1}},ionViewWillEnter(){this.superLikeModalOpen=!1,this.selectTargetUserData={},null!=this.swiperRef&&(this.swiperRef.allowSlidePrev=!1),this.remainingTime="",this.remainingTimeStr="",this.calTimeStr="00:00:00",this.getUserSwiperInfo(),this.checkBoost()},ionViewDidLeave(){},mounted(){this.isLast=!0,this.getChoice()},methods:{tryAgain(){this.getChoice()},honeyModalBtn(e){"openModal"===e?this.getUserCouponDataOne("honey"):"save"===e?this.useHoneyBoost():this.modalChoice=!1},timeCal(){let e,i,t;e=parseInt(this.remainingTime/3600),i=parseInt(this.remainingTime%3600/60),t=this.remainingTime%60,1===e.toString().length&&(e="0"+e),1===i.toString().length&&(i="0"+i),1===t.toString().length&&(t="0"+t),this.remainingTime>0?this.remainingTime=this.remainingTime-1:(this.remainingTime=0,clearInterval(this.interval),this.isBuffYn="N"),this.calTimeStr=e+":"+i+":"+t},checkBoost(){(0,w.Yu)({url:"/checkBoost",param:{},then:e=>{this.remainingTime=e.remainingTime,this.remainingTimeStr=e.remainingTimeStr,this.$nextTick((()=>{clearInterval(this.interval),this.timeCal(),this.interval=setInterval((()=>{"Y"===this.isBuffYn&&this.timeCal()}),1e3)}))}})},useHoneyBoost(){(0,w.Yu)({url:"/useHoneyBoost",param:{couponCd:"CU002",useType:"COUPON",itemCd:"",pointCd:""},then:e=>{"N"===e.successYn||"NE"===e.successYn||"NH"===e.successYn?this.alertMessage=!0:(this.warningAlert(e.message),this.isBuffYn=e.isBuffYn,this.remainingTime=e.remainingTime,this.remainingTimeStr=e.remainingTimeStr,this.modalChoice=!1,this.$nextTick((()=>{this.checkBoost()})))}})},goRouter(){this.$emit("superLikeModalOpen"),this.alertMessage=!1,(0,w.EY)({categoryType:"item"}),this.$router.push("/store")},getChoice(){this.slides=[],(0,w.Yu)({url:"/getChoice",param:{},then:e=>{this.$nextTick((()=>{this.slides=e,this.swiperRef.allowSlidePrev=!1,this.isLast=!1}))}})},getUserSwiperInfo(){(0,w.Yu)({url:"/getUserSwiperInfo",param:{},then:()=>{}})},getChoiceCategoryList(){(0,w.Yu)({url:"/getChoiceCategoryList",param:{},then:e=>{this.categoryList=e}})},getUserCouponDataOne(e){let i="";"superLike"===e?i="CU001":"honey"===e&&(i="CU002"),(0,w.Yu)({url:"/getUserCouponDataOne",param:{couponCd:i},then:e=>{this.coupon=e,this.couponQuantity=this.coupon.quantity,this.couponIsBonusYn=this.coupon.isBonusYn,this.coupon.quantity>0?this.useTypeHeart="COUPON":this.useTypeHeart="HEART"}})},getUserSubscribeInfo(){(0,w.Yu)({url:"/getUserSubscribeInfo",param:{infiniteActionCd:"SUPER_LIKE"},then:e=>{this.subscribeInfo=e}})},getSwipeCouponDataOne(){(0,w.Yu)({url:"/getUserCouponDataOne",param:{couponCd:"CU004"},then:e=>{this.swipeCoupon=e,this.swipeCoupon.quantity>0?this.useTypeSwipe="COUPON":this.useTypeSwipe="HEART"}})},useSwiperPlus(){confirm("사용하시겠습니까?")&&(0,w.Yu)({url:"/useSwiperPlus",param:{couponCd:"CU004",useType:this.useTypeSwipe,itemCd:"HEART"===this.useTypeSwipe?"IT004_01":"",pointCd:"HEART"===this.useTypeSwipe?"BUY":""},then:e=>{"N"!==e.successYn&&"NH"!==e.successYn&&"NE"!==e.successYn||this.warningAlert(e.message)}})},endNext(){this.isSkip=!1,this.superLikeModalOpen=!1,this.swiperRef.slideNext()},async warningAlert(e){const i=await this.alertController.create({header:"",subHeader:"",message:e,buttons:["OK"]});return i.present()},async warningConfirm(e,i){const t=await this.alertController.create({header:"",subHeader:"",message:e,buttons:[{text:"아니요",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"네",handler:()=>{i()}}]});return t.present()},async warningAlertNI(e,i){const t=await this.alertController.create({header:"",subHeader:"",message:e,buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"완료",handler:()=>{(0,w.Yu)({url:"/useSwiperPlus",param:{couponCd:"CU004",useType:this.useTypeSwipe,itemCd:"HEART"===this.useTypeSwipe?"IT004_01":"",pointCd:"HEART"===this.useTypeSwipe?"BUY":"",userId:i,likeType:"choice"},then:e=>{"N"===e.successYn||"NE"===e.successYn?this.warningAlert(e.message):"NH"===e.successYn?this.warningAlertNH(e.message):"MATCH"===e.successYn?(this.warningAlertMatch(e.message),this.swiperRef.slideNext()):this.swiperRef.slideNext()}})}}]});return t.present()},async warningAlertNH(e){const i=await this.alertController.create({header:"",subHeader:"",message:e,buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"이동",handler:()=>{this.$router.push("/store"),this.superLikeModalOpen=!1,this.modalChoice=!1}}]});return i.present()},async warningAlertMatch(e){const i=await this.alertController.create({header:"",subHeader:"",message:e,buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"이동",handler:()=>{this.$router.push("/message")}}]});return i.present()},buttonClick(e,i){"nope"===e?(this.isSkip=!1,this.setNope(i,"click")):"skip"===e?(this.isSkip=!1,this.setSkip(i,"click")):"like"===e?(this.isSkip=!1,this.setLike(i,"click")):"superLike"===e?(this.getChoiceCategoryList(),this.getUserSubscribeInfo(),this.getUserCouponDataOne("superLike"),this.choiceNick=i.nick,this.superLikeModalOpen=!0,this.selectTargetUserData=i):"honey"===e&&(this.getUserCouponDataOne("honey"),this.modalChoice=!0),this.swiperRef.allowSlidePrev=!1},setLike(e,i){this.gifTest=!1,(0,w.Yu)({url:"/setLike",param:{userId:e.userKey,likeType:"choice"},then:t=>{"N"===t.successYn?this.warningAlert(t.message):t.successYn.includes("NI")?"NI_HI"==t.successYn?this.warningConfirm(t.message,(()=>{this.getSwipeCouponDataOne(),(0,w.Yu)({url:"/useSwiperPlus",param:{couponCd:"CU004",useType:this.useTypeSwipe,itemCd:"HEART"===this.useTypeSwipe?"IT004_01":"",pointCd:"HEART"===this.useTypeSwipe?"BUY":"",userId:e.userKey,likeType:"choice"},then:e=>{"N"===e.successYn||"NE"===e.successYn?this.warningAlert(e.message):"NH"===e.successYn?this.warningAlertNH(e.message):"MATCH"===e.successYn?(this.warningAlertMatch(e.message),this.swiperRef.slideNext()):this.swiperRef.slideNext()}})})):"NI_NHI"==t.successYn&&this.warningConfirm(t.message,(()=>{this.$router.push("/store")})):"MATCH"===t.successYn?(this.warningAlertMatch(t.message),this.swiperRef.slideNext()):"swipe"!=i&&this.swiperRef.slideNext()}})},setSkip(e,i){(0,w.Yu)({url:"/setSkip",param:{userId:e.userKey,likeType:"choice"},then:e=>{"N"===e.successYn?this.warningAlert(e.message):"swipe"!=i&&this.swiperRef.slideNext()}})},setNope(e,i){(0,w.Yu)({url:"/setNope",param:{userId:e.userKey,likeType:"choice"},then:e=>{"N"===e.successYn?this.warningAlert(e.message):"swipe"!=i&&this.swiperRef.slideNext()}})},beforeCancelBtn(){(0,w.Yu)({url:"/revertBeforeActionCheck",param:{},then:e=>{this.$nextTick((()=>{"Y"!=e.successYn&&("QUESTION"==e.successYn?this.confirmBtn(e.message):this.warningAlert(e.message))}))}})},slideNextTransitionStart(e){let i=this;this.swiperActiveIndex<e.activeIndex?(this.isSkip&&this.setSkip(this.slides[this.swiperActiveIndex],"swipe"),this.swiperActiveIndex=e.activeIndex,this.swiperRef.allowSlidePrev=!1,this.swiperRef.allowTouchMove=!1,setTimeout((function(){i.swiperRef.allowTouchMove=!0}),500)):this.swiperActiveIndex>e.activeIndex&&(this.swiperActiveIndex=e.activeIndex),this.slides.length>0&&this.slides.length==e.activeIndex+1&&this.reachEnd()},slideNextTransitionEnd(e){this.isSkip=!0,this.swiperActiveIndex=e.activeIndex,this.swiperRef.allowSlidePrev=!1},onSlideChange(e){this.swiperActiveIndex>e.activeIndex&&(this.swiperActiveIndex=e.activeIndex)},transitionStartLeftRight(e,i){void 0!=i.fileList&&(e.previousIndex>e.realIndex?(e.allowSlidePrev=!1,i.fileList[e.activeIndex].fileNo>0?(e.activeIndex<3&&(i.fileList[e.activeIndex+2]={}),(0,w.Yu)({url:"/getChoiceLeftRightSwiper",param:{connectUserKey:i.userKey,leftRightType:"LEFT",fileNo:i.fileList[e.activeIndex].fileNo},then:t=>{this.$nextTick((()=>{e.allowSlidePrev=!0,void 0!=t.fileNo&&e.activeIndex>0&&(i.fileList[e.activeIndex-1]=t)}))}})):e.allowSlidePrev=!0):e.previousIndex<e.realIndex&&(e.allowSlideNext=!1,i.fileList[e.activeIndex].fileNo<4?(e.activeIndex>1&&(i.fileList[e.activeIndex-2]={}),(0,w.Yu)({url:"/getChoiceLeftRightSwiper",param:{connectUserKey:i.userKey,leftRightType:"RIGHT",fileNo:i.fileList[e.activeIndex].fileNo},then:t=>{this.$nextTick((()=>{e.allowSlideNext=!0,void 0!=t.fileNo&&(i.fileList.length<=e.activeIndex+1?i.fileList.length<5&&(i.fileList=[...i.fileList,t]):i.fileList[e.activeIndex+1]=t)}))}})):e.allowSlideNext=!0))},reachEnd(){this.isLast=!0,(0,w.Yu)({url:"/getChoice",param:{},then:e=>{this.$nextTick((()=>{for(let i=0;e.length>i;i++)this.slides[this.swiperActiveIndex-1].userKey!=e[i].userKey&&this.slides[this.swiperActiveIndex].userKey!=e[i].userKey&&this.slides.push(e[i]);this.isLast=!1,this.swiperRef.allowSlidePrev=!1}))}})},async confirmBtn(e){const i=await this.alertController.create({header:"",message:e,buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"예",handler:()=>{(0,w.Yu)({url:"/revertBeforeAction",param:{},then:e=>{this.warningAlert(e.message),this.swiperRef.allowSlidePrev=!0,this.swiperRef.slideTo(this.swiperRef.activeIndex-1,500),this.swiperRef.allowSlidePrev=!1}})}}]});return i.present()}}},Ce=(0,O.Z)(ke,[["render",d],["__scopeId","data-v-652b9afc"]]),ye=Ce},80858:(e,i,t)=>{e.exports=t.p+"img/choice_back.ed48f332.svg"},53829:(e,i,t)=>{e.exports=t.p+"img/choice_boost.7eaf0aa9.svg"},70375:(e,i,t)=>{e.exports=t.p+"img/choice_like.57eff443.svg"},45715:(e,i,t)=>{e.exports=t.p+"img/choice_map.521848bd.svg"},15698:(e,i,t)=>{e.exports=t.p+"img/choice_no_user.521e3521.svg"},68231:(e,i,t)=>{e.exports=t.p+"img/choice_nope.84bb9614.svg"},61015:(e,i,t)=>{e.exports=t.p+"img/choice_skip.ca937dbf.svg"},58959:(e,i,t)=>{e.exports=t.p+"img/icon_honey_boost.111f4bb1.svg"},7189:(e,i,t)=>{e.exports=t.p+"img/Loading_icon.f0448993.gif"},48204:(e,i,t)=>{e.exports=t.p+"img/gif_img1.0314acf7.gif"}}]);
//# sourceMappingURL=9117-legacy.5e5addfd.js.map