"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[1705],{57806:(e,t,n)=>{n.d(t,{A:()=>s});var o=n(29895);const s=(0,o.fo)("Browser",{web:()=>n.e(3805).then(n.bind(n,93805)).then((e=>new e.BrowserWeb))})},76916:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(66252),s=n(49963);const l={style:{height:"300px","z-index":"-1"}};function r(e,t,n,r,a,i){return(0,o.wy)(((0,o.wg)(),(0,o.iD)("div",l,null,512)),[[s.F8,!0===n.isOpen]])}const a={name:"EmptyBox",props:{isOpen:{type:Boolean}}};var i=n(83744);const u=(0,i.Z)(a,[["render",r]]),d=u},31405:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(66252);const s={class:"join-title"};function l(e,t,n,l,r,a){const i=(0,o.up)("ion-text");return(0,o.wg)(),(0,o.iD)("div",s,[(0,o.Wm)(i,{color:"light"},{default:(0,o.w5)((()=>[(0,o._)("h2",null,[(0,o.WI)(e.$slots,"title",{},void 0,!0)])])),_:3}),(0,o.Wm)(i,{color:"light"},{default:(0,o.w5)((()=>[(0,o._)("p",null,[(0,o.WI)(e.$slots,"desc",{},void 0,!0)])])),_:3})])}var r=n(27783);const a={name:"JoinTitle",components:{IonText:r.yW}};var i=n(83744);const u=(0,i.Z)(a,[["render",l],["__scopeId","data-v-2fe7c318"]]),d=u},1705:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var o=n(66252),s=n(3577);const l=(0,o._)("br",null,null,-1),r=(0,o._)("br",null,null,-1),a={class:"btn-group"};function i(e,t,n,i,u,d){const p=(0,o.up)("BackButton"),c=(0,o.up)("ion-buttons"),m=(0,o.up)("ion-title"),w=(0,o.up)("ion-toolbar"),h=(0,o.up)("ion-header"),g=(0,o.up)("JoinTitle"),_=(0,o.up)("ion-label"),f=(0,o.up)("ion-input"),k=(0,o.up)("ion-item"),y=(0,o.up)("ion-note"),v=(0,o.up)("ion-list"),b=(0,o.up)("EmptyBox"),W=(0,o.up)("ion-content"),U=(0,o.up)("custom-button"),A=(0,o.up)("ion-footer"),I=(0,o.up)("ion-page");return(0,o.wg)(),(0,o.j4)(I,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h,null,{default:(0,o.w5)((()=>[(0,o.Wm)(w,null,{default:(0,o.w5)((()=>[(0,o.Wm)(c,{slot:"start"},{default:(0,o.w5)((()=>[(0,o.Wm)(p)])),_:1}),(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Uk)("아이디 / 비밀번호 찾기(변경)")])),_:1})])),_:1})])),_:1}),u.ci.length>0?((0,o.wg)(),(0,o.j4)(W,{key:0,class:"ion-padding"},{default:(0,o.w5)((()=>[(0,o.Wm)(g,null,{title:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(u.userName)+"님 !",1),l,(0,o.Uk)(" 새로운 비밀번호를"),r,(0,o.Uk)(" 입력해주세요 ")])),_:1}),(0,o.Wm)(v,{lines:"none",class:"form-wrapper"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{counter:"false",class:"input-field"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{position:"stacked",class:"input-label"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,s.zw)(u.userName)+"님의 아이디 ",1)])),_:1}),(0,o.Wm)(f,{type:"text",readonly:"",modelValue:u.userEmail,"onUpdate:modelValue":t[0]||(t[0]=e=>u.userEmail=e)},null,8,["modelValue"])])),_:1}),(0,o.Wm)(k,{counter:"true",class:"input-field"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{position:"stacked",class:"input-label"},{default:(0,o.w5)((()=>[(0,o.Uk)("신규 비밀번호 ")])),_:1}),(0,o.Wm)(f,{type:"password",maxlength:"16",minlength:"8",placeholder:"8~16자리 이내 영문자, 숫자",modelValue:u.password,"onUpdate:modelValue":t[1]||(t[1]=e=>u.password=e),onIonFocus:t[2]||(t[2]=e=>u.emptyBox=!0),onIonBlur:t[3]||(t[3]=e=>u.emptyBox=!1)},null,8,["modelValue"]),(0,o.Wm)(y,{slot:"error"},{default:(0,o.w5)((()=>[(0,o.Uk)("강력한 비밀번호를 만드세요")])),_:1})])),_:1}),(0,o.Wm)(k,{counter:"true",class:"input-field"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{position:"stacked",class:"input-label"},{default:(0,o.w5)((()=>[(0,o.Uk)("신규 비밀번호 확인 ")])),_:1}),(0,o.Wm)(f,{type:"password",maxlength:"16",minlength:"8",placeholder:"8~16자리 이내 영문자, 숫자",modelValue:u.passwordCheck,"onUpdate:modelValue":t[4]||(t[4]=e=>u.passwordCheck=e),onIonFocus:t[5]||(t[5]=e=>u.emptyBox=!0),onIonBlur:t[6]||(t[6]=e=>u.emptyBox=!1)},null,8,["modelValue"]),(0,o.Wm)(y,{slot:"error"},{default:(0,o.w5)((()=>[(0,o.Uk)("입력한 비밀번호와 일치하지 않습니다")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(b,{"is-open":u.emptyBox},null,8,["is-open"])])),_:1})):(0,o.kq)("",!0),(0,o.Wm)(A,null,{default:(0,o.w5)((()=>[(0,o._)("div",a,[(0,o.Wm)(U,{color:"secondary",expand:"block",size:"large",disabled:d.isValidateForm,onClick:d.changePw},{default:(0,o.w5)((()=>[(0,o.Uk)(" 비밀번호 변경 ")])),_:1},8,["disabled","onClick"])])])),_:1})])),_:1})}n(57658);var u=n(18903),d=n(28151),p=n(31405),c=n(29895),m=n(57806),w=n(76916);const h={name:"FindUserInfo",inject:["alertController"],components:{JoinTitle:p.Z,EmptyBox:w.Z},computed:{isValidateForm(){return 0===Object.keys(this.password).length||0===Object.keys(this.passwordCheck).length}},ionViewWillEnter(){this.findUserInfo()},mounted(){},data(){return{passwordType:"password",passwordIcon:u.YaL,password:"",passwordCheck:"",userEmail:"",userName:"",ci:"",emptyBox:!1}},methods:{findUserInfo(){const e=this;let t=null;e.token_version_id="";let n=c.dV.getPlatform().toString().toLowerCase();const o=()=>{t&&clearInterval(t),(0,d.gT)({url:"/join/getUserAuthData",param:{token_version_id:e.token_version_id},then:t=>{t.ci?(e.ci=t.ci,e.userName=t.name,(0,d.gT)({url:"/join/selectGetCerti",param:{ci:t.ci},then:n=>{"exist"===n.result?(e.userEmail=n.email,e.warningAlert("본인인증이 완료되었습니다.<br />이메일을 확인 후 비밀번호를 변경해주세요.")):"possible"===n.result&&(e.warningAlert("가입자 정보가 없습니다.<br />회원가입을 진행해 주세요."),(0,d._S)({item:t}),e.$router.push("/join")),m.A.removeAllListeners()}})):m.A.removeAllListeners()}})};(0,d.gT)({url:"/join/getNiceAPI",param:{},then:s=>{const l={url:`http://139.150.69.51:8034/join/startCerti.do?token_version_id=${encodeURIComponent(s.token_version_id)}&enc_data=${encodeURIComponent(s.enc_data)}&integrity_value=${encodeURIComponent(s.integrity_value)}&userAgent=${n}`};e.token_version_id=s.token_version_id,m.A.addListener("browserFinished",(()=>{o()}));m.A.open(l);"ios"!==n&&"web"!==n||t||(t=setInterval((()=>{(0,d.gT)({url:"/join/getUserAuthData",param:{token_version_id:e.token_version_id},then:e=>{e.ci&&m.A.close().then((()=>{o()}))}})}),1e3))}})},togglePasswordVisibility(){this.passwordType="password"===this.passwordType?"text":"password",this.passwordIcon=this.passwordIcon===u.YaL?u.iyy:u.YaL},updateProgressBar(){const e=document.querySelectorAll("ion-input");let t=0;e.forEach((e=>{""!==e.value.trim()&&t++}));const n=document.querySelector(".progress-bar"),o=t/e.length*15;n.style.width=o+"%"},async warningAlert(e){const t=await this.alertController.create({header:"",subHeader:"",message:e,buttons:["OK"]});return t.present()},checkPassword(){let e=!1;return this.password.trim().length>=8&&this.passwordCheck.trim().length>=8?this.password.toString()===this.passwordCheck.toString()?e=!0:this.warningAlert("비밀번호와 비밀번호 확인이 일치하지 않습니다."):this.warningAlert("비밀번호는 8자리이상 16자리 이하로 입력해야합니다."),e},changePw(){const e=this;if(this.isValidateForm)this.warningAlert("입력되지 않은값이 있습니다.<br /> 다시 확인해 주세요.");else if(this.checkPassword()){let t={};t.ci=this.ci,t.password=this.password,(0,d.gT)({url:"/join/findUserInfoUpdate",param:t,then:t=>{"N"===t.successYn?e.warningAlert(t.message):(e.warningAlert(t.message),e.$router.push("/login"))}})}}}};var g=n(83744);const _=(0,g.Z)(h,[["render",i]]),f=_}}]);
//# sourceMappingURL=1705-legacy.2da7c012.js.map