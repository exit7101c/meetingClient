"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[4633],{46986:(e,n,t)=>{t.d(n,{Z:()=>m});var s=t(66252);function a(e,n,a,l,o,i){const u=(0,s.up)("ion-img"),g=(0,s.up)("swiper-slide"),r=(0,s.up)("swiper");return(0,s.wg)(),(0,s.j4)(r,{modules:o.modules,pagination:{clickable:!0},"slides-per-view":1,autoplay:{delay:3e3,disableOnInteraction:!1},loop:!0},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(a.bannerList,((e,a)=>((0,s.wg)(),(0,s.j4)(g,{key:a},{default:(0,s.w5)((()=>[(0,s.Wm)(u,{src:""!=e.cdnNm&&null!=e.cdnNm?"https://"+e.cdnNm:t(7189),onIonError:n[0]||(n[0]=e=>e.srcElement.src=t(7189)),onClick:n=>i.routerPush(e.path)},null,8,["src","onClick"])])),_:2},1024)))),128))])),_:1},8,["modules"])}t(57658);var l=t(99304),o=t(57552),i=t(28151);const u={props:{bannerList:{type:Array}},components:{Swiper:o.tq,SwiperSlide:o.o5},data(){return{modules:[l.pt,l.tl,l.W_]}},created(){},methods:{routerPush(e){""!=e&&null!=e&&("/subscription"==e?((0,i.EY)({subscribeYn:"Y"}),this.$router.push("/store")):this.$router.push(e))}}};var g=t(83744);const r=(0,g.Z)(u,[["render",a],["__scopeId","data-v-3892aa20"]]),m=r},94633:(e,n,t)=>{t.r(n),t.d(n,{default:()=>W});var s=t(66252),a=t(3577);const l=e=>((0,s.dD)("data-v-61611e9e"),e=e(),(0,s.Cn)(),e),o={class:"sticky-top"},i={class:"ion-padding"},u={class:"text-center",style:{}},g=l((()=>(0,s._)("br",null,null,-1))),r=l((()=>(0,s._)("br",null,null,-1)));function m(e,n,t,l,m,c){const p=(0,s.up)("custom-header"),d=(0,s.up)("MainBanner"),h=(0,s.up)("ion-icon"),w=(0,s.up)("ion-text"),M=(0,s.up)("ion-chip"),f=(0,s.up)("ion-row"),_=(0,s.up)("ion-segment-button"),k=(0,s.up)("ion-segment"),b=(0,s.up)("ion-header"),y=(0,s.up)("ion-refresher-content"),C=(0,s.up)("ion-refresher"),W=(0,s.up)("ion-label"),v=(0,s.up)("ion-badge"),$=(0,s.up)("MessageItem"),I=(0,s.up)("ion-list"),j=(0,s.up)("ion-item"),B=(0,s.up)("ion-content"),L=(0,s.up)("ion-page");return(0,s.wg)(),(0,s.j4)(L,null,{default:(0,s.w5)((()=>[(0,s.Wm)(p,{"page-name":"Message"}),(0,s.Wm)(b,null,{default:(0,s.w5)((()=>[m.bannerList.length>0?((0,s.wg)(),(0,s.j4)(d,{key:0,bannerList:m.bannerList},null,8,["bannerList"])):(0,s.kq)("",!0),(0,s._)("div",o,[(0,s.Wm)(k,{mode:"ios",scrollable:!0,class:"segment-chip",onIonChange:c.changeSegment,value:m.segmentValue},{default:(0,s.w5)((()=>[(0,s.Wm)(_,{class:"segment-lg",value:"single"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{class:"ion-align-items-center ion-justify-content-center gap-sm flex-nowrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{icon:m.messageIcon},null,8,["icon"]),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Uk)("개인채팅")])),_:1}),c.messageBadgeCountSingle>0?((0,s.wg)(),(0,s.j4)(M,{key:0,class:"chip-sm shape-round chip-alarm"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(c.messageBadgeCountSingle>99?`${c.messageBadgeCountSingle}+`:c.messageBadgeCountSingle),1)])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(_,{class:"segment-lg",value:"openchat"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{class:"ion-align-items-center ion-justify-content-center gap-sm flex-nowrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{icon:m.opentChatOutline},null,8,["icon"]),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Uk)("오픈챗")])),_:1}),c.messageBadgeCountOpenChat>0?((0,s.wg)(),(0,s.j4)(M,{key:0,class:"chip-sm shape-round chip-alarm"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(c.messageBadgeCountOpenChat>99?`${c.messageBadgeCountOpenChat}+`:c.messageBadgeCountOpenChat),1)])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1}),(0,s.Wm)(_,{class:"segment-lg",value:"anonymous"},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{class:"ion-align-items-center ion-justify-content-center gap-sm flex-nowrap"},{default:(0,s.w5)((()=>[(0,s.Wm)(h,{icon:m.anonymousOutline},null,8,["icon"]),(0,s.Wm)(w,null,{default:(0,s.w5)((()=>[(0,s.Uk)("익명채팅")])),_:1}),c.messageBadgeCountAnonymous>0?((0,s.wg)(),(0,s.j4)(M,{key:0,class:"chip-sm shape-round chip-alarm"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(c.messageBadgeCountAnonymous>99?`${c.messageBadgeCountAnonymous}+`:c.messageBadgeCountAnonymous),1)])),_:1})):(0,s.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["onIonChange","value"])])])),_:1}),(0,s.Wm)(B,null,{default:(0,s.w5)((()=>[(0,s.Wm)(C,{slot:"fixed",onIonRefresh:n[0]||(n[0]=e=>c.doRefresh(e))},{default:(0,s.w5)((()=>[(0,s.Wm)(y,{"refreshing-spinner":"circles","pulling-icon":m.chevronDownCircleOutline},null,8,["pulling-icon"])])),_:1}),(0,s._)("div",i,[null!=c.messageMainMap[this.segmentValue]&&c.messageMainMap[this.segmentValue].length>0?((0,s.wg)(),(0,s.j4)(I,{key:0,lines:"full"},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(c.messageMainMap[this.segmentValue],(e=>((0,s.wg)(),(0,s.j4)($,{thumbnail:e.cdnThumbNm,key:e.chatroomId,onClick:n=>c.talk(e)},{content:(0,s.w5)((()=>[(0,s._)("h3",null,[(0,s.Wm)(w,{color:"light",class:"text-bold text-lg"},{default:(0,s.w5)((()=>[null!=e.title?((0,s.wg)(),(0,s.j4)(W,{key:0},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.title),1)])),_:2},1024)):((0,s.wg)(),(0,s.j4)(W,{key:1,style:{color:"#676767"}},{default:(0,s.w5)((()=>[(0,s.Uk)("대화상대가 없습니다.")])),_:1}))])),_:2},1024)]),(0,s._)("p",null,[(0,s.Wm)(w,{color:"light"},{default:(0,s.w5)((()=>[(0,s.Wm)(W,null,{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.lastChat),1)])),_:2},1024)])),_:2},1024)])])),count:(0,s.w5)((()=>[(0,s._)("p",null,[(0,s.Wm)(w,{color:"light",class:"text-sm"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.lastTimeMm),1)])),_:2},1024)]),(0,s._)("p",u,[0!==e.badgeCount?((0,s.wg)(),(0,s.j4)(v,{key:0,color:"secondary"},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e.badgeCount),1)])),_:2},1024)):(0,s.kq)("",!0)])])),_:2},1032,["thumbnail","onClick"])))),128))])),_:1})):((0,s.wg)(),(0,s.j4)(I,{key:1},{default:(0,s.w5)((()=>[(0,s.Wm)(j,{class:"no-comment",lines:"none"},{default:(0,s.w5)((()=>[(0,s.Wm)(W,null,{default:(0,s.w5)((()=>[(0,s._)("p",null,[(0,s.Wm)(h,{color:"light",size:"large",icon:m.messageIcon},null,8,["icon"])]),(0,s._)("p",null,[(0,s.Wm)(w,{color:"light",style:{"font-size":"16px"}},{default:(0,s.w5)((()=>[(0,s.Uk)("참여중인 대화방이 없어요😢"),g,(0,s.Uk)("초이스와 오픈챗을 통해"),r,(0,s.Uk)(" 소중한 사람들과 대화를 나눠보세요! ")])),_:1})])])),_:1})])),_:1})])),_:1}))])])),_:1})])),_:1})}t(57658);var c=t(28151);function p(e,n,a,l,o,i){const u=(0,s.up)("ion-img"),g=(0,s.up)("ion-thumbnail"),r=(0,s.up)("ion-label"),m=(0,s.up)("ion-item");return(0,s.wg)(),(0,s.j4)(m,null,{default:(0,s.w5)((()=>[(0,s.Wm)(g,{slot:"start"},{default:(0,s.w5)((()=>[null!==a.thumbnail?((0,s.wg)(),(0,s.j4)(u,{key:0,src:"https://"+a.thumbnail,onIonError:n[0]||(n[0]=e=>e.srcElement.src=t(7189))},null,8,["src"])):(0,s.kq)("",!0),null===a.thumbnail?((0,s.wg)(),(0,s.j4)(u,{key:1,src:"https://cmdg.speedycdn.net/202308/20230807145058_a09c4c1d-0775-4559-bb58-e1926296b702.jpeg",onIonError:n[1]||(n[1]=e=>e.srcElement.src=t(7189))},null,8,["src"])):(0,s.kq)("",!0)])),_:1}),(0,s.Wm)(r,null,{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"content",{},void 0,!0)])),_:3}),(0,s.Wm)(r,{class:"count",slot:"end"},{default:(0,s.w5)((()=>[(0,s.WI)(e.$slots,"count",{},void 0,!0)])),_:3})])),_:3})}const d={name:"MessageItem",props:{thumbnail:{type:String}}};var h=t(83744);const w=(0,h.Z)(d,[["render",p],["__scopeId","data-v-7252cf08"]]),M=w;var f=t(58982),_=t(97226),k=t(46986),b=t(18903);const y={name:"Message",components:{MessageItem:M,MainBanner:k.Z},data(){return{chevronDownCircleOutline:b.Au3,messageIcon:f,opentChatOutline:_,anonymousOutline:b.xJJ,messageMainList:[],bannerList:[],segmentValue:"single"}},computed:{messageMainMap(){return this.$store.state.messageMainMap},messageBadgeCountSingle(){let e=0;for(let n in this.$store.state.messageMainMap.single)this.$store.state.messageMainMap.single[n].badgeCount,this.$store.state.messageMainMap.single[n].badgeCount>0&&(e+=this.$store.state.messageMainMap.single[n].badgeCount);return e},messageBadgeCountOpenChat(){let e=0;for(let n in this.$store.state.messageMainMap.openchat)this.$store.state.messageMainMap.openchat[n].badgeCount,this.$store.state.messageMainMap.openchat[n].badgeCount>0&&(e+=this.$store.state.messageMainMap.openchat[n].badgeCount);return e},messageBadgeCountAnonymous(){let e=0;for(let n in this.$store.state.messageMainMap.anonymous)this.$store.state.messageMainMap.anonymous[n].badgeCount,this.$store.state.messageMainMap.anonymous[n].badgeCount>0&&(e+=this.$store.state.messageMainMap.anonymous[n].badgeCount);return e}},ionViewWillEnter(){this.getBannerList(),this.getMessageMainMap()},ionViewDidLeave(){},mounted(){},updated(){this.$nextTick((()=>{}))},methods:{doRefresh(e){this.getMessageMainMap(),setTimeout((()=>{e.target.complete()}),500)},talk(e){this.$nextTick((()=>{(0,c.UV)({chatroomId:e.chatroomId,type:"message",chatroomType:this.segmentValue}),this.$router.push("/messageTalk")}))},getMessageMainList(e){(0,c.Yu)({url:"/messageMain/getMessageMainList",param:{chatroomType:e},then:e=>{this.$nextTick((()=>{this.messageMainList=e,this.imgsLength=this.imgsLength+e.length}))}})},getMessageMainMap(){(0,c.Yu)({url:"/messageMain/getMessageMainMap",param:{},then:e=>{this.$nextTick((()=>{this.$store.state.messageMainMap=e}))}})},changeSegment(e){this.segmentValue=e.detail.value},getBannerList(){(0,c.Yu)({url:"/getBannerList",param:{bannerType:"MESSAGE"},then:e=>{this.$nextTick((()=>{this.bannerList=e}))}})}}},C=(0,h.Z)(y,[["render",m],["__scopeId","data-v-61611e9e"]]),W=C},7189:(e,n,t)=>{e.exports=t.p+"img/Loading_icon.f0448993.gif"}}]);
//# sourceMappingURL=4633-legacy.d157d3f9.js.map