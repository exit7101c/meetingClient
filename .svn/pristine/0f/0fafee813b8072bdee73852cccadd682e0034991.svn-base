"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[6399],{50799:(t,o,i)=>{i.d(o,{Z:()=>p});var n=i(66252),l=i(3577);const a={class:"row-box"};function s(e,t,o,i,s,r){const c=(0,n.up)("ion-title"),u=(0,n.up)("ion-toolbar"),d=(0,n.up)("ion-text"),p=(0,n.up)("ion-content"),m=(0,n.up)("ion-button"),f=(0,n.up)("ion-footer"),h=(0,n.up)("ion-page"),g=(0,n.up)("ion-img"),w=(0,n.up)("ion-checkbox"),_=(0,n.up)("ion-label"),k=(0,n.up)("ion-item"),y=(0,n.up)("ion-modal");return(0,n.wg)(),(0,n.j4)(y,{ref:"modal","is-open":o.isOpen,onIonModalDidDismiss:r.ionModalDidDismiss},{default:(0,n.w5)((()=>["IMG"!==o.contentType?((0,n.wg)(),(0,n.j4)(h,{key:0},{default:(0,n.w5)((()=>[(0,n.Wm)(u,null,{default:(0,n.w5)((()=>[(0,n.Wm)(c,{class:"text-lg"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(o.item.title),1)])),_:1})])),_:1}),(0,n.Wm)(p,{class:"ion-padding"},{default:(0,n.w5)((()=>[(0,n._)("div",a,[(0,n._)("p",null,[(0,n.Wm)(d,{color:"light",class:"text-md"},{default:(0,n.w5)((()=>[(0,n.Uk)((0,l.zw)(o.item.content),1)])),_:1})])])])),_:1}),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>[(0,n.Wm)(m,{color:"primary",size:"large",expand:"block",shape:"round",class:"close-button ion-activatable ripple-parent rounded-rectangle",onClick:r.ionModalDidDismiss},{default:(0,n.w5)((()=>[(0,n.Uk)(" 확인 ")])),_:1},8,["onClick"])])),_:1})])),_:1})):((0,n.wg)(),(0,n.j4)(h,{key:1},{default:(0,n.w5)((()=>[(0,n.Wm)(p,null,{default:(0,n.w5)((()=>[(0,n.Wm)(g,{src:"https://"+o.item.cdnNm},null,8,["src"])])),_:1}),(0,n.Wm)(f,null,{default:(0,n.w5)((()=>["home"===o.type?((0,n.wg)(),(0,n.j4)(k,{key:0,lines:"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{mode:"ios",slot:"start",modelValue:s.homeNotification,"onUpdate:modelValue":t[0]||(t[0]=e=>s.homeNotification=e)},null,8,["modelValue"]),(0,n.Wm)(_,null,{default:(0,n.w5)((()=>[(0,n.Uk)("다시 보지 않기")])),_:1})])),_:1})):(0,n.kq)("",!0),(0,n.Wm)(m,{color:"primary",size:"large",expand:"block",shape:"round",class:"close-button ion-activatable ripple-parent rounded-rectangle",onClick:r.ionModalDidDismiss},{default:(0,n.w5)((()=>[(0,n.Uk)(" 확인 ")])),_:1},8,["onClick"])])),_:1})])),_:1}))])),_:1},8,["is-open","onIonModalDidDismiss"])}i(57658),i(38862);var r=i(27783);const c={name:"NotificationModal.vue",components:{IonCheckbox:r.nz},props:{isOpen:{type:Boolean},type:{type:String},item:{type:Object},contentType:{type:String},sessionList:{type:Array}},data(){return{homeNotification:!1}},methods:{inputChange(){let t=JSON.parse(sessionStorage.getItem("sessionNoticeList"));if(e.detail.checked)null==t&&"array"!==typeof t&&(t=[]),t.push({articleKey:this.item.articleKey});else for(let e in t)t[e]["articleKey"]==this.item.articleKey&&t.splice(e,1);sessionStorage.setItem("sessionNoticeList",JSON.stringify(t)),console.log(JSON.stringify(sessionStorage.getItem("sessionNoticeList")))},ionModalDidDismiss(){this.$emit("ionModalDidDismiss"),this.$refs.modal.$el.dismiss()}}};var u=i(83744);const d=(0,u.Z)(c,[["render",s],["__scopeId","data-v-3a15970e"]]),p=d},6399:(e,t,o)=>{o.r(t),o.d(t,{default:()=>w});var i=o(66252),n=o(3577);function l(e,t,o,l,a,s){const r=(0,i.up)("BackButton"),c=(0,i.up)("ion-buttons"),u=(0,i.up)("ion-title"),d=(0,i.up)("ion-toolbar"),p=(0,i.up)("ion-header"),m=(0,i.up)("ion-refresher-content"),f=(0,i.up)("ion-refresher"),h=(0,i.up)("ion-text"),g=(0,i.up)("ion-label"),w=(0,i.up)("CustomAccordion"),_=(0,i.up)("ion-accordion-group"),k=(0,i.up)("NotificationModal"),y=(0,i.up)("ion-infinite-scroll-content"),I=(0,i.up)("ion-infinite-scroll"),W=(0,i.up)("ion-content"),N=(0,i.up)("ion-page");return(0,i.wg)(),(0,i.j4)(N,null,{default:(0,i.w5)((()=>[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,{class:"join-toolbar"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{slot:"start"},{default:(0,i.w5)((()=>[(0,i.Wm)(r)])),_:1}),(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Uk)("공지사항")])),_:1})])),_:1})])),_:1}),(0,i.Wm)(W,{class:"ion-padding"},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{slot:"fixed",onIonRefresh:t[0]||(t[0]=e=>s.doRefresh(e))},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{"refreshing-spinner":"circles","pulling-icon":a.chevronDownCircleOutline},null,8,["pulling-icon"])])),_:1}),(0,i.Wm)(_,null,{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(a.dataList,(e=>((0,i.wg)(),(0,i.j4)(w,{key:e.id,onItemClick:t=>s.modalAnn(e)},{header:(0,i.w5)((()=>[(0,i.Wm)(g,null,{default:(0,i.w5)((()=>[(0,i._)("h4",null,[(0,i.Wm)(h,{color:"light",class:"text-bold text-lg"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(e.title),1)])),_:2},1024)]),(0,i.Wm)(h,{color:"light",class:"text-sm"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,n.zw)(e.createdDtStr),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onItemClick"])))),128))])),_:1}),(0,i.Wm)(k,{"is-open":a.notificationModal,item:a.modalItem,contentType:a.modalItem.contentType,type:"announcement",onIonModalDidDismiss:t[1]||(t[1]=e=>a.notificationModal=!1)},null,8,["is-open","item","contentType"]),(0,i.Wm)(I,{disabled:a.isEndScroll,threshold:"100px",onIonInfinite:s.ionInfinite},{default:(0,i.w5)((()=>[(0,i.Wm)(y)])),_:1},8,["disabled","onIonInfinite"])])),_:1})])),_:1})}o(57658);var a=o(18903),s=o(27783),r=o(28151);function c(e,t,o,n,l,a){const s=(0,i.up)("ion-item"),r=(0,i.up)("ion-accordion");return(0,i.wg)(),(0,i.j4)(r,null,{default:(0,i.w5)((()=>[(0,i.Wm)(s,{slot:"header",onClick:a.clickModal},{default:(0,i.w5)((()=>[(0,i.WI)(e.$slots,"header",{},void 0,!0)])),_:3},8,["onClick"])])),_:3})}const u={name:" CustomAccordion",props:{item:{type:Object}},methods:{clickModal(){this.$emit("itemClick")}}};var d=o(83744);const p=(0,d.Z)(u,[["render",c],["__scopeId","data-v-237e8969"]]),m=p;var f=o(50799);const h={name:"NotificationAnnouncement",inject:["alertController"],components:{IonInfiniteScroll:s.ju,IonInfiniteScrollContent:s.MB,IonRefresher:s.nJ,IonRefresherContent:s.Wo,CustomAccordion:m,NotificationModal:f.Z},data(){return{chevronDownCircleOutline:a.Au3,dataList:[],pageNo:1,pageSize:30,currentPageNo:1,totalCount:0,isEndScroll:!1,notificationModal:!1,modalItem:""}},ionViewWillEnter(){this.getNoticeList()},ionViewDidLeave(){},methods:{modalAnn(e){this.modalItem=e,this.notificationModal=!0},async warningAlert(e){const t=await this.alertController.create({header:"",subHeader:"",message:e,buttons:["OK"]});return t.present()},getNoticeList(){this.pageNo=1,this.pageSize=9,this.currentPageNo=1,this.openChatList=[],this.totalCount=0,this.isEndScroll=!1,(0,r.Yu)({url:"/getNoticeList",param:{pageNo:this.pageNo,pageSize:this.pageSize},then:e=>{this.dataList=e.result,this.totalCount=e.totalCount}})},doRefresh(e){this.getNoticeList(),setTimeout((()=>{e.target.complete()}),500)},ionInfinite(e){let t=this;setTimeout((function(){t.pageNo=t.currentPageNo+1,(0,r.Yu)({url:"/getNoticeList",param:{pageNo:this.pageNo,pageSize:this.pageSize},then:e=>{for(let o in e.result)t.dataList.push(e.result[o]);t.currentPageNo+=1,t.$nextTick((()=>{t.dataList.length==t.totalCount&&(t.isEndScroll=!0)}))}}),e.target.complete()}),1e3)}}},g=(0,d.Z)(h,[["render",l],["__scopeId","data-v-246b3619"]]),w=g}}]);
//# sourceMappingURL=6399-legacy.5257a285.js.map