"use strict";(self["webpackChunknavy"]=self["webpackChunknavy"]||[]).push([[9937],{92576:(e,t,n)=>{n.d(t,{Z:()=>Y});var o=n(66252),i=n(3577);const a=e=>((0,o.dD)("data-v-65befd7d"),e=e(),(0,o.Cn)(),e),s={class:"content ion-padding"},l={class:"row-box"},r={class:"text-rank"},c={class:"text-xl"},h={class:"row-box"},u={class:"text-xs"},d=a((()=>(0,o._)("br",null,null,-1))),m={class:"text-sm"},p={class:"row-box"},g=a((()=>(0,o._)("br",null,null,-1))),C=a((()=>(0,o._)("br",null,null,-1))),f={class:"row-box"},k={class:"text-bold"};function w(e,t,n,a,w,y){const b=(0,o.up)("ion-title"),_=(0,o.up)("ion-icon"),v=(0,o.up)("custom-button"),I=(0,o.up)("ion-buttons"),Y=(0,o.up)("ion-toolbar"),W=(0,o.up)("ion-text"),D=(0,o.up)("ion-label"),T=(0,o.up)("ion-row"),U=(0,o.up)("ion-content"),x=(0,o.up)("ion-modal");return(0,o.wg)(),(0,o.j4)(x,{class:"custom-modal"},{default:(0,o.w5)((()=>[(0,o.Wm)(U,null,{default:(0,o.w5)((()=>[(0,o.Wm)(Y,{class:"layout-container"},{default:(0,o.w5)((()=>[(0,o.Wm)(b,{color:"warning"},{default:(0,o.w5)((()=>["N"==n.isBuffYn?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)(" 🔥")],64)):(0,o.kq)("",!0),(0,o.Uk)(" 현재 모임 순위 ")])),_:1}),(0,o.Wm)(I,{slot:"end"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{onClick:y.handleClose,class:"btn-close"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{slot:"icon-only",color:"secondary",icon:w.closeIcon},null,8,["icon"])])),_:1},8,["onClick"])])),_:1})])),_:1}),(0,o._)("div",s,[(0,o._)("div",l,[(0,o.Wm)(W,{color:"light",class:"text-bold"},{default:(0,o.w5)((()=>[(0,o._)("span",r,(0,i.zw)(n.openchatRank),1),(0,o._)("span",c,"/ "+(0,i.zw)(n.totalRoom),1)])),_:1})]),(0,o._)("div",h,[(0,o.Wm)(D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(W,{color:"warning",class:"text-bold"},{default:(0,o.w5)((()=>[(0,o._)("span",u,(0,i.zw)(n.useCnt)+"개 사용중",1),d,(0,o._)("span",m,(0,i.zw)(n.calTimeStr),1)])),_:1})])),_:1})]),(0,o._)("div",p,[(0,o._)("p",null,[(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[(0,o.Uk)("모임 부스트를 사용해서")])),_:1}),g,(0,o.Wm)(W,null,{default:(0,o.w5)((()=>[(0,o.Uk)("모임 순위를 높여보세요!")])),_:1}),C,(0,o.Wm)(W,{class:"text-sm"},{default:(0,o.w5)((()=>[(0,o.Uk)("(1시간 동안 모임 인기도 +100)")])),_:1})])]),(0,o._)("div",f,[(0,o.Wm)(v,{color:"primary",shape:"round",size:"large",expand:"block",onClick:y.handleClick,class:"btn-boost"},{default:(0,o.w5)((()=>[(0,o.Wm)(T,{class:"ion-align-items-center ion-justify-content-between"},{default:(0,o.w5)((()=>[(0,o.Wm)(W,{class:"text-sm"},{default:(0,o.w5)((()=>[(0,o.Uk)("남은 부스트 | "),(0,o._)("span",k,(0,i.zw)(n.coupon.quantity)+"개",1)])),_:1}),(0,o.Wm)(W,{class:"text-bold text-lg"},{default:(0,o.w5)((()=>[(0,o.Uk)("부스트 사용하기")])),_:1})])),_:1})])),_:1},8,["onClick"])])])])),_:1})])),_:1})}var y=n(18903),b=n(80857);const _={name:"CustomBoostModal",props:{coupon:{type:Object},isBuffYn:{type:String},openchatRank:{type:Number},totalRoom:{type:Number},useCnt:{type:Number},calTimeStr:{type:String}},data(){return{flameOutline:y.sz4,closeIcon:b}},methods:{handleClose(){this.$emit("close")},handleClick(){this.$emit("event")}}};var v=n(83744);const I=(0,v.Z)(_,[["render",w],["__scopeId","data-v-65befd7d"]]),Y=I},61061:(e,t,n)=>{n.d(t,{Z:()=>d});var o=n(66252),i=n(3577);function a(e,t,a,s,l,r){const c=(0,o.up)("ion-img"),h=(0,o.up)("ion-avatar"),u=(0,o.up)("ion-text"),d=(0,o.up)("ion-label"),m=(0,o.up)("ion-icon"),p=(0,o.up)("ion-fab-button"),g=(0,o.up)("ion-item");return(0,o.wg)(),(0,o.j4)(g,null,{default:(0,o.w5)((()=>[(0,o.Wm)(h,{slot:"start",onClick:r.handleClickItem},{default:(0,o.w5)((()=>[(0,o.Wm)(c,{src:l.isLoaded?"https://"+a.item.cdnThumbNm:n(7189),onIonImgDidLoad:r.handleImgloaded,onIonError:t[0]||(t[0]=e=>e.srcElement.src=n(7189))},null,8,["src","onIonImgDidLoad"])])),_:1},8,["onClick"]),(0,o.Wm)(d,{onClick:r.handleClickItem},{default:(0,o.w5)((()=>[(0,o._)("h3",null,[(0,o.Wm)(u,{color:"light"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(a.item.nick),1)])),_:1})])])),_:1},8,["onClick"]),(0,o.Wm)(p,{color:"danger",size:"small",onClick:r.handleClickOk,class:"btn-cancel"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{color:"light",icon:l.checkIcon},null,8,["icon"])])),_:1},8,["onClick"]),(0,o.Wm)(p,{color:"success",size:"small",onClick:r.handleClickCancel,class:"btn-ok"},{default:(0,o.w5)((()=>[(0,o.Wm)(m,{color:"light",icon:l.closeIcon},null,8,["icon"])])),_:1},8,["onClick"])])),_:1})}var s=n(28151),l=n(80857),r=n(83105);const c={name:"OpenChatViewAttendItem",props:{item:{type:Object}},computed:{},data(){return{closeIcon:l,checkIcon:r,API_BASE_URL:s.CT,isLoaded:!1}},methods:{handleImgloaded(){this.isLoaded=!0},handleClickItem(){this.$emit("event")},handleClickOk(){this.$emit("ok")},handleClickCancel(){this.$emit("cancel")}}};var h=n(83744);const u=(0,h.Z)(c,[["render",a],["__scopeId","data-v-4654e354"]]),d=u},20362:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(66252);function i(e,t,n,i,a,s){const l=(0,o.up)("ion-text"),r=(0,o.up)("ion-list-header"),c=(0,o.up)("ion-list");return(0,o.wg)(),(0,o.j4)(c,{lines:"full"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,null,{default:(0,o.w5)((()=>[(0,o.Wm)(l,{color:"light",class:"text-md"},{default:(0,o.w5)((()=>[(0,o.Uk)("참여 신청자")])),_:1})])),_:1}),(0,o.WI)(e.$slots,"content",{},void 0,!0)])),_:3})}const a={name:"OpenChatAttendList"};var s=n(83744);const l=(0,s.Z)(a,[["render",i],["__scopeId","data-v-013f53fc"]]),r=l},67914:(e,t,n)=>{n.d(t,{Z:()=>h});var o=n(66252),i=n(3577);const a=["src"];function s(e,t,s,l,r,c){const h=(0,o.up)("ion-avatar"),u=(0,o.up)("ion-text"),d=(0,o.up)("ion-chip"),m=(0,o.up)("ion-row"),p=(0,o.up)("ion-label"),g=(0,o.up)("ion-item");return(0,o.wg)(),(0,o.j4)(g,{lines:"none",onClick:c.handleClick},{default:(0,o.w5)((()=>[(0,o.Wm)(h,{slot:"start"},{default:(0,o.w5)((()=>[(0,o._)("img",{src:"https://"+s.thumbnail,"on:ionError":t[0]||(t[0]=e=>e.srcElement.src=n(7189)),alt:""},null,40,a)])),_:1}),(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[(0,o.Wm)(m,null,{default:(0,o.w5)((()=>[(0,o.Wm)(u,{color:"light",class:"text-lg"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(s.user.nick),1)])),_:1}),(0,o.Wm)(d,{class:"chip-sm chip-secondary"},{default:(0,o.w5)((()=>[(0,o.Uk)("프로필 보기")])),_:1})])),_:1})])),_:1}),(0,o.Wm)(u,{color:"light",class:"text-xs"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(s.regDate)+" · 읽음 "+(0,i.zw)(s.user.viewCnt),1)])),_:1})])),_:1},8,["onClick"])}const l={name:"OpenChatViewUserInfo",props:{thumbnail:{type:String},user:{type:Object},regDate:{type:String}},methods:{handleClick(){this.$emit("event")}}};var r=n(83744);const c=(0,r.Z)(l,[["render",s],["__scopeId","data-v-3fbeb24b"]]),h=c},2982:(e,t,n)=>{n.d(t,{Z:()=>r});var o=n(66252);function i(e,t,n,i,a,s){const l=(0,o.up)("ion-spinner");return(0,o.wg)(),(0,o.j4)(l,{name:"lines"})}const a={name:"PageLoadingCheck"};var s=n(83744);const l=(0,s.Z)(a,[["render",i]]),r=l},49937:(e,t,n)=>{n.r(t),n.d(t,{default:()=>U});var o=n(66252),i=n(3577);const a={class:"row-box"},s={class:"row-box"},l={key:0,class:"row-box"},r={key:1,class:"row-box"},c={key:0,style:{"font-size":"12px",color:"#336dff"}},h={key:1,style:{"font-size":"12px",color:"#f63d3d"}},u={key:2,class:"row-box"},d={key:0,style:{"font-size":"12px"}},m={key:1,style:{"font-size":"12px",color:"#f1f157"}},p={class:"row-box"},g={class:"row-box"};function C(e,t,C,f,k,w){const y=(0,o.up)("BackButton"),b=(0,o.up)("ion-buttons"),_=(0,o.up)("ion-title"),v=(0,o.up)("ion-icon"),I=(0,o.up)("custom-button"),Y=(0,o.up)("ion-item"),W=(0,o.up)("ion-list"),D=(0,o.up)("ion-content"),T=(0,o.up)("ion-popover"),U=(0,o.up)("ion-toolbar"),x=(0,o.up)("ion-header"),O=(0,o.up)("PageLoadingCheck"),$=(0,o.up)("OpenChatViewUserInfo"),K=(0,o.up)("ion-img"),N=(0,o.up)("ion-text"),R=(0,o.up)("ion-chip"),M=(0,o.up)("ion-label"),z=(0,o.up)("ion-row"),j=(0,o.up)("OpenChatViewAttendItem"),L=(0,o.up)("OpenChatViewAttendList"),B=(0,o.up)("ion-toggle"),A=(0,o.up)("CustomCardItem"),S=(0,o.up)("CustomBoostModal"),E=(0,o.up)("ion-col"),P=(0,o.up)("ion-grid"),V=(0,o.up)("ion-footer"),H=(0,o.up)("ion-page");return(0,o.wg)(),(0,o.j4)(H,null,{default:(0,o.w5)((()=>[(0,o.Wm)(x,null,{default:(0,o.w5)((()=>[(0,o.Wm)(U,null,{default:(0,o.w5)((()=>[(0,o.Wm)(b,{slot:"start"},{default:(0,o.w5)((()=>[(0,o.Wm)(y,{onEvent:w.prevPage,custom:!0},null,8,["onEvent"])])),_:1}),(0,o.Wm)(_,null,{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(k.chatDetailMap.partitionNm),1)])),_:1}),(0,o.Wm)(b,{slot:"end"},{default:(0,o.w5)((()=>[(0,o.Wm)(I,{id:"openChat-popover-button"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{slot:"icon-only",icon:k.menuIcon,color:"light"},null,8,["icon"])])),_:1}),(0,o.Wm)(T,{trigger:"openChat-popover-button","dismiss-on-select":!0,mode:"ios"},{default:(0,o.w5)((()=>[(0,o.Wm)(D,null,{default:(0,o.w5)((()=>[(0,o.Wm)(W,{lines:"full"},{default:(0,o.w5)((()=>["Y"===k.ssUserYn?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Wm)(Y,{button:!0,detail:!1,onClick:t[0]||(t[0]=e=>w.editOpenChat(k.chatDetailMap))},{default:(0,o.w5)((()=>[(0,o.Uk)("수정 ")])),_:1}),(0,o.Wm)(Y,{button:!0,detail:!1,onClick:t[1]||(t[1]=e=>w.presentAlertConfirm())},{default:(0,o.w5)((()=>[(0,o.Uk)("삭제 ")])),_:1})],64)):((0,o.wg)(),(0,o.j4)(Y,{key:1,button:!0,detail:!1,onClick:w.policeBtn},{default:(0,o.w5)((()=>[(0,o.Uk)("신고 ")])),_:1},8,["onClick"]))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1}),!0===k.openChatLodingCheck?((0,o.wg)(),(0,o.j4)(D,{key:0,class:"ion-padding"},{default:(0,o.w5)((()=>[!1!==k.lodingCheck?((0,o.wg)(),(0,o.j4)(O,{key:0,style:{position:"fixed",top:"48%",left:"48%","z-index":"9999"}})):(0,o.kq)("",!0),(0,o.Wm)($,{user:k.chatDetailMap,"reg-date":k.regDate,thumbnail:k.cdnThumbNmProfile,onEvent:t[2]||(t[2]=e=>w.profileInfo(this.regUserKey))},null,8,["user","reg-date","thumbnail"]),(0,o._)("div",null,[(0,o.Wm)(K,{src:""!==k.cdnNm?"https://"+k.cdnNm:n(7189),onIonError:t[3]||(t[3]=e=>e.srcElement.src=n(7189))},null,8,["src"]),(0,o._)("div",a,[(0,o.Wm)(z,{class:"ion-align-items-center ion-justify-content-between"},{default:(0,o.w5)((()=>[(0,o.Wm)(N,{color:"light",class:"text-xl text-bold"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(k.chatDetailMap.title),1)])),_:1}),(0,o.Wm)(M,{onClick:w.openUseOpenChatModal},{default:(0,o.w5)((()=>[(0,o.Wm)(R,{class:"chip-sm chip-secondary"},{default:(0,o.w5)((()=>[(0,o.Uk)("🔥현재 "+(0,i.zw)(k.openchatRank)+"위 모임 ",1)])),_:1})])),_:1},8,["onClick"])])),_:1})]),(0,o._)("div",s,[(0,o._)("p",null,[(0,o.Wm)(N,{color:"light",class:"text-md"},{default:(0,o.w5)((()=>[(0,o.Uk)((0,i.zw)(k.chatDetailMap.content),1)])),_:1})])]),k.chatDetailMap.regUserKey===k.chatDetailMap.ssUserKey?((0,o.wg)(),(0,o.iD)("div",l,[(0,o.Wm)(L,null,{content:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(k.attendInfoList,((e,t)=>((0,o.wg)(),(0,o.j4)(j,{key:t,item:e,onEvent:t=>w.profileInfo(e.userKey),onOk:t=>w.agreeYn("Y",e.userKey),onCancel:t=>w.agreeYn("N",e.userKey)},null,8,["item","onEvent","onOk","onCancel"])))),128))])),_:1})])):(0,o.kq)("",!0),k.chatDetailMap.regUserKey===k.chatDetailMap.ssUserKey?((0,o.wg)(),(0,o.iD)("div",r,[(0,o.Wm)(A,{clear:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(M,null,{default:(0,o.w5)((()=>[(0,o.Wm)(z,{class:"gap-md ion-align-items-center",style:{"text-align":"center !important"}},{default:(0,o.w5)((()=>[(0,o.Wm)(N,{color:"light"},{default:(0,o.w5)((()=>[1==k.privateYn?((0,o.wg)(),(0,o.iD)("span",c," 오픈채팅 활성화 상태 ")):((0,o.wg)(),(0,o.iD)("span",h," 오픈채팅 비활성화 상태 "))])),_:1})])),_:1}),(0,o.Wm)(B,{slot:"end",mode:"ios",style:{position:"absolute",right:"5px",top:"2px"},checked:k.privateYn,onClick:t[4]||(t[4]=e=>w.setCheckPrivateYn(e))},null,8,["checked"])])),_:1})])),_:1})])):(0,o.kq)("",!0),k.recentTime?((0,o.wg)(),(0,o.iD)("div",u,[(0,o.Wm)(A,{clear:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(M,null,{default:(0,o.w5)((()=>[(0,o.Wm)(z,{class:"gap-md ion-align-items-center",style:{"text-align":"center !important"}},{default:(0,o.w5)((()=>[(0,o.Wm)(N,{color:"light"},{default:(0,o.w5)((()=>["방금 전"!=k.recentTime?((0,o.wg)(),(0,o.iD)("span",d," 방장이 "+(0,i.zw)(k.recentTime)+" 마지막으로 활동했습니다. ",1)):((0,o.wg)(),(0,o.iD)("span",m," 방장이 현재 활동 중 입니다 "))])),_:1})])),_:1})])),_:1})])),_:1})])):(0,o.kq)("",!0),(0,o._)("div",p,[(0,o.Wm)(A,{clear:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(M,null,{default:(0,o.w5)((()=>[(0,o.Wm)(z,{class:"gap-md ion-align-items-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{color:"secondary",icon:k.calendarIcon},null,8,["icon"]),(0,o.Wm)(N,{color:"light"},{default:(0,o.w5)((()=>["상시 모집"===k.dueDate?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)((0,i.zw)(k.dueDate),1)],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,i.zw)(k.chatDetailMap.dueDate)+"   "+(0,i.zw)(k.dueDate),1)],64))])),_:1})])),_:1})])),_:1})])),_:1})]),(0,o._)("div",g,[(0,o.Wm)(A,{clear:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(M,null,{default:(0,o.w5)((()=>[(0,o.Wm)(z,{class:"gap-md ion-align-items-center"},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{color:"secondary",icon:k.locationOutline},null,8,["icon"]),(0,o.Wm)(N,{color:"light"},{default:(0,o.w5)((()=>[""===k.chatDetailMap.location?((0,o.wg)(),(0,o.iD)(o.HY,{key:0},[(0,o.Uk)(" 아직 장소가 정해지지 않았어요! ")],64)):((0,o.wg)(),(0,o.iD)(o.HY,{key:1},[(0,o.Uk)((0,i.zw)(k.chatDetailMap.location),1)],64))])),_:1})])),_:1})])),_:1})])),_:1})])]),(0,o.Wm)(S,{"is-open":k.boostModal,isBuffYn:k.isBuffYn,coupon:k.coupon,openchatRank:k.openchatRank,totalRoom:k.totalRoom,useCnt:k.useCnt,calTimeStr:k.calTimeStr,onIonModalDidDismiss:w.boostModalClose,onClose:w.boostModalClose,onEvent:w.useOpenChatBoost},null,8,["is-open","isBuffYn","coupon","openchatRank","totalRoom","useCnt","calTimeStr","onIonModalDidDismiss","onClose","onEvent"])])),_:1})):(0,o.kq)("",!0),!1===k.openChatLodingCheck?((0,o.wg)(),(0,o.j4)(D,{key:1,disabled:!0},{default:(0,o.w5)((()=>[(0,o.Wm)(O,{style:{display:"flex","align-items":"center","justify-content":"center",margin:"0 auto",height:"100%"}})])),_:1})):(0,o.kq)("",!0),(0,o.Wm)(V,null,{default:(0,o.w5)((()=>[(0,o.Wm)(P,null,{default:(0,o.w5)((()=>[(0,o.Wm)(z,null,{default:(0,o.w5)((()=>[(0,o.Wm)(E,{size:"3"},{default:(0,o.w5)((()=>[(0,o.Wm)(I,{onClick:w.eyeOn,size:"large",expand:"block",fill:"Y"===k.bookmarkYn?"solid":"outline",color:"Y"===k.bookmarkYn?"primary":"secondary",disabled:!k.bookmarkCheckDisabled},{default:(0,o.w5)((()=>[(0,o.Wm)(v,{icon:k.heartOutline,size:"large",color:"light"},null,8,["icon"])])),_:1},8,["onClick","fill","color","disabled"])])),_:1}),(0,o.Wm)(E,{size:"9"},{default:(0,o.w5)((()=>["Y"===k.ssUserYn?((0,o.wg)(),(0,o.j4)(I,{key:0,onClick:w.joinIn,size:"large",expand:"block",color:"primary",disabled:!k.joinInCheckDisabled},{default:(0,o.w5)((()=>[(0,o.Uk)(" 대화하기 ")])),_:1},8,["onClick","disabled"])):"ATTEND"===k.attendChk?((0,o.wg)(),(0,o.j4)(I,{key:1,onClick:w.joinIn,size:"large",expand:"block",color:"primary",disabled:!k.joinInCheckDisabled},{default:(0,o.w5)((()=>[(0,o.Uk)(" 대화하기 ")])),_:1},8,["onClick","disabled"])):"Y"===k.inviteYn&&""!==k.attendRegTime&&"NOTATTEND"===k.attendChk&&"N"!==k.attendYn?((0,o.wg)(),(0,o.j4)(I,{key:2,class:"footerBtn1",onClick:w.joinIn,size:"large",expand:"block",color:"danger",disabled:!k.joinInCheckDisabled},{default:(0,o.w5)((()=>[(0,o.Uk)(" 취소할래요 ")])),_:1},8,["onClick","disabled"])):((0,o.wg)(),(0,o.j4)(I,{key:3,onClick:w.joinIn,size:"large",expand:"block",color:"secondary",disabled:!k.joinInCheckDisabled},{default:(0,o.w5)((()=>[(0,o.Uk)(" 참여하기 ")])),_:1},8,["onClick","disabled"]))])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})}n(57658),n(38862);var f=n(18903),k=n(28151),w=n(67914),y=n(92576),b=n(69391),_=n(2982),v=n(23265),I=n(20362),Y=n(61061);const W={name:"OpenChatView",inject:["alertController","loadingController"],components:{OpenChatViewUserInfo:w.Z,PageLoadingCheck:_.Z,CustomBoostModal:y.Z,OpenChatViewAttendItem:Y.Z,OpenChatViewAttendList:I.Z},ionViewWillEnter(){this.openChatLodingCheck=!1,"doRefresh"===this.$route.params.routerType&&this.beforeReset(),this.getOpenChatDetail(),this.getAttendInfo()},ionViewDidLeave(){clearInterval(this.interval),clearInterval(this.interval2)},data(){return{menuIcon:v,locationOutline:f.Iv7,calendarIcon:b,starOutline:f.i6c,ellipsisVertical:f.LHl,heartOutline:f.gjX,flameOutline:f.sz4,chatDetailMap:{},bookmarkYn:"",msg:"",regDate:"",dueDate:"",inviteYn:"",ssUserYn:"",mainFileId:"",isPopover:!1,regUserKey:"",userPhotoId:"",attendYn:"",chatroomId:"",loading:null,attendChk:"",leaderConfirmYn:"",attendRegTime:"",recentTime:"",coupon:"",useType:"",boostModal:!1,isBuffYn:"N",remainingTime:"",remainingTimeStr:"",interval:null,interval2:null,calTimeStr:"00:00:00",openchatRank:"",totalRoom:"",useCnt:"0",itemList:"",cdnNm:"",cdnThumbNm:"",cdnThumbNmProfile:"",lodingCheck:!1,openChatLodingCheck:!1,attendInfoList:[],bookmarkCheckDisabled:!0,joinInCheckDisabled:!0,loadingTime:500,privateYn:""}},methods:{getRecentDate(e){const t=new Date,n=new Date(e),o=Math.floor((t.getTime()-n.getTime())/1e3/60);if(o<1)return"방금 전";if(o<60)return`${o}분 전`;const i=Math.floor(o/60);if(i<24)return`${i}시간 전`;const a=Math.floor(o/60/24);return a<365?`${a}일 전`:`${Math.floor(a/365)}년 전`},dismiss(){this.$refs.modal.$el.dismiss()},beforeReset(){this.chatDetailMap={},this.userPhotoId="",this.mainFileId="",clearInterval(this.interval),clearInterval(this.interval2),this.isBuffYn="N",this.remainingTime="",this.remainingTimeStr="",this.calTimeStr="00:00:00",this.openchatRank="",this.totalRoom="",this.useCnt="0"},setCheckPrivateYn(e){this.showLoading(),(0,k.Yu)({url:"/setCheckPrivateYn",param:{privateYn:"true"==e.target.ariaChecked?"N":"Y",openChatKey:k.$h.openChatKey},then:e=>{console.log(e),console.log(e),console.log(e),"N"===e.successYn?this.warningAlert(e.message):this.privateYn="Y"==e.privateYn,setTimeout((()=>{this.loading.dismiss()}),500)}})},getOpenChatDetail(){let e=!1,t=sessionStorage.getItem("articleViewList"),n=new Date,o=new Date;t=t?JSON.parse(t):[];for(let i in t){t[i]["openChatKey"]===k.$h.openChatKey&&(e=!0);let n=(o.getTime()-new Date(t[i]["time"]).getTime())/6e4;n>1440&&t.splice(i,1)}e||(t.push({openChatKey:k.$h.openChatKey,time:n}),sessionStorage.setItem("articleViewList",JSON.stringify(t))),(0,k.Yu)({url:"/getOpenChatDetail",param:{openChatKey:k.$h.openChatKey,viewAddYn:e?"Y":"N"},then:e=>{this.itemList=e,this.regDate=e.regDateStr,this.dueDate=e.dueDateStr,this.inviteYn="N"===e.attenderCancelYn?"Y":"N",this.bookmarkYn=e.bookmarkYn,this.chatDetailMap=e,this.ssUserYn=e.ssUserKey===e.regUserKey?"Y":"N",this.regUserKey=e.regUserKey,this.mainFileId=e.mainFileId,this.attendYn=e.attendYn,this.chatroomId=e.chatroomId,this.attendChk=e.attendChk,this.leaderConfirmYn=e.leaderConfirmYn,this.attendRegTime=e.attendRegTime,this.openchatRank=e.openchatRank,this.totalRoom=e.totalRoom,this.useCnt=e.useCnt,this.cdnNm=e.cdnNm,this.cdnThumbNm=e.cdnThumbNm,this.privateYn="Y"===e.privateYn,this.recentTime=this.getRecentDate(e.recentTime),this.$nextTick((()=>{this.getUserInfo()}))}})},getAttendInfo(){(0,k.Yu)({url:"/getAttendInfo",param:{openChatKey:k.$h.openChatKey},then:e=>{this.attendInfoList=e,this.$nextTick((()=>{this.getUserInfo()}))}})},agreeYn(e,t){this.showLoading(),(0,k.Yu)({url:"/updateOpenChatAttendYn",param:{openChatKey:k.$h.openChatKey,userKey:t,type:e,fileId:0},then:e=>{"Y"===e.successYn?"Y"===e.confirmYn?this.warningAlert("수락 처리 되었습니다"):this.warningAlert("거절 처리 되었습니다"):this.warningAlert(e.message),this.loading.dismiss(),this.$nextTick((()=>{this.getAttendInfo()}))}})},getUserInfo(){alert,(0,k.Yu)({url:"/getUserInfo",param:{regUserKey:this.regUserKey},then:e=>{this.userPhotoId=e.userPhotoId,this.cdnThumbNmProfile=e.cdnThumbNm,this.openChatLodingCheck=!0,this.$nextTick((()=>{this.getUserCouponDataOne()}))}})},prevPage(){this.beforeReset(),"openChat"===k.$h.type?this.$router.push("/openChat"):"myOpenChat"===k.$h.type?this.$router.push("/myOpenChat"):"home"===k.$h.type?this.$router.push("/home"):"openChatMap"===k.$h.type?((0,k.pR)({type:"openChatView",modal:"open",item:k.$h.mpaInfo}),this.$router.push("/openChatMap")):this.$router.push("/openChat")},eyeOn(){this.showLoading(),this.bookmarkCheckDisabled=!1,(0,k.Yu)({url:"/setOpenChatBookmark",param:{openChatKey:k.$h.openChatKey},then:e=>{this.bookmarkYn=e.bookmarkYn,this.msg=e.message,setTimeout((()=>{this.loading.dismiss(),this.bookmarkCheckDisabled=!0}),this.loadingTime)}})},joinIn(){"Y"===this.attendYn||"Y"===this.ssUserYn?((0,k.UV)({chatroomId:this.chatroomId,type:"openChat"}),this.$router.push("/messageTalk")):(this.showLoading(),this.joinInCheckDisabled=!1,(0,k.Yu)({url:"/setOpenChatInvite",param:{openChatKey:k.$h.openChatKey},then:e=>{this.inviteYn=e.inviteYn,setTimeout((()=>{this.loading.dismiss(),this.joinInCheckDisabled=!0}),this.loadingTime)}}))},profileInfo(e){(0,k.PC)({userKey:e,type:"openChatView"}),this.$router.push("/dailyCardInfo")},editOpenChat(e){(0,k.JU)({openChatKey:k.$h.openChatKey,type:"edit",item:e}),this.$router.push("/openChatWrite")},async presentAlertConfirm(){const e=await this.alertController.create({header:"",message:"삭제하시겠습니까?",buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"삭제",handler:()=>{(0,k.Yu)({url:"/",param:{openChatKey:k.$h.openChatKey},then:()=>{}}),this.presentAlert("삭제되었습니다."),this.$router.go(-1)}}]});return e.present()},policeBtn(){let e=this.chatDetailMap.regUserKey;(0,k.IB)({targetId:e,type:"openChatView",targetKey:k.$h.openChatKey}),this.$router.push("/police")},async presentAlert(e){const t=await this.alertController.create({header:"",message:e,buttons:[{text:"OK",role:"Okay",handler:()=>{}}]});return t.present()},getUserCouponDataOne(){let e="CU008";(0,k.Yu)({url:"/getUserCouponDataOne",param:{couponCd:e},then:e=>{this.coupon=e,this.coupon.quantity>0?this.useType="COUPON":this.useType="HEART"}})},openUseOpenChatModal(){this.getBuffUsingInfo(),this.getUserCouponDataOne(),clearInterval(this.interval2),this.interval2=setInterval((()=>{this.getBuffUsingInfo(),this.getUserCouponDataOne()}),1e4),this.boostModal=!0},boostModalClose(){clearInterval(this.interval2),this.boostModal=!1},useOpenChatBoost(){let e="사용하시겠습니까?";0===this.coupon.quantity&&(e="구매 후 사용하시겠습니까?");const t=()=>{(0,k.Yu)({url:"/useOpenChatBoost",param:{couponCd:"CU008",useType:this.useType,itemCd:"HEART"===this.useType?"IT008_01":"",pointCd:"HEART"===this.useType?"BUY":"",openChatKey:k.$h.openChatKey},then:e=>{"N"===e.successYn||"NH"===e.successYn||"NE"===e.successYn?this.warningAlertNH(e.message):(this.warningAlert(e.message),this.getBuffUsingInfo(),this.getUserCouponDataOne(),clearInterval(this.interval2),this.interval2=setInterval((()=>{this.getBuffUsingInfo(),this.getUserCouponDataOne()}),1e4))}})};this.warningConfirm(e,t)},getBuffUsingInfo(){(0,k.Yu)({url:"/getBuffUsingInfo",param:{couponCd:"CU008",openChatKey:k.$h.openChatKey},then:e=>{this.isBuffYn=e.isBuffYn,this.remainingTime=e.remainingTime,this.remainingTimeStr=e.remainingTimeStr,this.useCnt=e.useCnt,this.openchatRank=e.openchatRank,this.totalRoom=e.totalRoom,this.$nextTick((()=>{clearInterval(this.interval),this.timeCal(),this.interval=setInterval((()=>{"Y"===this.isBuffYn&&this.timeCal()}),1e3)}))}})},timeCal(){let e,t,n;e=parseInt(this.remainingTime/3600),t=parseInt(this.remainingTime%3600/60),n=this.remainingTime%60,1===e.toString().length&&(e="0"+e),1===t.toString().length&&(t="0"+t),1===n.toString().length&&(n="0"+n),this.remainingTime>0?this.remainingTime=this.remainingTime-1:(this.remainingTime=0,clearInterval(this.interval),this.isBuffYn="N"),this.calTimeStr=e+":"+t+":"+n},async warningAlert(e){const t=await this.alertController.create({header:"",subHeader:"",message:e,buttons:["OK"]});return t.present()},async warningConfirm(e,t){const n=await this.alertController.create({header:"",subHeader:"",message:e,buttons:[{text:"아니요",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"네",handler:()=>{t()}}]});return n.present()},async warningAlertNH(e){const t=await this.alertController.create({header:"",subHeader:"",message:e,buttons:[{text:"취소",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"이동",handler:()=>{this.$router.push("/store"),this.boostModal=!1}}]});return t.present()},async showLoading(){this.loading=await this.loadingController.create({message:"Loading...",duration:0}),await this.loading.present()}}};var D=n(83744);const T=(0,D.Z)(W,[["render",C]]),U=T},69391:(e,t,n)=>{e.exports=n.p+"img/icon_cal_check.cc3a33f3.svg"},83105:(e,t,n)=>{e.exports=n.p+"img/icon_check.803ad7bb.svg"},80857:(e,t,n)=>{e.exports=n.p+"img/icon_close.b83d5091.svg"},23265:(e,t,n)=>{e.exports=n.p+"img/icon_menu.c109343d.svg"},7189:(e,t,n)=>{e.exports=n.p+"img/Loading_icon.f0448993.gif"}}]);
//# sourceMappingURL=9937.198c76bf.js.map